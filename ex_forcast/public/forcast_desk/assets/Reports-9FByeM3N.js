var dr=Object.defineProperty;var Ht=Object.getOwnPropertySymbols;var ir=Object.prototype.hasOwnProperty,ur=Object.prototype.propertyIsEnumerable;var Wt=(v,f,_)=>f in v?dr(v,f,{enumerable:!0,configurable:!0,writable:!0,value:_}):v[f]=_,Lt=(v,f)=>{for(var _ in f||(f={}))ir.call(f,_)&&Wt(v,_,f[_]);if(Ht)for(var _ of Ht(f))ur.call(f,_)&&Wt(v,_,f[_]);return v};var H=(v,f,_)=>new Promise((F,h)=>{var p=m=>{try{k(_.next(m))}catch(x){h(x)}},S=m=>{try{k(_.throw(m))}catch(x){h(x)}},k=m=>m.done?F(m.value):Promise.resolve(m.value).then(p,S);k((_=_.apply(v,f)).next())});import{_ as Vt,c as o,o as r,b as e,e as P,u as V,X as br,K as Nt,l as pe,q as Q,p as et,m as It,h as q,v as c,F as a,x as g,j as ct,d as U,i as D,n as cr,J as gr,L as xr,w as Kt,B as $t,N as Ot,M as Xt,O as pr,T as Qt}from"./index-DFp4WPHj.js";import{a as Bt,u as Ut,C as fr}from"./useCalculationCache-BtZyymO0.js";import{D as jt,f as sr,C as qt,j as At,c as ae,_ as hr,k as mr,R as Zt,a as kr,T as er,h as vr,S as yr,X as _r,b as wr,d as Rr}from"./SettingsModal-D-D5AQet.js";import{_ as $r}from"./ReportsNoProjectSelectedState-DfhGwJYP.js";import{E as Ar}from"./ExpenseErrorState-CH34bZk9.js";import{F as Dt,U as Jt}from"./utensils-BS5PlBLJ.js";import{B as Er}from"./building-C8CEir6l.js";import{H as Fr}from"./heart-C-9iq1Q_.js";import{T as Sr}from"./trending-up-5xBiwLrZ.js";import{c as Gt}from"./createLucideIcon-D8X7RiyU.js";import{b as Cr,i as tr,a as Yr}from"./advanced_settings-BeZtrwoj.js";import{b as Tr,c as Or}from"./data_service-BOTCsL4b.js";import{a as nr,C as Dr}from"./circle-alert-CbaxY-0D.js";import{g as rr}from"./get_restaurants-BKN9puJO.js";import{C as Pr}from"./coffee-CR-EMVx8.js";import{U as Vr}from"./users-C0x0nMQM.js";import"./payroll_data_service-AdR1_91F.js";import{D as or}from"./zap-BeFUdqHw.js";import{L as Br}from"./loader-circle-jaT7itjR.js";import{P as Mr}from"./plus-Q6-mjf1P.js";import"./arrow-left-CHuuvpyq.js";/**
 * @license lucide-vue-next v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lr=Gt("printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);/**
 * @license lucide-vue-next v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jr=Gt("scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-vue-next v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jr=Gt("wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]),Nr={class:"bg-white/90 rounded-xl p-6 border border-violet-100 shadow-sm"},Ir={class:"text-center mb-6"},Ur={class:"w-16 h-16 bg-gradient-to-r from-violet-500 to-purple-600 rounded-full flex items-center justify-center mx-auto mb-4"},qr={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},Gr={class:"flex items-center gap-3 mb-3"},zr={class:"w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center group-hover:scale-110 transition-transform"},Hr={class:"flex items-center gap-3 mb-3"},Wr={class:"w-10 h-10 bg-green-500 rounded-lg flex items-center justify-center group-hover:scale-110 transition-transform"},Kr={class:"flex items-center gap-3 mb-3"},Xr={class:"w-10 h-10 bg-purple-500 rounded-lg flex items-center justify-center group-hover:scale-110 transition-transform"},Qr={class:"flex items-center gap-3 mb-3"},Zr={class:"w-10 h-10 bg-orange-500 rounded-lg flex items-center justify-center group-hover:scale-110 transition-transform"},eo={class:"flex items-center gap-3 mb-3"},to={class:"w-10 h-10 bg-yellow-500 rounded-lg flex items-center justify-center group-hover:scale-110 transition-transform"},ro={class:"flex items-center gap-3 mb-3"},oo={class:"w-10 h-10 bg-teal-500 rounded-lg flex items-center justify-center group-hover:scale-110 transition-transform"},so={class:"flex items-center gap-3 mb-3"},no={class:"w-10 h-10 bg-red-500 rounded-lg flex items-center justify-center group-hover:scale-110 transition-transform"},lo={__name:"ReportSelector",emits:["report-selected"],setup(v,{emit:f}){const _=f,F=h=>{_("report-selected",h)};return(h,p)=>(r(),o("div",Nr,[e("div",Ir,[e("div",Ur,[P(V(Dt),{class:"w-8 h-8 text-white"})]),p[7]||(p[7]=e("h3",{class:"text-xl font-bold text-gray-800 mb-2"},"Select a Report",-1)),p[8]||(p[8]=e("p",{class:"text-gray-600"},"Choose the financial report you'd like to view and analyze",-1))]),e("div",qr,[e("div",{onClick:p[0]||(p[0]=S=>F("room-pnl")),class:"group cursor-pointer bg-gradient-to-br from-blue-50 to-blue-100 border-2 border-blue-200 rounded-xl p-4 hover:border-blue-400 hover:shadow-lg transition-all duration-300 hover:scale-105"},[e("div",Gr,[e("div",zr,[P(V(Er),{class:"w-5 h-5 text-white"})]),p[9]||(p[9]=e("div",null,[e("h4",{class:"font-semibold text-blue-800"},"Room Profit & Loss"),e("p",{class:"text-xs text-blue-600"},"Room department financials")],-1))]),p[10]||(p[10]=e("p",{class:"text-sm text-blue-700"},"Analyze room revenue, expenses, and profitability by month and year.",-1))]),e("div",{onClick:p[1]||(p[1]=S=>F("fnb-pnl")),class:"group cursor-pointer bg-gradient-to-br from-green-50 to-green-100 border-2 border-green-200 rounded-xl p-4 hover:border-green-400 hover:shadow-lg transition-all duration-300 hover:scale-105"},[e("div",Hr,[e("div",Wr,[P(V(Jt),{class:"w-5 h-5 text-white"})]),p[11]||(p[11]=e("div",null,[e("h4",{class:"font-semibold text-green-800"},"Food & Beverage P&L"),e("p",{class:"text-xs text-green-600"},"Restaurant & bar financials")],-1))]),p[12]||(p[12]=e("p",{class:"text-sm text-green-700"},"Review F&B revenue, costs, and profit margins across all outlets.",-1))]),e("div",{onClick:p[2]||(p[2]=S=>F("ood-pnl")),class:"group cursor-pointer bg-gradient-to-br from-purple-50 to-purple-100 border-2 border-purple-200 rounded-xl p-4 hover:border-purple-400 hover:shadow-lg transition-all duration-300 hover:scale-105"},[e("div",Kr,[e("div",Xr,[P(V(Fr),{class:"w-5 h-5 text-white"})]),p[13]||(p[13]=e("div",null,[e("h4",{class:"font-semibold text-purple-800"},"Other Operating Departments"),e("p",{class:"text-xs text-purple-600"},"Spa, gym, pool, etc.")],-1))]),p[14]||(p[14]=e("p",{class:"text-sm text-purple-700"},"Examine performance of spa, health club, and recreational facilities.",-1))]),e("div",{onClick:p[3]||(p[3]=S=>F("pl-statement")),class:"group cursor-pointer bg-gradient-to-br from-orange-50 to-orange-100 border-2 border-orange-200 rounded-xl p-4 hover:border-orange-400 hover:shadow-lg transition-all duration-300 hover:scale-105"},[e("div",Qr,[e("div",Zr,[P(V(Sr),{class:"w-5 h-5 text-white"})]),p[15]||(p[15]=e("div",null,[e("h4",{class:"font-semibold text-orange-800"},"Profit & Loss Statement"),e("p",{class:"text-xs text-orange-600"},"Consolidated hotel P&L")],-1))]),p[16]||(p[16]=e("p",{class:"text-sm text-orange-700"},"Complete hotel financial performance overview with all departments.",-1))]),e("div",{onClick:p[4]||(p[4]=S=>F("balance-sheet")),class:"group cursor-pointer bg-gradient-to-br from-yellow-50 to-yellow-100 border-2 border-yellow-200 rounded-xl p-4 hover:border-yellow-400 hover:shadow-lg transition-all duration-300 hover:scale-105"},[e("div",eo,[e("div",to,[P(V(jr),{class:"w-5 h-5 text-white"})]),p[17]||(p[17]=e("div",null,[e("h4",{class:"font-semibold text-yellow-800"},"Balance Sheet"),e("p",{class:"text-xs text-yellow-600"},"Assets, liabilities & equity")],-1))]),p[18]||(p[18]=e("p",{class:"text-sm text-yellow-700"},"View hotel's financial position, assets, liabilities, and equity.",-1))]),e("div",{onClick:p[5]||(p[5]=S=>F("cashflow")),class:"group cursor-pointer bg-gradient-to-br from-teal-50 to-teal-100 border-2 border-teal-200 rounded-xl p-4 hover:border-teal-400 hover:shadow-lg transition-all duration-300 hover:scale-105"},[e("div",ro,[e("div",oo,[P(V(jt),{class:"w-5 h-5 text-white"})]),p[19]||(p[19]=e("div",null,[e("h4",{class:"font-semibold text-teal-800"},"Cashflow"),e("p",{class:"text-xs text-teal-600"},"Cash movement analysis")],-1))]),p[20]||(p[20]=e("p",{class:"text-sm text-teal-700"},"Track cash inflows and outflows for operational and investment activities.",-1))]),e("div",{onClick:p[6]||(p[6]=S=>F("capex-schedule")),class:"group cursor-pointer bg-gradient-to-br from-red-50 to-red-100 border-2 border-red-200 rounded-xl p-4 hover:border-red-400 hover:shadow-lg transition-all duration-300 hover:scale-105"},[e("div",so,[e("div",no,[P(V(Jr),{class:"w-5 h-5 text-white"})]),p[21]||(p[21]=e("div",null,[e("h4",{class:"font-semibold text-rose-800"},"Capex Schedule"),e("p",{class:"text-xs text-rose-600"},"Capital expenditure planning")],-1))]),p[22]||(p[22]=e("p",{class:"text-sm text-rose-700"},"Plan and track capital expenditures for property improvements and equipment.",-1))])])]))}},ao=Vt(lo,[["__scopeId","data-v-c7e43cfb"]]);class io{constructor(){this.calculationCache=Bt(),this.unifiedCacheService=br}debugCache(f){try{const _=this.calculationCache.cache[f]||{},F=Object.keys(_),h={};return F.forEach(p=>{const S=_[p]||{},k=Object.keys(S);h[p]={rowCodes:k,sampleData:{}},k.slice(0,3).forEach(m=>{const x=S[m]||{},R=Object.keys(x);if(R.length>0){const w=R[0],j=x[w]||{},te=Object.keys(j);h[p].sampleData[m]={years:R,sampleYear:w,months:te.slice(0,3),sampleValues:te.slice(0,3).map(z=>j[z])}}})}),h}catch(_){return console.error("[REPORT SERVICE DEBUG] Error inspecting cache:",_),{}}}getReportData(f,_){return H(this,null,function*(){try{const F=this.debugCache(f);this.unifiedCacheService.isInitialized.value||(yield this.unifiedCacheService.initialize()),yield this.unifiedCacheService.loadProjectCache();const h={metadata:{projectName:f,years:_,timestamp:new Date().toISOString(),dataCompleteness:0,cacheInspection:F},roomRevenue:{},fnbRevenue:{},oodRevenue:{},expenseData:{},payrollData:{},payrollRelatedData:{},bonusData:{},marketSegmentation:{},roomPackages:{}};let p=0,S=0;for(const k of _)h.roomRevenue[k]=yield this.loadRoomRevenueData(f,k),p+=this.countDataPoints(h.roomRevenue[k]),S+=this.countPopulatedDataPoints(h.roomRevenue[k]);for(const k of _)h.fnbRevenue[k]=yield this.loadFnBRevenueData(f,k),p+=this.countDataPoints(h.fnbRevenue[k]),S+=this.countPopulatedDataPoints(h.fnbRevenue[k]);for(const k of _)h.oodRevenue[k]=yield this.loadOODRevenueData(f,k),p+=this.countDataPoints(h.oodRevenue[k]),S+=this.countPopulatedDataPoints(h.oodRevenue[k]);for(const k of _)h.expenseData[k]=yield this.loadExpenseData(f,k),p+=this.countDataPoints(h.expenseData[k]),S+=this.countPopulatedDataPoints(h.expenseData[k]);for(const k of _)h.payrollData[k]=yield this.loadPayrollData(f,k),p+=this.countDataPoints(h.payrollData[k]),S+=this.countPopulatedDataPoints(h.payrollData[k]);for(const k of _)h.payrollRelatedData[k]=yield this.loadPayrollRelatedData(f,k),p+=this.countDataPoints(h.payrollRelatedData[k]),S+=this.countPopulatedDataPoints(h.payrollRelatedData[k]);for(const k of _)h.bonusData[k]=yield this.loadBonusData(f,k),p+=this.countDataPoints(h.bonusData[k]),S+=this.countPopulatedDataPoints(h.bonusData[k]);for(const k of _)h.marketSegmentation[k]=yield this.loadMarketSegmentationData(f,k),p+=this.countDataPoints(h.marketSegmentation[k]),S+=this.countPopulatedDataPoints(h.marketSegmentation[k]);for(const k of _)h.roomPackages[k]=yield this.loadRoomPackagesData(f,k),p+=this.countDataPoints(h.roomPackages[k]),S+=this.countPopulatedDataPoints(h.roomPackages[k]);return h.metadata.dataCompleteness=p>0?Math.round(S/p*100):0,h}catch(F){throw console.error("[REPORT SERVICE] Error loading unified data:",F),new Error(`Failed to load report data: ${F.message}`)}})}getReportSpecificData(f,_,F){return H(this,null,function*(){try{const h={};switch(f){case"room-pnl":for(const p of F)h[p]={roomRevenue:yield this.loadRoomRevenueData(_,p),expenses:yield this.loadExpenseData(_,p),payroll:yield this.loadPayrollData(_,p),payrollRelated:yield this.loadPayrollRelatedData(_,p),bonus:yield this.loadBonusData(_,p)};break;case"fnb-pnl":for(const p of F)h[p]={fnbRevenue:yield this.loadFnBRevenueData(_,p),roomStats:yield this.loadRoomRevenueData(_,p)};break;case"ood-pnl":for(const p of F)h[p]={oodRevenue:yield this.loadOODRevenueData(_,p),expenses:yield this.loadExpenseData(_,p)};break;default:throw new Error(`Unsupported report type: ${f}`)}return h}catch(h){throw console.error("[REPORT SERVICE] Error loading specific report data:",h),new Error(`Failed to load ${f} data: ${h.message}`)}})}loadRoomRevenueData(f,_){return H(this,null,function*(){try{const F=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],h={};for(const p of F)h[p]={totalRooms:this.calculationCache.getValue(f,"Room Revenue Assumptions","Total Rooms",_,p),totalRoomRevenue:this.calculationCache.getValue(f,"Room Revenue Assumptions","Total Room Revenue",_,p),corporate:this.calculationCache.getValue(f,"Room Revenue Assumptions","Corporate",_,p),ota:this.calculationCache.getValue(f,"Room Revenue Assumptions","OTA",_,p),travelAgent:this.calculationCache.getValue(f,"Room Revenue Assumptions","Travel Agent",_,p),directRetail:this.calculationCache.getValue(f,"Room Revenue Assumptions","Direct Retail",_,p)};return h.ALL={totalRooms:this.calculationCache.getValue(f,"Room Revenue Assumptions","Total Rooms",_,"ALL"),totalRoomRevenue:this.calculationCache.getValue(f,"Room Revenue Assumptions","Total Room Revenue",_,"ALL")},h}catch(F){return console.error("[REPORT SERVICE] Error loading room revenue data:",F),{}}})}loadFnBRevenueData(f,_){return H(this,null,function*(){try{const F=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],h={};for(const p of F)h[p]={roomsAvailable:this.calculationCache.getValue(f,"F&B Revenue Assumptions","Number of rooms available",_,p),roomsSold:this.calculationCache.getValue(f,"F&B Revenue Assumptions","Number of rooms sold (excl.)",_,p),occupancy:this.calculationCache.getValue(f,"F&B Revenue Assumptions","Occupancy (excl.) %",_,p),numberOfGuests:this.calculationCache.getValue(f,"F&B Revenue Assumptions","Number of guests",_,p),totalCovers:this.calculationCache.getValue(f,"F&B Revenue Assumptions","Total Covers",_,p),averageSpent:this.calculationCache.getValue(f,"F&B Revenue Assumptions","Average Spent Per F&B Customer",_,p),averageRoomRate:this.calculationCache.getValue(f,"F&B Revenue Assumptions","Average Room Rate",_,p),revenuePerRoom:this.calculationCache.getValue(f,"F&B Revenue Assumptions","Revenue Per Available Room",_,p),totalFnBRevenue:this.calculationCache.getValue(f,"F&B Revenue Assumptions","Total F&B Revenue",_,p),totalFoodRevenue:this.calculationCache.getValue(f,"F&B Revenue Assumptions","Total Food Revenue",_,p),totalBeverageRevenue:this.calculationCache.getValue(f,"F&B Revenue Assumptions","Total Beverage Revenue",_,p)};return h}catch(F){return console.error("[REPORT SERVICE] Error loading F&B revenue data:",F),{}}})}loadOODRevenueData(f,_){return H(this,null,function*(){try{const F=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],h={};for(const p of F)h[p]={laundryRevenue:this.calculationCache.getValue(f,"OOD Revenue Assumptions","Total Laundry Revenue",_,p),healthClubRevenue:this.calculationCache.getValue(f,"OOD Revenue Assumptions","Total Health Club Rev Including SC",_,p)};return h}catch(F){return console.error("[REPORT SERVICE] Error loading OOD revenue data:",F),{}}})}loadExpenseData(f,_){return H(this,null,function*(){try{return{}}catch(F){return console.error("[REPORT SERVICE] Error loading expense data:",F),{}}})}loadPayrollData(f,_){return H(this,null,function*(){var F;try{const h=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],p={},S=((F=this.calculationCache.cache[f])==null?void 0:F.Payroll)||{};for(const k of h)p[k]={},Object.keys(S).forEach(m=>{if(m.startsWith("MonthlySalary|")){const x=this.calculationCache.getValue(f,"Payroll",m,_,k);x!=null&&(p[k][m]=x)}});return p}catch(h){return console.error("[REPORT SERVICE] Error loading payroll data:",h),{}}})}loadPayrollRelatedData(f,_){return H(this,null,function*(){try{const F=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],h={};for(const p of F)h[p]={nssit:this.calculationCache.getValue(f,"Payroll Taxes","NSSIT",_,p),vacation:this.calculationCache.getValue(f,"Payroll Related","hotel | vacation",_,p),relocation:this.calculationCache.getValue(f,"Payroll Related","hotel | relocation",_,p),severence:this.calculationCache.getValue(f,"Payroll Related","hotel | severence & indemnity",_,p),other:this.calculationCache.getValue(f,"Payroll Related","hotel | other",_,p),medical:this.calculationCache.getValue(f,"Payroll Related","category: Rooms | medical",_,p),uniforms:this.calculationCache.getValue(f,"Payroll Related","category: Rooms | uniforms",_,p),employeeMeal:this.calculationCache.getValue(f,"Payroll Related","category: Rooms | employee_meal",_,p),transport:this.calculationCache.getValue(f,"Payroll Related","category: Rooms | transport",_,p),telephone:this.calculationCache.getValue(f,"Payroll Related","category: Rooms | telephone",_,p),airTicket:this.calculationCache.getValue(f,"Payroll Related","category: Rooms | air_ticket",_,p),otherBenefits:this.calculationCache.getValue(f,"Payroll Related","category: Rooms | other_benefits",_,p)};return h}catch(F){return console.error("[REPORT SERVICE] Error loading payroll related data:",F),{}}})}loadBonusData(f,_){return H(this,null,function*(){try{const F=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],h={};for(const p of F)h[p]={totalHotel:this.calculationCache.getValue(f,"Bonus","Total Hotel",_,p)};return h.Total={totalHotel:this.calculationCache.getValue(f,"Bonus","Total Hotel",_,"Total")},h}catch(F){return console.error("[REPORT SERVICE] Error loading bonus data:",F),{}}})}loadMarketSegmentationData(f,_){return H(this,null,function*(){var F;try{const h=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],p={},S=((F=this.calculationCache.cache[f])==null?void 0:F["Market Segmentation"])||{};for(const k of h)p[k]={},Object.keys(S).forEach(m=>{if(m.startsWith("Room Revenue:")){const x=this.calculationCache.getValue(f,"Market Segmentation",m,_,k);x!=null&&(p[k][m]=x)}});return p}catch(h){return console.error("[REPORT SERVICE] Error loading market segmentation data:",h),{}}})}loadRoomPackagesData(f,_){return H(this,null,function*(){var F;try{const h=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],p={},S=((F=this.calculationCache.cache[f])==null?void 0:F["Room Revenue Assumptions"])||{};for(const k of h)p[k]={},Object.keys(S).forEach(m=>{if(m.startsWith("Room Type:")){const x=this.calculationCache.getValue(f,"Room Revenue Assumptions",m,_,k);x!=null&&(p[k][m]=x)}});return p}catch(h){return console.error("[REPORT SERVICE] Error loading room packages data:",h),{}}})}countDataPoints(f){if(!f||typeof f!="object")return 0;let _=0;return Object.values(f).forEach(F=>{typeof F=="object"&&F!==null?_+=this.countDataPoints(F):_++}),_}countPopulatedDataPoints(f){if(!f||typeof f!="object")return 0;let _=0;return Object.values(f).forEach(F=>{typeof F=="object"&&F!==null?_+=this.countPopulatedDataPoints(F):F!=null&&F!==0&&_++}),_}validateData(f){try{if(!f||typeof f!="object")return{valid:!1,errors:["Data is not an object"]};const _=[];return f.metadata||_.push("Missing metadata"),f.metadata.projectName||_.push("Missing project name"),Array.isArray(f.metadata.years)||_.push("Missing or invalid years array"),{valid:_.length===0,errors:_}}catch(_){return{valid:!1,errors:[_.message]}}}exportData(f,_="report-data-export.json"){try{const F=JSON.stringify(f,null,2),h=new Blob([F],{type:"application/json"}),p=URL.createObjectURL(h),S=document.createElement("a");return S.href=p,S.download=_,S.click(),URL.revokeObjectURL(p),!0}catch(F){return console.error("[REPORT SERVICE] Error exporting data:",F),!1}}clearProjectData(f){try{return this.calculationCache.clearCache(f),!0}catch(_){return console.error("[REPORT SERVICE] Error clearing project data:",_),!1}}}const Pt=new io;typeof window!="undefined"&&(window.debugReportCache=v=>Pt.debugCache(v),window.reportDataService=Pt);const uo={class:"bg-white rounded-lg border border-blue-300 dark:border-blue-700 shadow-sm overflow-hidden"},bo={class:"overflow-x-auto"},co={class:"min-w-full w-max"},go={class:"w-full"},xo={class:"bg-gradient-to-r from-blue-600 to-blue-700 text-white"},po={class:"bg-gradient-to-r from-blue-600 via-blue-700 to-blue-800 text-white"},fo=["colspan"],ho={class:"flex items-center justify-center gap-3"},mo={class:"text-3xl font-bold tracking-tight"},ko={class:"bg-gradient-to-r from-blue-500 via-blue-600 to-blue-700 text-white"},vo=["colspan"],yo=["colspan","onClick"],_o={class:"flex items-center justify-center gap-1"},wo={class:"font-semibold"},Ro={class:"bg-blue-500 dark:bg-blue-900/20 text-xs text-white dark:text-gray-200"},$o={class:"px-2 py-1 text-center border border-blue-300 min-w-[100px] font-medium"},Ao={class:"px-2 py-1 text-center border border-blue-300 min-w-[110px] font-semibold"},Eo={class:"flex items-center justify-center gap-1"},Fo={key:1,class:"px-2 py-1 text-center border border-blue-300 min-w-[110px] font-semibold"},So={class:"flex items-center justify-center gap-1"},Co={class:"text-gray-700 bg-white text-sm dark:text-gray-200 dark:bg-gray-800"},Yo={class:"bg-blue-800 border-b-2 border-blue-900"},To=["colspan"],Oo={key:0,class:"bg-blue-500 dark:bg-blue-900/20 text-white dark:text-gray-200 border-b border-blue-300 dark:border-blue-700"},Do={class:"px-2 py-1 text-right border border-blue-300 dark:border-blue-700 bg-blue-500 dark:bg-blue-900/20 text-white dark:text-gray-200"},Po={class:"font-mono text-xs"},Vo={class:"px-2 py-1 text-right border border-blue-300 dark:border-blue-700 font-semibold bg-blue-100 dark:bg-blue-800/30"},Bo={class:"font-mono text-xs text-blue-700 dark:text-blue-300"},Mo={key:1,class:"px-2 py-1 text-right border border-blue-300 dark:border-blue-700 font-semibold bg-blue-100 dark:bg-blue-800/30"},Lo={class:"font-mono text-xs text-blue-700 dark:text-blue-300"},jo={key:1,class:"bg-blue-500 dark:bg-blue-900/20 text-white dark:text-gray-200 border-b border-blue-300 dark:border-blue-700"},Jo={class:"px-2 py-1 text-right border border-blue-300 dark:border-blue-700 bg-blue-500 dark:bg-blue-900/20 text-white dark:text-gray-200"},No={class:"font-mono text-xs"},Io={class:"px-2 py-1 text-right border border-blue-300 dark:border-blue-700 font-semibold bg-blue-100 dark:bg-blue-800/30"},Uo={class:"font-mono text-xs text-blue-700 dark:text-blue-300"},qo={key:1,class:"px-2 py-1 text-right border border-blue-300 dark:border-blue-700 font-semibold bg-blue-100 dark:bg-blue-800/30"},Go={class:"font-mono text-xs text-blue-700 dark:text-blue-300"},zo={key:2,class:"bg-blue-500 dark:bg-blue-900/20 text-white dark:text-gray-200 border-b border-blue-300 dark:border-blue-700"},Ho={class:"px-2 py-1 text-right border border-blue-300 dark:border-blue-700 bg-blue-500 dark:bg-blue-900/20 text-white dark:text-gray-200"},Wo={class:"font-mono text-xs"},Ko={class:"px-2 py-1 text-right border border-blue-300 dark:border-blue-700 font-semibold bg-blue-100 dark:bg-blue-800/30"},Xo={class:"font-mono text-xs text-blue-700 dark:text-blue-300"},Qo={key:1,class:"px-2 py-1 text-right border border-blue-300 dark:border-blue-700 font-semibold bg-blue-100 dark:bg-blue-800/30"},Zo={class:"font-mono text-xs text-blue-700 dark:text-blue-300"},es={key:3,class:"bg-blue-500 dark:bg-blue-900/20 text-white dark:text-gray-200 border-b border-blue-300 dark:border-blue-700"},ts={class:"px-2 py-1 text-right border border-blue-300 dark:border-blue-700 bg-blue-500 dark:bg-blue-900/20 text-white dark:text-gray-200"},rs={class:"font-mono text-xs"},os={class:"px-2 py-1 text-right border border-blue-300 dark:border-blue-700 font-semibold bg-blue-100 dark:bg-blue-800/30"},ss={class:"font-mono text-xs text-blue-700 dark:text-blue-300"},ns={key:1,class:"px-2 py-1 text-right border border-blue-300 dark:border-blue-700 font-semibold bg-blue-100 dark:bg-blue-800/30"},ls={class:"font-mono text-xs text-blue-700 dark:text-blue-300"},as={key:4,class:"bg-blue-500 dark:bg-blue-900/20 text-white dark:text-gray-200 border-b border-blue-300 dark:border-blue-700"},ds={class:"px-2 py-1 text-right border border-blue-300 dark:border-blue-700 bg-blue-500 dark:bg-blue-900/20 text-white dark:text-gray-200"},is={class:"font-mono text-xs"},us={class:"px-2 py-1 text-right border border-blue-300 dark:border-blue-700 font-semibold bg-blue-100 dark:bg-blue-800/30"},bs={class:"font-mono text-xs text-blue-700 dark:text-blue-300"},cs={key:1,class:"px-2 py-1 text-right border border-blue-300 dark:border-blue-700 font-semibold bg-blue-100 dark:bg-blue-800/30"},gs={class:"font-mono text-xs text-blue-700 dark:text-blue-300"},xs={key:5,class:"bg-blue-500 dark:bg-blue-900/20 text-white dark:text-gray-200 border-b border-blue-300 dark:border-blue-700"},ps={class:"px-2 py-1 text-right border border-blue-300 dark:border-blue-700 bg-blue-500 dark:bg-blue-900/20 text-white dark:text-gray-200"},fs={class:"font-mono text-xs"},hs={class:"px-2 py-1 text-right border border-blue-300 dark:border-blue-700 font-semibold bg-blue-100 dark:bg-blue-800/30"},ms={class:"font-mono text-xs text-blue-700 dark:text-blue-300"},ks={key:1,class:"px-2 py-1 text-right border border-blue-300 dark:border-blue-700 font-semibold bg-blue-100 dark:bg-blue-800/30"},vs={class:"font-mono text-xs text-blue-700 dark:text-blue-300"},ys={key:6,class:"bg-blue-500 dark:bg-blue-900/20 text-white dark:text-gray-200 border-b border-blue-300 dark:border-blue-700"},_s={class:"px-2 py-1 text-right border border-blue-300 dark:border-blue-700 bg-blue-500 dark:bg-blue-900/20 text-white dark:text-gray-200"},ws={class:"font-mono text-xs"},Rs={class:"px-2 py-1 text-right border border-blue-300 dark:border-blue-700 font-semibold bg-blue-100 dark:bg-blue-800/30"},$s={class:"font-mono text-xs text-blue-700 dark:text-blue-300"},As={key:1,class:"px-2 py-1 text-right border border-blue-300 dark:border-blue-700 font-semibold bg-blue-100 dark:bg-blue-800/30"},Es={class:"font-mono text-xs text-blue-700 dark:text-blue-300"},Fs={key:7,class:"bg-blue-500 dark:bg-blue-900/20 text-white dark:text-gray-200 border-b border-blue-300 dark:border-blue-700"},Ss={class:"px-2 py-1 text-right border border-blue-300 dark:border-blue-700 bg-blue-500 dark:bg-blue-900/20 text-white dark:text-gray-200"},Cs={class:"font-mono text-xs"},Ys={class:"px-2 py-1 text-right border border-blue-300 dark:border-blue-700 font-semibold bg-blue-100 dark:bg-blue-800/30"},Ts={class:"font-mono text-xs text-blue-700 dark:text-blue-300"},Os={key:1,class:"px-2 py-1 text-right border border-blue-300 dark:border-blue-700 font-semibold bg-blue-100 dark:bg-blue-800/30"},Ds={class:"font-mono text-xs text-blue-700 dark:text-blue-300"},Ps={key:8,class:"bg-blue-500 dark:bg-blue-900/20 text-white dark:text-gray-200 border-b border-blue-300 dark:border-blue-700"},Vs={class:"px-2 py-1 text-right border border-blue-300 dark:border-blue-700 bg-blue-500 dark:bg-blue-900/20 text-white dark:text-gray-200"},Bs={class:"font-mono text-xs"},Ms={class:"px-2 py-1 text-right border border-blue-300 dark:border-blue-700 font-semibold bg-blue-100 dark:bg-blue-800/30"},Ls={class:"font-mono text-xs text-blue-700 dark:text-blue-300"},js={key:1,class:"px-2 py-1 text-right border border-blue-300 dark:border-blue-700 font-semibold bg-blue-100 dark:bg-blue-800/30"},Js={class:"font-mono text-xs text-blue-700 dark:text-blue-300"},Ns={key:9,class:"bg-blue-500 dark:bg-blue-900/20 text-white dark:text-gray-200 border-b border-blue-300 dark:border-blue-700"},Is={class:"px-2 py-1 text-right border border-blue-300 dark:border-blue-700 bg-blue-500 dark:bg-blue-900/20 text-white dark:text-gray-200"},Us={class:"font-mono text-xs"},qs={class:"px-2 py-1 text-right border border-blue-300 dark:border-blue-700 font-semibold bg-blue-100 dark:bg-blue-800/30"},Gs={class:"font-mono text-xs text-blue-700 dark:text-blue-300"},zs={key:1,class:"px-2 py-1 text-right border border-blue-300 dark:border-blue-700 font-semibold bg-blue-100 dark:bg-blue-800/30"},Hs={class:"font-mono text-xs text-blue-700 dark:text-blue-300"},Ws={class:"bg-gray-100 border-b border-gray-200"},Ks={key:1,class:"px-2 py-1 text-center border border-gray-200 bg-gray-100"},Xs={class:"bg-gray-100 border-b border-gray-200"},Qs={key:1,class:"px-2 py-1 text-center border border-gray-200 bg-gray-100"},Zs={class:"bg-blue-800 border-b-2 border-blue-900"},en=["colspan"],tn={key:0,class:"bg-blue-50 dark:bg-blue-900/20 text-gray-700 dark:text-gray-200 border-b border-blue-200 dark:border-blue-700"},rn={class:"px-3 py-2 font-medium border-r border-blue-200 dark:border-blue-700"},on={class:"flex items-center gap-1"},sn={class:"px-2 py-1 text-right border border-blue-200 dark:border-blue-700 bg-blue-50 dark:bg-blue-900/20 text-gray-700 dark:text-gray-200"},nn={class:"font-mono text-xs"},ln={class:"px-2 py-1 text-right border border-blue-200 dark:border-blue-700 bg-blue-50 dark:bg-blue-900/20 text-gray-700 dark:text-gray-200"},an={class:"font-mono text-xs text-blue-600"},dn={class:"px-2 py-1 text-right border border-blue-300 dark:border-blue-700 font-semibold bg-blue-100 dark:bg-blue-800/30"},un={class:"font-mono text-xs text-blue-700 dark:text-blue-300"},bn={key:1,class:"px-2 py-1 text-right border border-blue-300 dark:border-blue-700 font-semibold bg-blue-100 dark:bg-blue-800/30"},cn={class:"font-mono text-xs text-blue-700 dark:text-blue-300"},gn={class:"bg-blue-500 dark:bg-blue-900/20 text-white dark:text-gray-2000 border-b-2 border-blue-600"},xn={class:"px-2 py-1 text-right border border-blue-600 font-semibold bg-blue-500 dark:bg-blue-900/20 text-white dark:text-gray-2000"},pn={class:"font-mono text-xs text-white"},fn={class:"px-2 py-1 text-right border border-blue-600 font-bold bg-blue-500 dark:bg-blue-900/20 text-white dark:text-gray-2000"},hn={class:"font-mono text-xs text-white"},mn={key:1,class:"px-2 py-1 text-right border border-blue-600 font-bold bg-blue-500 dark:bg-blue-900/20 text-white dark:text-gray-2000"},kn={class:"font-mono text-xs text-white"},vn={class:"bg-gray-100 border-b border-gray-200"},yn={key:1,class:"px-2 py-1 text-center border border-gray-200 bg-gray-100"},_n={class:"bg-gray-100 border-b border-gray-200"},wn={key:1,class:"px-2 py-1 text-center border border-gray-200 bg-gray-100"},Rn={key:0,class:"bg-blue-500 dark:bg-blue-900/20 text-white dark:text-gray-200 border-b border-blue-300 dark:border-blue-700"},$n={class:"px-3 py-2 font-medium border-r border-blue-200 dark:border-blue-700"},An={class:"flex items-center gap-1"},En={class:"px-2 py-1 text-right border border-blue-200 dark:border-blue-700 bg-blue-50 dark:bg-blue-900/20 text-gray-700 dark:text-gray-200"},Fn={class:"font-mono text-xs"},Sn={class:"px-2 py-1 text-right border border-blue-200 dark:border-blue-700 bg-blue-50 dark:bg-blue-900/20 text-gray-700 dark:text-gray-200"},Cn={class:"font-mono text-xs text-blue-600"},Yn={class:"px-2 py-1 text-right border border-blue-300 dark:border-blue-700 font-semibold bg-blue-100 dark:bg-blue-800/30"},Tn={class:"font-mono text-xs text-blue-700 dark:text-blue-300"},On={key:1,class:"px-2 py-1 text-right border border-blue-300 dark:border-blue-700 font-semibold bg-blue-100 dark:bg-blue-800/30"},Dn={class:"font-mono text-xs text-blue-700 dark:text-blue-300"},Pn={class:"bg-blue-500 dark:bg-blue-900/20 text-white dark:text-gray-2000 border-b-2 border-blue-600"},Vn={class:"px-2 py-1 text-right border border-blue-600 font-semibold bg-blue-500 dark:bg-blue-900/20 text-white dark:text-gray-2000"},Bn={class:"font-mono text-xs text-white"},Mn={class:"px-2 py-1 text-right border border-blue-600 font-bold bg-blue-500 dark:bg-blue-900/20 text-white dark:text-gray-2000"},Ln={class:"font-mono text-xs text-white"},jn={key:1,class:"px-2 py-1 text-right border border-blue-600 font-bold bg-blue-500 dark:bg-blue-900/20 text-white dark:text-gray-2000"},Jn={class:"font-mono text-xs text-white"},Nn={class:"bg-blue-800 border-b-2 border-blue-900"},In=["colspan"],Un={class:"bg-[#5FA8AF] border-b border-[#5FA8AF]"},qn={key:1,class:"px-2 py-1 text-center border border-[#5FA8AF] bg-[#5FA8AF]"},Gn={key:0,class:"bg-white border-b border-blue-300 dark:border-blue-700"},zn={class:"px-3 py-2 border-r border-blue-300 dark:border-blue-700"},Hn={class:"flex items-center gap-1"},Wn={class:"px-2 py-1 text-right border border-blue-300 dark:border-blue-700 bg-white"},Kn={class:"font-mono text-xs"},Xn={class:"px-2 py-1 text-right border border-blue-300 dark:border-blue-700 font-semibold bg-blue-200 dark:bg-blue-900/20 text-white dark:text-gray-200"},Qn={class:"font-mono text-xs text-blue-700 dark:text-blue-300"},Zn={key:1,class:"px-2 py-1 text-right border border-blue-300 dark:border-blue-700 font-semibold bg-blue-200 dark:bg-blue-900/20 text-white dark:text-gray-200"},el={class:"font-mono text-xs text-blue-700 dark:text-blue-300"},tl={class:"bg-blue-500 dark:bg-blue-900/20 text-white dark:text-gray-2000 border-b-2 border-blue-600"},rl={class:"px-2 py-1 text-right border border-blue-600 font-semibold bg-blue-500 dark:bg-blue-900/20 text-white dark:text-gray-2000"},ol={class:"font-mono text-xs text-white"},sl={class:"px-2 py-1 text-right border border-blue-600 font-semibold bg-blue-500 dark:bg-blue-900/20 text-white dark:text-gray-2000"},nl={class:"font-mono text-xs text-white"},ll={class:"px-2 py-1 text-right border border-blue-600 font-bold bg-blue-500 dark:bg-blue-900/20 text-white dark:text-gray-2000"},al={class:"font-mono text-xs text-white"},dl={key:1,class:"px-2 py-1 text-right border border-blue-600 font-bold bg-blue-500 dark:bg-blue-900/20 text-white dark:text-gray-2000"},il={class:"font-mono text-xs text-white"},ul={class:"bg-[#5FA8AF] border-b border-[#5FA8AF]"},bl={key:1,class:"px-2 py-1 text-center border border-[#5FA8AF] bg-[#5FA8AF]"},cl={key:12,class:"bg-blue-500 dark:bg-blue-900/20 text-white dark:text-gray-200 border-b border-blue-300 dark:border-blue-700"},gl={key:1,class:"px-2 py-1 text-center border border-blue-300 dark:border-blue-700 bg-blue-100 dark:bg-blue-800/30"},xl={class:"px-3 py-2 border-r border-blue-300 dark:border-blue-700"},pl={class:"flex items-center gap-1"},fl={class:"px-2 py-1 text-right border border-blue-300 dark:border-blue-700 bg-white"},hl={class:"font-mono text-xs"},ml={class:"px-2 py-1 text-right border border-blue-300 dark:border-blue-700 font-semibold bg-blue-200 dark:bg-blue-900/20 text-white dark:text-gray-200"},kl={class:"font-mono text-xs text-blue-700 dark:text-blue-300"},vl={key:1,class:"px-2 py-1 text-right border border-blue-300 dark:border-blue-700 font-semibold bg-blue-200 dark:bg-blue-900/20 text-white dark:text-gray-200"},yl={class:"font-mono text-xs text-blue-700 dark:text-blue-300"},_l={key:13,class:"bg-blue-500 dark:bg-blue-900/20 text-white dark:text-gray-200 border-b border-blue-300 dark:border-blue-700"},wl={key:1,class:"px-2 py-1 text-center border border-blue-300 dark:border-blue-700 bg-blue-100 dark:bg-blue-800/30"},Rl={class:"px-3 py-2 border-r border-blue-300 dark:border-blue-700"},$l={class:"flex items-center gap-1"},Al={class:"px-2 py-1 text-right border border-blue-300 dark:border-blue-700 bg-white"},El={class:"font-mono text-xs"},Fl={class:"px-2 py-1 text-right border border-blue-300 dark:border-blue-700 font-semibold bg-blue-200 dark:bg-blue-900/20 text-white dark:text-gray-200"},Sl={class:"font-mono text-xs text-blue-700 dark:text-blue-300"},Cl={key:1,class:"px-2 py-1 text-right border border-blue-300 dark:border-blue-700 font-semibold bg-blue-200 dark:bg-blue-900/20 text-white dark:text-gray-200"},Yl={class:"font-mono text-xs text-blue-700 dark:text-blue-300"},Tl={class:"bg-blue-500 dark:bg-blue-900/20 text-white dark:text-gray-2000 border-b-2 border-blue-600"},Ol={class:"px-2 py-1 text-right border border-blue-600 font-semibold bg-blue-500 dark:bg-blue-900/20 text-white dark:text-gray-2000"},Dl={class:"font-mono text-xs text-white"},Pl={class:"px-2 py-1 text-right border border-blue-600 font-semibold bg-blue-500 dark:bg-blue-900/20 text-white dark:text-gray-2000"},Vl={class:"font-mono text-xs text-white"},Bl={class:"px-2 py-1 text-right border border-blue-600 font-bold bg-blue-500 dark:bg-blue-900/20 text-white dark:text-gray-2000"},Ml={class:"font-mono text-xs text-white"},Ll={key:1,class:"px-2 py-1 text-right border border-blue-600 font-bold bg-blue-500 dark:bg-blue-900/20 text-white dark:text-gray-2000"},jl={class:"font-mono text-xs text-white"},Jl={class:"bg-[#5FA8AF] border-b border-[#5FA8AF]"},Nl={key:1,class:"px-2 py-1 text-center border border-[#5FA8AF] bg-[#5FA8AF]"},Il={key:14,class:"bg-white border-b border-blue-300 dark:border-blue-700"},Ul={class:"px-2 py-1 text-right border border-blue-300 dark:border-blue-700 bg-white"},ql={class:"font-mono text-xs"},Gl={class:"px-2 py-1 text-right border border-blue-300 dark:border-blue-700 font-semibold bg-blue-200 dark:bg-blue-900/20 text-white dark:text-gray-200"},zl={class:"font-mono text-xs text-blue-700 dark:text-blue-300"},Hl={key:1,class:"px-2 py-1 text-right border border-blue-300 dark:border-blue-700 font-semibold bg-blue-200 dark:bg-blue-900/20 text-white dark:text-gray-200"},Wl={class:"font-mono text-xs text-blue-700 dark:text-blue-300"},Kl={key:15,class:"bg-white border-b border-blue-300 dark:border-blue-700"},Xl={class:"px-2 py-1 text-right border border-blue-300 dark:border-blue-700 bg-white"},Ql={class:"font-mono text-xs"},Zl={class:"px-2 py-1 text-right border border-blue-300 dark:border-blue-700 font-semibold bg-blue-200 dark:bg-blue-900/20 text-white dark:text-gray-200"},e0={class:"font-mono text-xs text-blue-700 dark:text-blue-300"},t0={key:1,class:"px-2 py-1 text-right border border-blue-300 dark:border-blue-700 font-semibold bg-blue-200 dark:bg-blue-900/20 text-white dark:text-gray-200"},r0={class:"font-mono text-xs text-blue-700 dark:text-blue-300"},o0={key:16,class:"bg-white border-b border-blue-300 dark:border-blue-700"},s0={class:"px-2 py-1 text-right border border-blue-300 dark:border-blue-700 bg-white"},n0={class:"font-mono text-xs"},l0={class:"px-2 py-1 text-right border border-blue-300 dark:border-blue-700 font-semibold bg-blue-200 dark:bg-blue-900/20 text-white dark:text-gray-200"},a0={class:"font-mono text-xs text-blue-700 dark:text-blue-300"},d0={key:1,class:"px-2 py-1 text-right border border-blue-300 dark:border-blue-700 font-semibold bg-blue-200 dark:bg-blue-900/20 text-white dark:text-gray-200"},i0={class:"font-mono text-xs text-blue-700 dark:text-blue-300"},u0={key:17,class:"bg-white border-b border-blue-300 dark:border-blue-700"},b0={class:"px-2 py-1 text-right border border-blue-300 dark:border-blue-700 bg-white"},c0={class:"font-mono text-xs"},g0={class:"px-2 py-1 text-right border border-blue-300 dark:border-blue-700 font-semibold bg-blue-200 dark:bg-blue-900/20 text-white dark:text-gray-200"},x0={class:"font-mono text-xs text-blue-700 dark:text-blue-300"},p0={key:1,class:"px-2 py-1 text-right border border-blue-300 dark:border-blue-700 font-semibold bg-blue-200 dark:bg-blue-900/20 text-white dark:text-gray-200"},f0={class:"font-mono text-xs text-blue-700 dark:text-blue-300"},h0={key:18,class:"bg-white border-b border-blue-300 dark:border-blue-700"},m0={class:"px-2 py-1 text-right border border-blue-300 dark:border-blue-700 bg-white"},k0={class:"font-mono text-xs"},v0={class:"px-2 py-1 text-right border border-blue-300 dark:border-blue-700 font-semibold bg-blue-200 dark:bg-blue-900/20 text-white dark:text-gray-200"},y0={class:"font-mono text-xs text-blue-700 dark:text-blue-300"},_0={key:1,class:"px-2 py-1 text-right border border-blue-300 dark:border-blue-700 font-semibold bg-blue-200 dark:bg-blue-900/20 text-white dark:text-gray-200"},w0={class:"font-mono text-xs text-blue-700 dark:text-blue-300"},R0={key:19,class:"bg-white border-b border-blue-300 dark:border-blue-700"},$0={class:"px-2 py-1 text-right border border-blue-300 dark:border-blue-700 bg-white"},A0={class:"font-mono text-xs"},E0={class:"px-2 py-1 text-right border border-blue-300 dark:border-blue-700 font-semibold bg-blue-200 dark:bg-blue-900/20 text-white dark:text-gray-200"},F0={class:"font-mono text-xs text-blue-700 dark:text-blue-300"},S0={key:1,class:"px-2 py-1 text-right border border-blue-300 dark:border-blue-700 font-semibold bg-blue-200 dark:bg-blue-900/20 text-white dark:text-gray-200"},C0={class:"font-mono text-xs text-blue-700 dark:text-blue-300"},Y0={key:20,class:"bg-white border-b border-blue-300 dark:border-blue-700"},T0={class:"px-2 py-1 text-right border border-blue-300 dark:border-blue-700 bg-white"},O0={class:"font-mono text-xs"},D0={class:"px-2 py-1 text-right border border-blue-300 dark:border-blue-700 font-semibold bg-blue-200 dark:bg-blue-900/20 text-white dark:text-gray-200"},P0={class:"font-mono text-xs text-blue-700 dark:text-blue-300"},V0={key:1,class:"px-2 py-1 text-right border border-blue-300 dark:border-blue-700 font-semibold bg-blue-200 dark:bg-blue-900/20 text-white dark:text-gray-200"},B0={class:"font-mono text-xs text-blue-700 dark:text-blue-300"},M0={key:21,class:"bg-white border-b border-blue-300 dark:border-blue-700"},L0={class:"px-2 py-1 text-right border border-blue-300 dark:border-blue-700 bg-white"},j0={class:"font-mono text-xs"},J0={class:"px-2 py-1 text-right border border-blue-300 dark:border-blue-700 font-semibold bg-blue-200 dark:bg-blue-900/20 text-white dark:text-gray-200"},N0={class:"font-mono text-xs text-blue-700 dark:text-blue-300"},I0={key:1,class:"px-2 py-1 text-right border border-blue-300 dark:border-blue-700 font-semibold bg-blue-200 dark:bg-blue-900/20 text-white dark:text-gray-200"},U0={class:"font-mono text-xs text-blue-700 dark:text-blue-300"},q0={key:22,class:"bg-white border-b border-blue-300 dark:border-blue-700"},G0={class:"px-2 py-1 text-right border border-blue-300 dark:border-blue-700 bg-white"},z0={class:"font-mono text-xs"},H0={class:"px-2 py-1 text-right border border-blue-300 dark:border-blue-700 font-semibold bg-blue-200 dark:bg-blue-900/20 text-white dark:text-gray-200"},W0={class:"font-mono text-xs text-blue-700 dark:text-blue-300"},K0={key:1,class:"px-2 py-1 text-right border border-blue-300 dark:border-blue-700 font-semibold bg-blue-200 dark:bg-blue-900/20 text-white dark:text-gray-200"},X0={class:"font-mono text-xs text-blue-700 dark:text-blue-300"},Q0={key:23,class:"bg-white border-b border-blue-300 dark:border-blue-700"},Z0={class:"px-2 py-1 text-right border border-blue-300 dark:border-blue-700 bg-white"},ea={class:"font-mono text-xs"},ta={class:"px-2 py-1 text-right border border-blue-300 dark:border-blue-700 font-semibold bg-blue-200 dark:bg-blue-900/20 text-white dark:text-gray-200"},ra={class:"font-mono text-xs text-blue-700 dark:text-blue-300"},oa={key:1,class:"px-2 py-1 text-right border border-blue-300 dark:border-blue-700 font-semibold bg-blue-200 dark:bg-blue-900/20 text-white dark:text-gray-200"},sa={class:"font-mono text-xs text-blue-700 dark:text-blue-300"},na={key:24,class:"bg-white border-b border-blue-300 dark:border-blue-700"},la={class:"px-2 py-1 text-right border border-blue-300 dark:border-blue-700 bg-white"},aa={class:"font-mono text-xs"},da={class:"px-2 py-1 text-right border border-blue-300 dark:border-blue-700 font-semibold bg-blue-200 dark:bg-blue-900/20 text-white dark:text-gray-200"},ia={class:"font-mono text-xs text-blue-700 dark:text-blue-300"},ua={key:1,class:"px-2 py-1 text-right border border-blue-300 dark:border-blue-700 font-semibold bg-blue-200 dark:bg-blue-900/20 text-white dark:text-gray-200"},ba={class:"font-mono text-xs text-blue-700 dark:text-blue-300"},ca={key:25,class:"bg-white border-b border-blue-300 dark:border-blue-700"},ga={class:"px-2 py-1 text-right border border-blue-300 dark:border-blue-700 bg-white"},xa={class:"font-mono text-xs"},pa={class:"px-2 py-1 text-right border border-blue-300 dark:border-blue-700 font-semibold bg-blue-200 dark:bg-blue-900/20 text-white dark:text-gray-200"},fa={class:"font-mono text-xs text-blue-700 dark:text-blue-300"},ha={key:1,class:"px-2 py-1 text-right border border-blue-300 dark:border-blue-700 font-semibold bg-blue-200 dark:bg-blue-900/20 text-white dark:text-gray-200"},ma={class:"font-mono text-xs text-blue-700 dark:text-blue-300"},ka={class:"bg-blue-500 dark:bg-blue-900/20 text-white dark:text-gray-2000 border-b-2 border-blue-600"},va={class:"px-2 py-1 text-right border border-blue-600 font-semibold bg-blue-500 dark:bg-blue-900/20 text-white dark:text-gray-2000"},ya={class:"font-mono text-xs text-white"},_a={class:"px-2 py-1 text-right border border-blue-600 font-semibold bg-blue-500 dark:bg-blue-900/20 text-white dark:text-gray-2000"},wa={class:"font-mono text-xs text-white"},Ra={class:"px-2 py-1 text-right border border-blue-600 font-bold bg-blue-500 dark:bg-blue-900/20 text-white dark:text-gray-2000"},$a={class:"font-mono text-xs text-white"},Aa={key:1,class:"px-2 py-1 text-right border border-blue-600 font-bold bg-blue-500 dark:bg-blue-900/20 text-white dark:text-gray-2000"},Ea={class:"font-mono text-xs text-white"},Fa={class:"bg-[#5FA8AF] border-b border-[#5FA8AF]"},Sa={key:1,class:"px-2 py-1 text-center border border-[#5FA8AF] bg-[#5FA8AF]"},Ca={key:26,class:"bg-white border-b border-blue-300 dark:border-blue-700"},Ya={class:"px-2 py-1 text-right border border-blue-300 dark:border-blue-700 bg-white"},Ta={class:"font-mono text-xs"},Oa={class:"px-2 py-1 text-right border border-blue-300 dark:border-blue-700 bg-white"},Da={class:"font-mono text-xs text-blue-600"},Pa={class:"px-2 py-1 text-right border border-blue-300 dark:border-blue-700 font-semibold bg-blue-500 dark:bg-blue-900/20 text-white dark:text-gray-200"},Va={class:"font-mono text-xs text-blue-700 dark:text-blue-300"},Ba={key:1,class:"px-2 py-1 text-right border border-blue-300 dark:border-blue-700 bg-white"},Ma={class:"font-mono text-xs text-blue-700 dark:text-blue-300"},La={class:"bg-gray-100 border-b border-gray-200"},ja={key:1,class:"px-2 py-1 text-center border border-gray-200 bg-gray-100"},Ja={class:"bg-red-600 border-b-2 border-red-700"},Na={class:"px-2 py-1 text-right border border-red-700 font-semibold bg-red-600"},Ia={class:"font-mono text-xs text-white"},Ua={class:"px-2 py-1 text-right border border-red-700 font-semibold bg-red-600"},qa={class:"font-mono text-xs text-red-200"},Ga={class:"px-2 py-1 text-right border border-red-700 font-bold bg-red-600"},za={class:"font-mono text-xs text-white"},Ha={key:1,class:"px-2 py-1 text-right border border-red-700 font-bold bg-red-600"},Wa={class:"font-mono text-xs text-white"},Ka={class:"bg-blue-500 dark:bg-blue-900/20 text-white dark:text-gray-2000 border-b-2 border-blue-600"},Xa={class:"px-2 py-1 text-right border border-blue-600 font-semibold bg-blue-500 dark:bg-blue-900/20 text-white dark:text-gray-2000"},Qa={class:"font-mono text-xs text-white"},Za={class:"px-2 py-1 text-right border border-blue-600 font-semibold bg-blue-500 dark:bg-blue-900/20 text-white dark:text-gray-2000"},ed={class:"font-mono text-xs text-blue-200"},td={class:"px-2 py-1 text-right border border-blue-600 font-bold bg-blue-500 dark:bg-blue-900/20 text-white dark:text-gray-2000"},rd={class:"font-mono text-xs text-white"},od={key:1,class:"px-2 py-1 text-right border border-blue-600 font-bold bg-blue-500 dark:bg-blue-900/20 text-white dark:text-gray-2000"},sd={class:"font-mono text-xs text-white"},nd={__name:"RoomProfitLoss",props:{visibleYears:{type:Array,required:!0}},setup(v){const f=v,_=Ut(),{advancedModes:F}=Nt(_),h=Bt();function p(){try{return localStorage.getItem("marketSegmentation")==="true"}catch(b){return!1}}const S=pe(()=>{var l;return((l=Q.value)==null?void 0:l.project_name)||"Project Name"});et(Q,()=>{R()},{deep:!0}),It(()=>{var b;R(),(b=Q.value)!=null&&b.project_name});const k=q({}),m=pe(()=>{try{const b=new Set;if(S.value){const s=h.getRowValues(S.value,"Expense Assumptions:Room");if(s&&Object.keys(s).length>0&&(Object.values(s).forEach(u=>{Object.values(u).forEach(E=>{Object.keys(E).forEach(C=>{C&&b.add(C)})})}),b.size>0))return Array.from(b)}const l=k.value||{};for(const[s,u]of Object.entries(l))for(const[E,C]of Object.entries(u))(C||[]).forEach(L=>{const B=(L.department||"").toLowerCase();if(B==="room"||B==="rooms"){const re=L.expense;re&&b.add(re)}});return Array.from(b)}catch(b){return[]}});function x(b){const l=Number(b);return isNaN(l)?0:l}function R(){return H(this,null,function*(){try{if(S.value){const l=h.getRowValues(S.value,"Expense Assumptions:Room");if(l&&Object.keys(l).length>0){const s={};Object.entries(l).forEach(([u,E])=>{s[u]={},Object.entries(E).forEach(([C,L])=>{s[u][C]=Object.entries(L).map(([B,re])=>({expense:B,amount:re,department:"Room"}))})}),k.value=s;return}}const b=yield Tr();b&&!b.status?k.value=b:k.value={}}catch(b){k.value={}}})}function w(b){return x(b).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}function j(b){return x(b).toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:0})}function te(b){return x(b).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}function z(b){_.toggleCollapse(b)}function Y(b){return _.isYearCollapsed(b)}function A(b){const l=F.value[b]||"monthly";return l==="monthly"?["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]:l==="quarterly"?["Jan-Mar","Apr-Jun","Jul-Sep","Oct-Dec"]:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}function fe(b,l,s){var u,E;try{const C=G(l);let L=0;for(const B of C){const re=h.getValue(S.value,"Expense Assumptions:Room",s,b,B);if(re>0){L+=re;continue}const Ie=(((E=(u=k.value)==null?void 0:u[b])==null?void 0:E[B])||[]).filter(ye=>{const le=(ye.department||"").toLowerCase();return(le==="room"||le==="rooms")&&ye.expense===s});L+=Ie.reduce((ye,le)=>ye+x(le.amount),0)}return L}catch(C){return 0}}function oe(b,l){try{return A(b).reduce((u,E)=>u+x(fe(b,E,l)),0)}catch(s){return 0}}function he(b){if(!f.visibleYears||f.visibleYears.length===0)return!1;for(const l of f.visibleYears){const s=A(l);for(const u of s)if(fe(l,u,b)>0)return!0}return!1}function se(b,l){try{let s=0;for(const u of m.value)s+=x(fe(b,l,u));return s}catch(s){return 0}}function me(b){try{return A(b).reduce((s,u)=>s+x(se(b,u)),0)}catch(l){return 0}}function _e(b,l){try{const s=se(b,l),u=ce(b,l);return u>0?Number((s/u*100).toFixed(2)):0}catch(s){return console.error("Error calculating gross room expenses percentage:",s),0}}function de(b,l){try{const s=localStorage.getItem("marketSegmentation")==="true",u=h.getValue(S.value,"Room Revenue Assumptions","Total Rooms",b,l);return u!=null?x(u):100}catch(s){return console.error("Error fetching room count:",s),100}}function Ge(b){try{const l=A(b);let s=0;for(const u of l){const E=de(b,u);s+=x(E)}return s}catch(l){return console.error("Error calculating total rooms:",l),0}}function we(b,l){return l==="Jan"||l==="Mar"||l==="May"||l==="Jul"||l==="Aug"||l==="Oct"||l==="Dec"?31:l==="Apr"||l==="Jun"||l==="Sep"||l==="Nov"?30:l==="Feb"?28:l==="Jan-Mar"?90:l==="Apr-Jun"?91:l==="Jul-Sep"||l==="Oct-Dec"?92:30}function Pe(b){return A(b).reduce((s,u)=>s+x(we(b,u)),0)}function ue(b,l){try{let s=h.getValue(S.value,"F&B Revenue Assumptions","Number of rooms available",b,l);if(s!=null)return x(s);if(localStorage.getItem("marketSegmentation")==="true"){const B=h.getValue(S.value,"Room Revenue Assumptions","Total Rooms",b,l);if(B!=null){const re=we(b,l);return x(B)*re}}const E=de(b,l),C=we(b,l);return E*C}catch(s){console.error("Error fetching available rooms:",s);const u=de(b,l),E=we(b,l);return u*E}}function Ve(b){return A(b).reduce((s,u)=>s+x(ue(b,u)),0)}function J(b,l){try{const s=h.getValue(S.value,"F&B Revenue Assumptions","Number of rooms sold (excl.)",b,l);if(s!=null)return x(s);const u=h.getValue(S.value,"F&B Revenue Assumptions","Occupancy (excl.) %",b,l);if(u!=null){const L=ue(b,l);return Math.round(x(u)/100*L)}const E=ue(b,l);return Math.round(E*.75)}catch(s){return console.error("Error fetching sold rooms:",s),0}}function Fe(b){return A(b).reduce((s,u)=>s+x(J(b,u)),0)}function ze(b,l){try{const s=h.getValue(S.value,"F&B Revenue Assumptions","Occupancy (excl.) %",b,l);if(s!=null)return x(s);const u=J(b,l),E=ue(b,l);return E>0?Number((u/E*100).toFixed(2)):0}catch(s){return console.error("Error fetching occupancy percentage:",s),0}}function Re(b){const l=A(b),s=l.reduce((E,C)=>E+x(J(b,C)),0),u=l.reduce((E,C)=>E+x(ue(b,C)),0);return u>0?Number((s/u*100).toFixed(2)):0}function Be(b,l){try{const s=h.getValue(S.value,"F&B Revenue Assumptions","Number of guests",b,l);return s!=null?x(s):0}catch(s){return console.error("Error fetching number of guests:",s),0}}function ke(b){return A(b).reduce((s,u)=>s+x(Be(b,u)),0)}function He(b,l){try{const s=h.getValue(S.value,"F&B Revenue Assumptions","Total Covers",b,l);return s!=null?x(s):0}catch(s){return console.error("Error fetching number of covers:",s),0}}function tt(b){return A(b).reduce((s,u)=>s+x(He(b,u)),0)}function Se(b,l){try{const s=h.getValue(S.value,"F&B Revenue Assumptions","Average Spent Per F&B Customer",b,l);return s!=null?x(s):0}catch(s){return console.error("Error fetching average F&B spent:",s),0}}function rt(b){const l=A(b),s=l.reduce((u,E)=>u+x(Se(b,E)),0);return s>0?s/l.length:0}function Me(b,l){try{const s=h.getValue(S.value,"F&B Revenue Assumptions","Average Room Rate",b,l);return s!=null?x(s):0}catch(s){return console.error("Error fetching average room rate:",s),0}}function We(b){const l=A(b),s=l.reduce((u,E)=>u+x(Me(b,E)),0);return s>0?s/l.length:0}function Ke(b,l){try{const s=h.getValue(S.value,"F&B Revenue Assumptions","Revenue Per Available Room",b,l);if(s!=null)return x(s);const u=J(b,l),E=Me(b,l),C=ue(b,l);return C>0?u*E/C:0}catch(s){return console.error("Error fetching revenue per available room:",s),0}}function ot(b){const l=A(b),s=l.reduce((u,E)=>u+x(Ke(b,E)),0);return s>0?s/l.length:0}function gt(){if(!f.visibleYears||f.visibleYears.length===0)return!1;for(const b of f.visibleYears){const l=A(b);for(const s of l)if(de(b,s)>0)return!0}return!1}function xt(){if(!f.visibleYears||f.visibleYears.length===0)return!1;for(const b of f.visibleYears){const l=A(b);for(const s of l)if(we(b,s)>0)return!0}return!1}function Ce(){if(!f.visibleYears||f.visibleYears.length===0)return!1;for(const b of f.visibleYears){const l=A(b);for(const s of l)if(ue(b,s)>0)return!0}return!1}function Le(){if(!f.visibleYears||f.visibleYears.length===0)return!1;for(const b of f.visibleYears){const l=A(b);for(const s of l)if(J(b,s)>0)return!0}return!1}function je(){if(!f.visibleYears||f.visibleYears.length===0)return!1;for(const b of f.visibleYears){const l=A(b);for(const s of l)if(ze(b,s)>0)return!0}return!1}function T(){if(!f.visibleYears||f.visibleYears.length===0)return!1;for(const b of f.visibleYears){const l=A(b);for(const s of l)if(Be(b,s)>0)return!0}return!1}function $(){if(!f.visibleYears||f.visibleYears.length===0)return!1;for(const b of f.visibleYears){const l=A(b);for(const s of l)if(He(b,s)>0)return!0}return!1}function M(){if(!f.visibleYears||f.visibleYears.length===0)return!1;for(const b of f.visibleYears){const l=A(b);for(const s of l)if(Se(b,s)>0)return!0}return!1}function W(){if(!f.visibleYears||f.visibleYears.length===0)return!1;for(const b of f.visibleYears){const l=A(b);for(const s of l)if(Me(b,s)>0)return!0}return!1}function K(){if(!f.visibleYears||f.visibleYears.length===0)return!1;for(const b of f.visibleYears){const l=A(b);for(const s of l)if(Ke(b,s)>0)return!0}return!1}function G(b){return b==="Jan-Mar"?["Jan","Feb","Mar"]:b==="Apr-Jun"?["Apr","May","Jun"]:b==="Jul-Sep"?["Jul","Aug","Sep"]:b==="Oct-Dec"?["Oct","Nov","Dec"]:[b]}function ie(b){try{if(!b||!b.startsWith("MonthlySalary|"))return null;const l=/^MonthlySalary\|position:(.*?)\|location:(.*?)\|designation:(.*)$/,s=b.match(l);return s?{position:(s[1]||"").trim(),location:(s[2]||"").trim(),designation:(s[3]||"").trim()}:null}catch(l){return null}}function Z(b){if(!b)return!1;const l=b.toLowerCase();return l.includes("manager")&&!l.includes("non-manager")||l.includes("director")||l.includes("supervisor")}const ge=pe(()=>{var b,l;try{const s=S.value,E=((l=(b=h==null?void 0:h.cache)==null?void 0:b[s])==null?void 0:l["Payroll"])||{},C=new Set;return Object.keys(E).forEach(L=>{const B=ie(L);B&&Z(B.position)&&B.location&&C.add(B.location)}),Array.from(C)}catch(s){return console.error("Room P&L: Error discovering payroll management locations:",s),[]}}),be=pe(()=>{var b,l;try{const s=S.value,E=((l=(b=h==null?void 0:h.cache)==null?void 0:b[s])==null?void 0:l["Payroll"])||{},C=new Set;return Object.keys(E).forEach(L=>{const B=ie(L);B&&!Z(B.position)&&B.location&&C.add(B.location)}),Array.from(C)}catch(s){return console.error("Room P&L: Error discovering payroll non-management locations:",s),[]}});function xe(b,l,s,u){var E,C;try{const L=S.value,B="Payroll",re=((C=(E=h==null?void 0:h.cache)==null?void 0:E[L])==null?void 0:C[B])||{},ve=G(l);let Ie=0;return Object.keys(re).forEach(ye=>{const le=ie(ye);if(!le||!le.location||le.location!==s)return;const Ue=Z(le.position);if(!(u==="management"&&!Ue||u==="non-management"&&Ue))for(const Ct of ve){const Ze=h.getValue(L,B,ye,b,Ct);Ze!=null&&(Ie+=x(Ze))}}),Ie}catch(L){return 0}}function Ye(b,l,s){try{return A(b).reduce((E,C)=>E+x(xe(b,C,l,s)),0)}catch(u){return 0}}function pt(b){try{const l=b==="management"?ge.value:be.value;if(!l||l.length===0)return!1;for(const s of Array.isArray(f.visibleYears)?f.visibleYears:[])for(const u of l){const E=Ye(s,u,b);if(x(E)>0)return!0}return!1}catch(l){return!1}}function Te(b,l){try{let s=0;for(const u of ge.value)s+=x(xe(b,l,u,"management"));for(const u of be.value)s+=x(xe(b,l,u,"non-management"));return s}catch(s){return console.error("Error calculating total payroll:",s),0}}function ft(b){try{return A(b).reduce((s,u)=>s+x(Te(b,u)),0)}catch(l){return console.error("Error calculating total payroll for year:",l),0}}function st(b,l){try{const s=Te(b,l),u=ce(b,l);return u>0?Number((s/u*100).toFixed(2)):0}catch(s){return console.error("Error calculating total payroll percentage:",s),0}}const nt=pe(()=>{var b,l;try{const s=S.value,E=((l=(b=h==null?void 0:h.cache)==null?void 0:b[s])==null?void 0:l["Market Segmentation"])||{},C=new Set;return Object.keys(E).forEach(L=>{if(L.startsWith("Room Revenue:")){const B=L.replace("Room Revenue:","").trim();B&&C.add(B)}}),Array.from(C)}catch(s){return console.error("Room P&L: Error discovering room revenue segments:",s),[]}});function $e(b,l,s){try{const u=S.value,E=G(l);let C=0;for(const L of E){const B=h.getValue(u,"Market Segmentation",`Room Revenue:${s}`,b,L);B!=null&&(C+=x(B))}return C}catch(u){return console.error("Error fetching segment revenue:",s,u),0}}function lt(b,l){try{const s=S.value,u=h.getValue(s,"Market Segmentation",`Room Revenue Year:${l}`,b,"ALL");return u!=null?x(u):A(b).reduce((C,L)=>C+x($e(b,L,l)),0)}catch(s){return A(b).reduce((E,C)=>E+x($e(b,C,l)),0)}}function at(b,l,s){try{const u=$e(b,l,s),E=Ee(b);return E>0?Number((u/E*100).toFixed(2)):0}catch(u){return console.error("Error calculating segment revenue percentage:",u),0}}function ht(b){if(!f.visibleYears||f.visibleYears.length===0)return!1;for(const l of f.visibleYears){const s=A(l);for(const u of s)if($e(l,u,b)>0)return!0}return!1}const Je=pe(()=>{var b,l;try{const s=S.value,E=((l=(b=h==null?void 0:h.cache)==null?void 0:b[s])==null?void 0:l["Room Revenue Assumptions"])||{},C=new Set;return Object.keys(E).forEach(L=>{if(L.startsWith("Room Type:")){const B=L.replace("Room Type:","").trim();B&&C.add(B)}}),Array.from(C)}catch(s){return console.error("Room P&L: Error discovering room type packages:",s),[]}});function Ae(b,l,s){try{const u=S.value,E=G(l);let C=0;for(const L of E){const B=h.getValue(u,"Room Revenue Assumptions",`Room Type:${s}`,b,L);B!=null&&(C+=x(B))}return C}catch(u){return console.error("Error fetching Room Type revenue:",s,u),0}}function dt(b,l){try{const s=S.value,u=h.getValue(s,"Room Revenue Assumptions",`Room Type Year:${l}`,b,"ALL");return u!=null?x(u):A(b).reduce((C,L)=>C+x(Ae(b,L,l)),0)}catch(s){return A(b).reduce((E,C)=>E+x(Ae(b,C,l)),0)}}function Et(b,l,s){try{const u=Ae(b,l,s),E=Ee(b);return E>0?Number((u/E*100).toFixed(2)):0}catch(u){return console.error("Error calculating room type revenue percentage:",u),0}}function Xe(b){if(!f.visibleYears||f.visibleYears.length===0)return!1;for(const l of f.visibleYears){const s=A(l);for(const u of s)if(Ae(l,u,b)>0)return!0}return!1}function ce(b,l){try{return p()?nt.value.reduce((s,u)=>s+x($e(b,l,u)),0):Je.value.reduce((s,u)=>s+x(Ae(b,l,u)),0)}catch(s){return console.error("Error calculating total rooms revenue:",s),0}}function Ee(b){if(p()){const u=nt.value.map(E=>lt(b,E)).reduce((E,C)=>E+x(C),0);if(u>0)return u}else{const u=Je.value.map(E=>dt(b,E)).reduce((E,C)=>E+x(C),0);if(u>0)return u}return A(b).reduce((s,u)=>s+x(ce(b,u)),0)}function ee(b,l,s){try{const u=S.value,E=G(l);let C=0;const B={NSSIT:{page:"Payroll Taxes",rowCode:"NSSIT"},Vacation:{page:"Payroll Related",rowCode:"hotel | vacation"},Relocation:{page:"Payroll Related",rowCode:"hotel | relocation"},"Severence & Indemnity":{page:"Payroll Related",rowCode:"hotel | severence & indemnity"},Other:{page:"Payroll Related",rowCode:"hotel | other"},Medical:{page:"Payroll Related",rowCode:"category: Rooms | medical"},Uniforms:{page:"Payroll Related",rowCode:"category: Rooms | uniforms"},"Employee Meal":{page:"Payroll Related",rowCode:"category: Rooms | employee_meal"},Transport:{page:"Payroll Related",rowCode:"category: Rooms | transport"},Telephone:{page:"Payroll Related",rowCode:"category: Rooms | telephone"},"Air Ticket":{page:"Payroll Related",rowCode:"category: Rooms | air_ticket"},"Other Benefits":{page:"Payroll Related",rowCode:"category: Rooms | other_benefits"}}[s];if(!B)return 0;for(const re of E){const ve=h.getValue(u,B.page,B.rowCode,b,re);ve!=null&&(C+=x(ve))}return C}catch(u){return console.error("Error fetching payroll related value:",s,u),0}}function I(b,l){try{return A(b).reduce((u,E)=>u+x(ee(b,E,l)),0)}catch(s){return console.error("Error calculating payroll related total:",l,s),0}}function ne(b){if(!f.visibleYears||f.visibleYears.length===0)return!1;for(const l of f.visibleYears){const s=A(l);for(const u of s)if(ee(l,u,b)>0)return!0}return!1}function Oe(b,l){try{const s=S.value,u=G(l);let E=0;for(const C of u){const L=h.getValue(s,"Bonus","Total Hotel",b,C);L!=null&&(E+=x(L))}return E}catch(s){return console.error("Error fetching bonus value:",s),0}}function mt(b){try{const l=S.value,s=h.getValue(l,"Bonus","Total Hotel",b,"Total");return s!=null?x(s):A(b).reduce((E,C)=>E+x(Oe(b,C)),0)}catch(l){return console.error("Error calculating bonus total for year:",l),0}}function kt(b,l){try{const s=Oe(b,l),u=ce(b,l);return u>0?Number((s/u*100).toFixed(2)):0}catch(s){return console.error("Error calculating bonus percentage:",s),0}}function Qe(b,l){try{const s=["NSSIT","Vacation","Relocation","Severence & Indemnity","Other","Medical","Uniforms","Employee Meal","Transport","Telephone","Air Ticket","Other Benefits"];let u=0;for(const E of s)u+=x(ee(b,l,E));return u}catch(s){return console.error("Error calculating total payroll related expenses:",s),0}}function it(b){try{return A(b).reduce((s,u)=>s+x(Qe(b,u)),0)}catch(l){return console.error("Error calculating total payroll related expenses for year:",l),0}}function Ft(b,l){try{const s=Qe(b,l),u=ce(b,l);return u>0?Number((s/u*100).toFixed(2)):0}catch(s){return console.error("Error calculating total payroll related expenses percentage:",s),0}}function Ne(b,l){try{let s=0;return s+=x(se(b,l)),s+=x(Te(b,l)),s+=x(Qe(b,l)),s+=x(Oe(b,l)),s}catch(s){return console.error("Error calculating total expenses:",s),0}}function vt(b){try{return A(b).reduce((s,u)=>s+x(Ne(b,u)),0)}catch(l){return console.error("Error calculating total expenses for year:",l),0}}function yt(b,l){try{const s=Ne(b,l),u=ce(b,l);return u>0?Number((s/u*100).toFixed(2)):0}catch(s){return console.error("Error calculating total expenses percentage:",s),0}}function ut(b,l){try{const s=x(ce(b,l)),u=x(Ne(b,l));return s-u}catch(s){return console.error("Error calculating departmental income:",s),0}}function bt(b){try{return A(b).reduce((s,u)=>s+x(ut(b,u)),0)}catch(l){return console.error("Error calculating departmental income for year:",l),0}}function St(b,l){try{const s=ut(b,l),u=ce(b,l);return u>0?Number((s/u*100).toFixed(2)):0}catch(s){return console.error("Error calculating departmental income percentage:",s),0}}function _t(){if(!f.visibleYears||f.visibleYears.length===0)return!1;for(const b of f.visibleYears){const l=A(b);for(const s of l)if(Oe(b,s)>0)return!0}return!1}return(b,l)=>(r(),o("div",uo,[e("div",bo,[e("div",co,[e("table",go,[e("thead",xo,[e("tr",po,[e("td",{colspan:1+v.visibleYears.reduce((s,u)=>s+(Y(u)?1:A(u).length*2+1),0),class:"px-6 py-4 text-center"},[e("div",ho,[P(V(sr),{class:"w-6 h-6 text-blue-200"}),e("h1",mo,c(S.value),1)])],8,fo)]),e("tr",ko,[e("td",{colspan:1+v.visibleYears.reduce((s,u)=>s+(Y(u)?1:A(u).length*2+1),0),class:"px-6 py-4 text-center"},l[0]||(l[0]=[e("div",{class:"flex items-center justify-center gap-2"},[e("h2",{class:"text-xl font-semibold tracking-wide"},"Room Profit & Loss Report")],-1)]),8,vo)]),e("tr",null,[l[1]||(l[1]=e("th",{rowspan:"2",class:"px-3 py-2 text-left align-middle border-r border-blue-400 font-semibold text-sm min-w-[200px]"},[e("div",{class:"flex items-center gap-1"}," Details ")],-1)),(r(!0),o(a,null,g(v.visibleYears,s=>(r(),o("th",{key:"header-"+s,colspan:Y(s)?1:A(s).length*2+1,class:"px-2 py-2 text-center border-x-2 border-white cursor-pointer select-none hover:bg-blue-700 transition-all duration-200 group text-sm",onClick:u=>z(s),title:"Click to collapse/expand"},[e("div",_o,[e("span",wo,c(s),1),Y(s)?(r(),ct(V(nr),{key:1,class:"w-3 h-3 transition-transform group-hover:scale-110"})):(r(),ct(V(qt),{key:0,class:"w-3 h-3 transition-transform group-hover:scale-110"}))])],8,yo))),128))]),e("tr",Ro,[(r(!0),o(a,null,g(v.visibleYears,s=>(r(),o(a,{key:"months-"+s},[Y(s)?(r(),o("th",Fo,[e("div",So,[P(V(At),{class:"w-2 h-2"}),l[4]||(l[4]=U(" Total ",-1))])])):(r(),o(a,{key:0},[(r(!0),o(a,null,g(A(s),u=>(r(),o(a,{key:s+"-"+u},[e("th",$o,c(u),1),l[2]||(l[2]=e("th",{class:"px-2 py-1 text-center border border-blue-300 min-w-[80px] font-medium text-blue-200"}," % ",-1))],64))),128)),e("th",Ao,[e("div",Eo,[P(V(At),{class:"w-2 h-2"}),l[3]||(l[3]=U(" Total ",-1))])])],64))],64))),128))])]),e("tbody",Co,[e("tr",Yo,[e("td",{colspan:2+v.visibleYears.reduce((s,u)=>s+(Y(u)?1:A(u).length*2+1),0),class:"px-3 py-3 font-bold text-white border-r border-blue-700"},l[5]||(l[5]=[e("div",{class:"flex items-center gap-2"}," Statistics ",-1)]),8,To)]),gt()?(r(),o("tr",Oo,[l[7]||(l[7]=e("td",{class:"px-3 py-2 font-medium border-r border-blue-300 dark:border-blue-700"},[e("div",{class:"flex items-center gap-1"}," NO OF ROOMS ")],-1)),(r(!0),o(a,null,g(v.visibleYears,s=>(r(),o(a,{key:"no-rooms-"+s},[Y(s)?(r(),o("td",Mo,[e("span",Lo,c(j(Ge(s))),1)])):(r(),o(a,{key:0},[(r(!0),o(a,null,g(A(s),u=>(r(),o(a,{key:"no-rooms-cell-"+s+"-"+u},[e("td",Do,[e("span",Po,c(j(de(s,u))),1)]),l[6]||(l[6]=e("td",{class:"px-2 py-1 text-right border border-blue-300 dark:border-blue-700 bg-blue-500 dark:bg-blue-900/20 text-white dark:text-gray-200"},null,-1))],64))),128)),e("td",Vo,[e("span",Bo,c(j(Ge(s))),1)])],64))],64))),128))])):D("",!0),xt()?(r(),o("tr",jo,[l[9]||(l[9]=e("td",{class:"px-3 py-2 font-medium border-r border-blue-300 dark:border-blue-700"},[e("div",{class:"flex items-center gap-1"}," NO OF DAYS ")],-1)),(r(!0),o(a,null,g(v.visibleYears,s=>(r(),o(a,{key:"no-days-"+s},[Y(s)?(r(),o("td",qo,[e("span",Go,c(j(Pe(s))),1)])):(r(),o(a,{key:0},[(r(!0),o(a,null,g(A(s),u=>(r(),o(a,{key:"no-days-cell-"+s+"-"+u},[e("td",Jo,[e("span",No,c(j(we(s,u))),1)]),l[8]||(l[8]=e("td",{class:"px-2 py-1 text-right border border-blue-300 dark:border-blue-700 bg-blue-500 dark:bg-blue-900/20 text-white dark:text-gray-200"},null,-1))],64))),128)),e("td",Io,[e("span",Uo,c(j(Pe(s))),1)])],64))],64))),128))])):D("",!0),Ce()?(r(),o("tr",zo,[l[11]||(l[11]=e("td",{class:"px-3 py-2 font-medium border-r border-blue-300 dark:border-blue-700"},[e("div",{class:"flex items-center gap-1"}," AVAILABLE ROOMS ")],-1)),(r(!0),o(a,null,g(v.visibleYears,s=>(r(),o(a,{key:"available-rooms-"+s},[Y(s)?(r(),o("td",Qo,[e("span",Zo,c(j(Ve(s))),1)])):(r(),o(a,{key:0},[(r(!0),o(a,null,g(A(s),u=>(r(),o(a,{key:"available-rooms-cell-"+s+"-"+u},[e("td",Ho,[e("span",Wo,c(j(ue(s,u))),1)]),l[10]||(l[10]=e("td",{class:"px-2 py-1 text-right border border-blue-300 dark:border-blue-700 bg-blue-500 dark:bg-blue-900/20 text-white dark:text-gray-200"},null,-1))],64))),128)),e("td",Ko,[e("span",Xo,c(j(Ve(s))),1)])],64))],64))),128))])):D("",!0),Le()?(r(),o("tr",es,[l[13]||(l[13]=e("td",{class:"px-3 py-2 font-medium border-r border-blue-300 dark:border-blue-700"},[e("div",{class:"flex items-center gap-1"}," SOLD ROOMS (excl. comp) ")],-1)),(r(!0),o(a,null,g(v.visibleYears,s=>(r(),o(a,{key:"sold-rooms-"+s},[Y(s)?(r(),o("td",ns,[e("span",ls,c(j(Fe(s))),1)])):(r(),o(a,{key:0},[(r(!0),o(a,null,g(A(s),u=>(r(),o(a,{key:"sold-rooms-cell-"+s+"-"+u},[e("td",ts,[e("span",rs,c(j(J(s,u))),1)]),l[12]||(l[12]=e("td",{class:"px-2 py-1 text-right border border-blue-300 dark:border-blue-700 bg-blue-500 dark:bg-blue-900/20 text-white dark:text-gray-200"},null,-1))],64))),128)),e("td",os,[e("span",ss,c(j(Fe(s))),1)])],64))],64))),128))])):D("",!0),je()?(r(),o("tr",as,[l[15]||(l[15]=e("td",{class:"px-3 py-2 font-medium border-r border-blue-300 dark:border-blue-700"},[e("div",{class:"flex items-center gap-1"}," ROOM OCCUPANCY % ")],-1)),(r(!0),o(a,null,g(v.visibleYears,s=>(r(),o(a,{key:"occupancy-"+s},[Y(s)?(r(),o("td",cs,[e("span",gs,c(te(Re(s)))+"%",1)])):(r(),o(a,{key:0},[(r(!0),o(a,null,g(A(s),u=>(r(),o(a,{key:"occupancy-cell-"+s+"-"+u},[e("td",ds,[e("span",is,c(te(ze(s,u)))+"%",1)]),l[14]||(l[14]=e("td",{class:"px-2 py-1 text-right border border-blue-300 dark:border-blue-700 bg-blue-500 dark:bg-blue-900/20 text-white dark:text-gray-200"},null,-1))],64))),128)),e("td",us,[e("span",bs,c(te(Re(s)))+"%",1)])],64))],64))),128))])):D("",!0),T()?(r(),o("tr",xs,[l[17]||(l[17]=e("td",{class:"px-3 py-2 font-medium border-r border-blue-300 dark:border-blue-700"},[e("div",{class:"flex items-center gap-1"}," NUMBER OF GUESTS ")],-1)),(r(!0),o(a,null,g(v.visibleYears,s=>(r(),o(a,{key:"guests-"+s},[Y(s)?(r(),o("td",ks,[e("span",vs,c(j(ke(s))),1)])):(r(),o(a,{key:0},[(r(!0),o(a,null,g(A(s),u=>(r(),o(a,{key:"guests-cell-"+s+"-"+u},[e("td",ps,[e("span",fs,c(j(Be(s,u))),1)]),l[16]||(l[16]=e("td",{class:"px-2 py-1 text-right border border-blue-300 dark:border-blue-700 bg-blue-500 dark:bg-blue-900/20 text-white dark:text-gray-200"},null,-1))],64))),128)),e("td",hs,[e("span",ms,c(j(ke(s))),1)])],64))],64))),128))])):D("",!0),$()?(r(),o("tr",ys,[l[19]||(l[19]=e("td",{class:"px-3 py-2 font-medium border-r border-blue-300 dark:border-blue-700"},[e("div",{class:"flex items-center gap-1"}," NUMBER OF F&B COVERS ")],-1)),(r(!0),o(a,null,g(v.visibleYears,s=>(r(),o(a,{key:"covers-"+s},[Y(s)?(r(),o("td",As,[e("span",Es,c(j(tt(s))),1)])):(r(),o(a,{key:0},[(r(!0),o(a,null,g(A(s),u=>(r(),o(a,{key:"covers-cell-"+s+"-"+u},[e("td",_s,[e("span",ws,c(j(He(s,u))),1)]),l[18]||(l[18]=e("td",{class:"px-2 py-1 text-right border border-blue-300 dark:border-blue-700 bg-blue-500 dark:bg-blue-900/20 text-white dark:text-gray-200"},null,-1))],64))),128)),e("td",Rs,[e("span",$s,c(j(tt(s))),1)])],64))],64))),128))])):D("",!0),M()?(r(),o("tr",Fs,[l[21]||(l[21]=e("td",{class:"px-3 py-2 font-medium border-r border-blue-300 dark:border-blue-700"},[e("div",{class:"flex items-center gap-1"}," AVERAGE F&B SPENT PER COVER ")],-1)),(r(!0),o(a,null,g(v.visibleYears,s=>(r(),o(a,{key:"avg-fnb-"+s},[Y(s)?(r(),o("td",Os,[e("span",Ds,c(w(rt(s))),1)])):(r(),o(a,{key:0},[(r(!0),o(a,null,g(A(s),u=>(r(),o(a,{key:"avg-fnb-cell-"+s+"-"+u},[e("td",Ss,[e("span",Cs,c(w(Se(s,u))),1)]),l[20]||(l[20]=e("td",{class:"px-2 py-1 text-right border border-blue-300 dark:border-blue-700 bg-blue-500 dark:bg-blue-900/20 text-white dark:text-gray-200"},null,-1))],64))),128)),e("td",Ys,[e("span",Ts,c(w(rt(s))),1)])],64))],64))),128))])):D("",!0),W()?(r(),o("tr",Ps,[l[23]||(l[23]=e("td",{class:"px-3 py-2 font-medium border-r border-blue-300 dark:border-blue-700"},[e("div",{class:"flex items-center gap-1"}," AVERAGE ROOM RATE ")],-1)),(r(!0),o(a,null,g(v.visibleYears,s=>(r(),o(a,{key:"avg-rate-"+s},[Y(s)?(r(),o("td",js,[e("span",Js,c(w(We(s))),1)])):(r(),o(a,{key:0},[(r(!0),o(a,null,g(A(s),u=>(r(),o(a,{key:"avg-rate-cell-"+s+"-"+u},[e("td",Vs,[e("span",Bs,c(w(Me(s,u))),1)]),l[22]||(l[22]=e("td",{class:"px-2 py-1 text-right border border-blue-300 dark:border-blue-700 bg-blue-500 dark:bg-blue-900/20 text-white dark:text-gray-200"},null,-1))],64))),128)),e("td",Ms,[e("span",Ls,c(w(We(s))),1)])],64))],64))),128))])):D("",!0),K()?(r(),o("tr",Ns,[l[25]||(l[25]=e("td",{class:"px-3 py-2 font-medium border-r border-blue-300 dark:border-blue-700"},[e("div",{class:"flex items-center gap-1"}," REVENUE PER AVAILABLE ROOM ")],-1)),(r(!0),o(a,null,g(v.visibleYears,s=>(r(),o(a,{key:"rev-per-room-"+s},[Y(s)?(r(),o("td",zs,[e("span",Hs,c(w(ot(s))),1)])):(r(),o(a,{key:0},[(r(!0),o(a,null,g(A(s),u=>(r(),o(a,{key:"rev-per-room-cell-"+s+"-"+u},[e("td",Is,[e("span",Us,c(w(Ke(s,u))),1)]),l[24]||(l[24]=e("td",{class:"px-2 py-1 text-right border border-blue-300 dark:border-blue-700 bg-blue-500 dark:bg-blue-900/20 text-white dark:text-gray-200"},null,-1))],64))),128)),e("td",qs,[e("span",Gs,c(w(ot(s))),1)])],64))],64))),128))])):D("",!0),e("tr",Ws,[l[29]||(l[29]=e("td",{class:"px-3 py-2 border-r border-gray-200"},[e("div",{class:"flex items-center gap-1"})],-1)),(r(!0),o(a,null,g(v.visibleYears,s=>(r(),o(a,{key:"empty-stats-1-"+s},[Y(s)?(r(),o("td",Ks)):(r(),o(a,{key:0},[(r(!0),o(a,null,g(A(s),u=>(r(),o(a,{key:"empty-stats-1-cell-"+s+"-"+u},[l[26]||(l[26]=e("td",{class:"px-2 py-1 text-center border border-gray-200 bg-gray-100"},null,-1)),l[27]||(l[27]=e("td",{class:"px-2 py-1 text-center border border-gray-200 bg-gray-100"},null,-1))],64))),128)),l[28]||(l[28]=e("td",{class:"px-2 py-1 text-center border border-gray-200 bg-gray-100"},null,-1))],64))],64))),128))]),e("tr",Xs,[l[33]||(l[33]=e("td",{class:"px-3 py-2 border-r border-gray-200"},[e("div",{class:"flex items-center gap-1"})],-1)),(r(!0),o(a,null,g(v.visibleYears,s=>(r(),o(a,{key:"empty-stats-2-"+s},[Y(s)?(r(),o("td",Qs)):(r(),o(a,{key:0},[(r(!0),o(a,null,g(A(s),u=>(r(),o(a,{key:"empty-stats-2-cell-"+s+"-"+u},[l[30]||(l[30]=e("td",{class:"px-2 py-1 text-center border border-gray-200 bg-gray-100"},null,-1)),l[31]||(l[31]=e("td",{class:"px-2 py-1 text-center border border-gray-200 bg-gray-100"},null,-1))],64))),128)),l[32]||(l[32]=e("td",{class:"px-2 py-1 text-center border border-gray-200 bg-gray-100"},null,-1))],64))],64))),128))]),e("tr",Zs,[e("td",{colspan:2+v.visibleYears.reduce((s,u)=>s+(Y(u)?1:A(u).length*2+1),0),class:"px-3 py-3 font-bold text-white border-r border-blue-700"},l[34]||(l[34]=[e("div",{class:"flex items-center"}," Rooms Revenue ",-1)]),8,en)]),p()?(r(),o(a,{key:10},[(r(!0),o(a,null,g(nt.value,s=>(r(),o(a,{key:"segment-"+s},[ht(s)?(r(),o("tr",tn,[e("td",rn,[e("div",on,c(s),1)]),(r(!0),o(a,null,g(v.visibleYears,u=>(r(),o(a,{key:"segment-"+s+"-"+u},[Y(u)?(r(),o("td",bn,[e("span",cn,c(w(lt(u,s))),1)])):(r(),o(a,{key:0},[(r(!0),o(a,null,g(A(u),E=>(r(),o(a,{key:"segment-cell-"+s+"-"+u+"-"+E},[e("td",sn,[e("span",nn,c(w($e(u,E,s))),1)]),e("td",ln,[e("span",an,c(te(at(u,E,s)))+"%",1)])],64))),128)),e("td",dn,[e("span",un,c(w(lt(u,s))),1)])],64))],64))),128))])):D("",!0)],64))),128)),e("tr",gn,[l[36]||(l[36]=e("td",{class:"px-2 py-1 font-bold border-r border-blue-600"},[e("div",{class:"flex items-center gap-1 text-white"}," TOTAL REVENUE ")],-1)),(r(!0),o(a,null,g(v.visibleYears,s=>(r(),o(a,{key:"total-rooms-revenue-"+s},[Y(s)?(r(),o("td",mn,[e("span",kn,c(w(Ee(s))),1)])):(r(),o(a,{key:0},[(r(!0),o(a,null,g(A(s),u=>(r(),o(a,{key:"total-rooms-revenue-cell-"+s+"-"+u},[e("td",xn,[e("span",pn,c(w(ce(s,u))),1)]),l[35]||(l[35]=e("td",{class:"px-2 py-1 text-right border border-blue-600 font-semibold bg-blue-500 dark:bg-blue-900/20 text-white dark:text-gray-2000"},null,-1))],64))),128)),e("td",fn,[e("span",hn,c(w(Ee(s))),1)])],64))],64))),128))]),e("tr",vn,[l[40]||(l[40]=e("td",{class:"px-3 py-2 border-r border-gray-200"},[e("div",{class:"flex items-center gap-1"})],-1)),(r(!0),o(a,null,g(v.visibleYears,s=>(r(),o(a,{key:"empty-row-1-"+s},[Y(s)?(r(),o("td",yn)):(r(),o(a,{key:0},[(r(!0),o(a,null,g(A(s),u=>(r(),o(a,{key:"empty-row-1-cell-"+s+"-"+u},[l[37]||(l[37]=e("td",{class:"px-2 py-1 text-center border border-gray-200 bg-gray-100"},null,-1)),l[38]||(l[38]=e("td",{class:"px-2 py-1 text-center border border-gray-200 bg-gray-100"},null,-1))],64))),128)),l[39]||(l[39]=e("td",{class:"px-2 py-1 text-center border border-gray-200 bg-gray-100"},null,-1))],64))],64))),128))]),e("tr",_n,[l[44]||(l[44]=e("td",{class:"px-3 py-2 border-r border-gray-200"},[e("div",{class:"flex items-center gap-1"})],-1)),(r(!0),o(a,null,g(v.visibleYears,s=>(r(),o(a,{key:"empty-row-2-"+s},[Y(s)?(r(),o("td",wn)):(r(),o(a,{key:0},[(r(!0),o(a,null,g(A(s),u=>(r(),o(a,{key:"empty-row-2-cell-"+s+"-"+u},[l[41]||(l[41]=e("td",{class:"px-2 py-1 text-center border border-gray-200 bg-gray-100"},null,-1)),l[42]||(l[42]=e("td",{class:"px-2 py-1 text-center border border-gray-200 bg-gray-100"},null,-1))],64))),128)),l[43]||(l[43]=e("td",{class:"px-2 py-1 text-center border border-gray-200 bg-gray-100"},null,-1))],64))],64))),128))])],64)):D("",!0),p()?D("",!0):(r(),o(a,{key:11},[(r(!0),o(a,null,g(Je.value,s=>(r(),o(a,{key:"pkg-"+s},[Xe(s)?(r(),o("tr",Rn,[e("td",$n,[e("div",An,c(s),1)]),(r(!0),o(a,null,g(v.visibleYears,u=>(r(),o(a,{key:"pkg-"+s+"-"+u},[Y(u)?(r(),o("td",On,[e("span",Dn,c(w(dt(u,s))),1)])):(r(),o(a,{key:0},[(r(!0),o(a,null,g(A(u),E=>(r(),o(a,{key:"pkg-cell-"+s+"-"+u+"-"+E},[e("td",En,[e("span",Fn,c(w(Ae(u,E,s))),1)]),e("td",Sn,[e("span",Cn,c(te(Et(u,E,s)))+"%",1)])],64))),128)),e("td",Yn,[e("span",Tn,c(w(dt(u,s))),1)])],64))],64))),128))])):D("",!0)],64))),128)),e("tr",Pn,[l[46]||(l[46]=e("td",{class:"px-2 py-1 font-bold border-r border-blue-600"},[e("div",{class:"flex items-center gap-1 text-white"}," TOTAL ROOMS REVENUE ")],-1)),(r(!0),o(a,null,g(v.visibleYears,s=>(r(),o(a,{key:"total-rooms-revenue-"+s},[Y(s)?(r(),o("td",jn,[e("span",Jn,c(w(Ee(s))),1)])):(r(),o(a,{key:0},[(r(!0),o(a,null,g(A(s),u=>(r(),o(a,{key:"total-rooms-revenue-cell-"+s+"-"+u},[e("td",Vn,[e("span",Bn,c(w(ce(s,u))),1)]),l[45]||(l[45]=e("td",{class:"px-2 py-1 text-right border border-blue-600 font-semibold bg-blue-500 dark:bg-blue-900/20 text-white dark:text-gray-2000"},null,-1))],64))),128)),e("td",Mn,[e("span",Ln,c(w(Ee(s))),1)])],64))],64))),128))])],64)),e("tr",Nn,[e("td",{colspan:2+v.visibleYears.reduce((s,u)=>s+(Y(u)?1:A(u).length*2+1),0),class:"px-3 py-3 font-bold text-white border-r border-blue-700"},l[47]||(l[47]=[e("div",{class:"flex items-center"}," Room Expenses ",-1)]),8,In)]),e("tr",Un,[l[51]||(l[51]=e("td",{class:"px-3 py-2 font-semibold border-r border-[#5FA8AF]"},[e("div",{class:"flex items-center gap-1 text-white"}," Expense ")],-1)),(r(!0),o(a,null,g(v.visibleYears,s=>(r(),o(a,{key:"expense-subheader-"+s},[Y(s)?(r(),o("td",qn)):(r(),o(a,{key:0},[(r(!0),o(a,null,g(A(s),u=>(r(),o(a,{key:"expense-subheader-cell-"+s+"-"+u},[l[48]||(l[48]=e("td",{class:"px-2 py-1 text-center border border-[#5FA8AF] bg-[#5FA8AF]"},null,-1)),l[49]||(l[49]=e("td",{class:"px-2 py-1 text-center border border-[#5FA8AF] bg-[#5FA8AF]"},null,-1))],64))),128)),l[50]||(l[50]=e("td",{class:"px-2 py-1 text-center border border-[#5FA8AF] bg-[#5FA8AF]"},null,-1))],64))],64))),128))]),(r(!0),o(a,null,g(m.value,s=>(r(),o(a,{key:"room-expense-"+s},[he(s)?(r(),o("tr",Gn,[e("td",zn,[e("div",Hn,c(s),1)]),(r(!0),o(a,null,g(v.visibleYears,u=>(r(),o(a,{key:"room-expense-"+s+"-"+u},[Y(u)?(r(),o("td",Zn,[e("span",el,c(w(oe(u,s))),1)])):(r(),o(a,{key:0},[(r(!0),o(a,null,g(A(u),E=>(r(),o(a,{key:"room-expense-cell-"+s+"-"+u+"-"+E},[e("td",Wn,[e("span",Kn,c(w(fe(u,E,s))),1)]),l[52]||(l[52]=e("td",{class:"px-2 py-1 text-right border border-blue-300 dark:border-blue-700 bg-white"},null,-1))],64))),128)),e("td",Xn,[e("span",Qn,c(w(oe(u,s))),1)])],64))],64))),128))])):D("",!0)],64))),128)),e("tr",tl,[l[53]||(l[53]=e("td",{class:"px-3 py-2 font-bold border-r border-blue-600"},[e("div",{class:"flex items-center gap-1 text-white"}," Gross Total Expenses ")],-1)),(r(!0),o(a,null,g(v.visibleYears,s=>(r(),o(a,{key:"gross-expenses-"+s},[Y(s)?(r(),o("td",dl,[e("span",il,c(w(me(s))),1)])):(r(),o(a,{key:0},[(r(!0),o(a,null,g(A(s),u=>(r(),o(a,{key:"gross-expenses-cell-"+s+"-"+u},[e("td",rl,[e("span",ol,c(w(se(s,u))),1)]),e("td",sl,[e("span",nl,c(te(_e(s,u)))+"%",1)])],64))),128)),e("td",ll,[e("span",al,c(w(me(s))),1)])],64))],64))),128))]),e("tr",ul,[l[57]||(l[57]=e("td",{class:"px-3 py-2 font-semibold border-r border-[#5FA8AF]"},[e("div",{class:"flex items-center gap-1 text-white"}," Payroll ")],-1)),(r(!0),o(a,null,g(v.visibleYears,s=>(r(),o(a,{key:"payroll-subheader-"+s},[Y(s)?(r(),o("td",bl)):(r(),o(a,{key:0},[(r(!0),o(a,null,g(A(s),u=>(r(),o(a,{key:"payroll-subheader-cell-"+s+"-"+u},[l[54]||(l[54]=e("td",{class:"px-2 py-1 text-center border border-[#5FA8AF] bg-[#5FA8AF]"},null,-1)),l[55]||(l[55]=e("td",{class:"px-2 py-1 text-center border border-[#5FA8AF] bg-[#5FA8AF]"},null,-1))],64))),128)),l[56]||(l[56]=e("td",{class:"px-2 py-1 text-center border border-[#5FA8AF] bg-[#5FA8AF]"},null,-1))],64))],64))),128))]),pt("management")?(r(),o("tr",cl,[l[61]||(l[61]=e("td",{class:"px-3 py-2 font-medium border-r border-blue-300 dark:border-blue-700"},[e("div",{class:"flex items-center gap-1"}," Management ")],-1)),(r(!0),o(a,null,g(v.visibleYears,s=>(r(),o(a,{key:"mgmt-subheader-"+s},[Y(s)?(r(),o("td",gl)):(r(),o(a,{key:0},[(r(!0),o(a,null,g(A(s),u=>(r(),o(a,{key:"mgmt-subheader-cell-"+s+"-"+u},[l[58]||(l[58]=e("td",{class:"px-2 py-1 text-center border border-blue-300 dark:border-blue-700 bg-blue-500 dark:bg-blue-900/20 text-white dark:text-gray-200"},null,-1)),l[59]||(l[59]=e("td",{class:"px-2 py-1 text-center border border-blue-300 dark:border-blue-700 bg-blue-500 dark:bg-blue-900/20 text-white dark:text-gray-200"},null,-1))],64))),128)),l[60]||(l[60]=e("td",{class:"px-2 py-1 text-center border border-blue-300 dark:border-blue-700 bg-blue-100 dark:bg-blue-800/30"},null,-1))],64))],64))),128))])):D("",!0),(r(!0),o(a,null,g(ge.value,s=>(r(),o("tr",{key:"mgmt-loc-"+s,class:"bg-white border-b border-blue-300 dark:border-blue-700"},[e("td",xl,[e("div",pl,c(s),1)]),(r(!0),o(a,null,g(v.visibleYears,u=>(r(),o(a,{key:"mgmt-row-"+s+"-"+u},[Y(u)?(r(),o("td",vl,[e("span",yl,c(w(Ye(u,s,"management"))),1)])):(r(),o(a,{key:0},[(r(!0),o(a,null,g(A(u),E=>(r(),o(a,{key:"mgmt-cell-"+s+"-"+u+"-"+E},[e("td",fl,[e("span",hl,c(w(xe(u,E,s,"management"))),1)]),l[62]||(l[62]=e("td",{class:"px-2 py-1 text-right border border-blue-300 dark:border-blue-700 bg-white"},null,-1))],64))),128)),e("td",ml,[e("span",kl,c(w(Ye(u,s,"management"))),1)])],64))],64))),128))]))),128)),pt("non-management")?(r(),o("tr",_l,[l[66]||(l[66]=e("td",{class:"px-3 py-2 font-medium border-r border-blue-300 dark:border-blue-700"},[e("div",{class:"flex items-center gap-1"}," Non-Management ")],-1)),(r(!0),o(a,null,g(v.visibleYears,s=>(r(),o(a,{key:"nonmgmt-subheader-"+s},[Y(s)?(r(),o("td",wl)):(r(),o(a,{key:0},[(r(!0),o(a,null,g(A(s),u=>(r(),o(a,{key:"nonmgmt-subheader-cell-"+s+"-"+u},[l[63]||(l[63]=e("td",{class:"px-2 py-1 text-center border border-blue-300 dark:border-blue-700 bg-blue-500 dark:bg-blue-900/20 text-white dark:text-gray-200"},null,-1)),l[64]||(l[64]=e("td",{class:"px-2 py-1 text-center border border-blue-300 dark:border-blue-700 bg-blue-500 dark:bg-blue-900/20 text-white dark:text-gray-200"},null,-1))],64))),128)),l[65]||(l[65]=e("td",{class:"px-2 py-1 text-center border border-blue-300 dark:border-blue-700 bg-blue-100 dark:bg-blue-800/30"},null,-1))],64))],64))),128))])):D("",!0),(r(!0),o(a,null,g(be.value,s=>(r(),o("tr",{key:"nonmgmt-loc-"+s,class:"bg-white border-b border-blue-300 dark:border-blue-700"},[e("td",Rl,[e("div",$l,c(s),1)]),(r(!0),o(a,null,g(v.visibleYears,u=>(r(),o(a,{key:"nonmgmt-row-"+s+"-"+u},[Y(u)?(r(),o("td",Cl,[e("span",Yl,c(w(Ye(u,s,"non-management"))),1)])):(r(),o(a,{key:0},[(r(!0),o(a,null,g(A(u),E=>(r(),o(a,{key:"nonmgmt-cell-"+s+"-"+u+"-"+E},[e("td",Al,[e("span",El,c(w(xe(u,E,s,"non-management"))),1)]),l[67]||(l[67]=e("td",{class:"px-2 py-1 text-right border border-blue-300 dark:border-blue-700 bg-white"},null,-1))],64))),128)),e("td",Fl,[e("span",Sl,c(w(Ye(u,s,"non-management"))),1)])],64))],64))),128))]))),128)),e("tr",Tl,[l[68]||(l[68]=e("td",{class:"px-3 py-2 font-bold border-r border-blue-600"},[e("div",{class:"flex items-center gap-1 text-white"}," Total Payroll ")],-1)),(r(!0),o(a,null,g(v.visibleYears,s=>(r(),o(a,{key:"total-payroll-"+s},[Y(s)?(r(),o("td",Ll,[e("span",jl,c(w(ft(s))),1)])):(r(),o(a,{key:0},[(r(!0),o(a,null,g(A(s),u=>(r(),o(a,{key:"total-payroll-cell-"+s+"-"+u},[e("td",Ol,[e("span",Dl,c(w(Te(s,u))),1)]),e("td",Pl,[e("span",Vl,c(te(st(s,u)))+"%",1)])],64))),128)),e("td",Bl,[e("span",Ml,c(w(ft(s))),1)])],64))],64))),128))]),e("tr",Jl,[l[72]||(l[72]=e("td",{class:"px-3 py-2 font-semibold border-r border-[#5FA8AF]"},[e("div",{class:"flex items-center gap-1 text-white"}," Payroll Related ")],-1)),(r(!0),o(a,null,g(v.visibleYears,s=>(r(),o(a,{key:"payroll-related-subheader-"+s},[Y(s)?(r(),o("td",Nl)):(r(),o(a,{key:0},[(r(!0),o(a,null,g(A(s),u=>(r(),o(a,{key:"payroll-related-subheader-cell-"+s+"-"+u},[l[69]||(l[69]=e("td",{class:"px-2 py-1 text-center border border-[#5FA8AF] bg-[#5FA8AF]"},null,-1)),l[70]||(l[70]=e("td",{class:"px-2 py-1 text-center border border-[#5FA8AF] bg-[#5FA8AF]"},null,-1))],64))),128)),l[71]||(l[71]=e("td",{class:"px-2 py-1 text-center border border-[#5FA8AF] bg-[#5FA8AF]"},null,-1))],64))],64))),128))]),ne("NSSIT")?(r(),o("tr",Il,[l[74]||(l[74]=e("td",{class:"px-3 py-2 border-r border-blue-300 dark:border-blue-700"},[e("div",{class:"flex items-center gap-1"}," NSSIT ")],-1)),(r(!0),o(a,null,g(v.visibleYears,s=>(r(),o(a,{key:"nssit-row-"+s},[Y(s)?(r(),o("td",Hl,[e("span",Wl,c(w(I(s,"NSSIT"))),1)])):(r(),o(a,{key:0},[(r(!0),o(a,null,g(A(s),u=>(r(),o(a,{key:"nssit-cell-"+s+"-"+u},[e("td",Ul,[e("span",ql,c(w(ee(s,u,"NSSIT"))),1)]),l[73]||(l[73]=e("td",{class:"px-2 py-1 text-right border border-blue-300 dark:border-blue-700 bg-white"},null,-1))],64))),128)),e("td",Gl,[e("span",zl,c(w(I(s,"NSSIT"))),1)])],64))],64))),128))])):D("",!0),ne("Vacation")?(r(),o("tr",Kl,[l[76]||(l[76]=e("td",{class:"px-3 py-2 border-r border-blue-300 dark:border-blue-700"},[e("div",{class:"flex items-center gap-1"}," Vacation ")],-1)),(r(!0),o(a,null,g(v.visibleYears,s=>(r(),o(a,{key:"vacation-row-"+s},[Y(s)?(r(),o("td",t0,[e("span",r0,c(w(I(s,"Vacation"))),1)])):(r(),o(a,{key:0},[(r(!0),o(a,null,g(A(s),u=>(r(),o(a,{key:"vacation-cell-"+s+"-"+u},[e("td",Xl,[e("span",Ql,c(w(ee(s,u,"Vacation"))),1)]),l[75]||(l[75]=e("td",{class:"px-2 py-1 text-right border border-blue-300 dark:border-blue-700 bg-white"},null,-1))],64))),128)),e("td",Zl,[e("span",e0,c(w(I(s,"Vacation"))),1)])],64))],64))),128))])):D("",!0),ne("Relocation")?(r(),o("tr",o0,[l[78]||(l[78]=e("td",{class:"px-3 py-2 border-r border-blue-300 dark:border-blue-700"},[e("div",{class:"flex items-center gap-1"}," Relocation ")],-1)),(r(!0),o(a,null,g(v.visibleYears,s=>(r(),o(a,{key:"relocation-row-"+s},[Y(s)?(r(),o("td",d0,[e("span",i0,c(w(I(s,"Relocation"))),1)])):(r(),o(a,{key:0},[(r(!0),o(a,null,g(A(s),u=>(r(),o(a,{key:"relocation-cell-"+s+"-"+u},[e("td",s0,[e("span",n0,c(w(ee(s,u,"Relocation"))),1)]),l[77]||(l[77]=e("td",{class:"px-2 py-1 text-right border border-blue-300 dark:border-blue-700 bg-white"},null,-1))],64))),128)),e("td",l0,[e("span",a0,c(w(I(s,"Relocation"))),1)])],64))],64))),128))])):D("",!0),ne("Severence & Indemnity")?(r(),o("tr",u0,[l[80]||(l[80]=e("td",{class:"px-3 py-2 border-r border-blue-300 dark:border-blue-700"},[e("div",{class:"flex items-center gap-1"}," Severence & Indemnity ")],-1)),(r(!0),o(a,null,g(v.visibleYears,s=>(r(),o(a,{key:"severence-row-"+s},[Y(s)?(r(),o("td",p0,[e("span",f0,c(w(I(s,"Severence & Indemnity"))),1)])):(r(),o(a,{key:0},[(r(!0),o(a,null,g(A(s),u=>(r(),o(a,{key:"severence-cell-"+s+"-"+u},[e("td",b0,[e("span",c0,c(w(ee(s,u,"Severence & Indemnity"))),1)]),l[79]||(l[79]=e("td",{class:"px-2 py-1 text-right border border-blue-300 dark:border-blue-700 bg-white"},null,-1))],64))),128)),e("td",g0,[e("span",x0,c(w(I(s,"Severence & Indemnity"))),1)])],64))],64))),128))])):D("",!0),ne("Other")?(r(),o("tr",h0,[l[82]||(l[82]=e("td",{class:"px-3 py-2 border-r border-blue-300 dark:border-blue-700"},[e("div",{class:"flex items-center gap-1"}," Other ")],-1)),(r(!0),o(a,null,g(v.visibleYears,s=>(r(),o(a,{key:"other-row-"+s},[Y(s)?(r(),o("td",_0,[e("span",w0,c(w(I(s,"Other"))),1)])):(r(),o(a,{key:0},[(r(!0),o(a,null,g(A(s),u=>(r(),o(a,{key:"other-cell-"+s+"-"+u},[e("td",m0,[e("span",k0,c(w(ee(s,u,"Other"))),1)]),l[81]||(l[81]=e("td",{class:"px-2 py-1 text-right border border-blue-300 dark:border-blue-700 bg-white"},null,-1))],64))),128)),e("td",v0,[e("span",y0,c(w(I(s,"Other"))),1)])],64))],64))),128))])):D("",!0),ne("Medical")?(r(),o("tr",R0,[l[84]||(l[84]=e("td",{class:"px-3 py-2 border-r border-blue-300 dark:border-blue-700"},[e("div",{class:"flex items-center gap-1"}," Medical ")],-1)),(r(!0),o(a,null,g(v.visibleYears,s=>(r(),o(a,{key:"medical-row-"+s},[Y(s)?(r(),o("td",S0,[e("span",C0,c(w(I(s,"Medical"))),1)])):(r(),o(a,{key:0},[(r(!0),o(a,null,g(A(s),u=>(r(),o(a,{key:"medical-cell-"+s+"-"+u},[e("td",$0,[e("span",A0,c(w(ee(s,u,"Medical"))),1)]),l[83]||(l[83]=e("td",{class:"px-2 py-1 text-right border border-blue-300 dark:border-blue-700 bg-white"},null,-1))],64))),128)),e("td",E0,[e("span",F0,c(w(I(s,"Medical"))),1)])],64))],64))),128))])):D("",!0),ne("Uniforms")?(r(),o("tr",Y0,[l[86]||(l[86]=e("td",{class:"px-3 py-2 border-r border-blue-300 dark:border-blue-700"},[e("div",{class:"flex items-center gap-1"}," Uniforms ")],-1)),(r(!0),o(a,null,g(v.visibleYears,s=>(r(),o(a,{key:"uniforms-row-"+s},[Y(s)?(r(),o("td",V0,[e("span",B0,c(w(I(s,"Uniforms"))),1)])):(r(),o(a,{key:0},[(r(!0),o(a,null,g(A(s),u=>(r(),o(a,{key:"uniforms-cell-"+s+"-"+u},[e("td",T0,[e("span",O0,c(w(ee(s,u,"Uniforms"))),1)]),l[85]||(l[85]=e("td",{class:"px-2 py-1 text-right border border-blue-300 dark:border-blue-700 bg-white"},null,-1))],64))),128)),e("td",D0,[e("span",P0,c(w(I(s,"Uniforms"))),1)])],64))],64))),128))])):D("",!0),ne("Employee Meal")?(r(),o("tr",M0,[l[88]||(l[88]=e("td",{class:"px-3 py-2 border-r border-blue-300 dark:border-blue-700"},[e("div",{class:"flex items-center gap-1"}," Employee Meal ")],-1)),(r(!0),o(a,null,g(v.visibleYears,s=>(r(),o(a,{key:"employee-meal-row-"+s},[Y(s)?(r(),o("td",I0,[e("span",U0,c(w(I(s,"Employee Meal"))),1)])):(r(),o(a,{key:0},[(r(!0),o(a,null,g(A(s),u=>(r(),o(a,{key:"employee-meal-cell-"+s+"-"+u},[e("td",L0,[e("span",j0,c(w(ee(s,u,"Employee Meal"))),1)]),l[87]||(l[87]=e("td",{class:"px-2 py-1 text-right border border-blue-300 dark:border-blue-700 bg-white"},null,-1))],64))),128)),e("td",J0,[e("span",N0,c(w(I(s,"Employee Meal"))),1)])],64))],64))),128))])):D("",!0),ne("Transport")?(r(),o("tr",q0,[l[90]||(l[90]=e("td",{class:"px-3 py-2 border-r border-blue-300 dark:border-blue-700"},[e("div",{class:"flex items-center gap-1"}," Transport ")],-1)),(r(!0),o(a,null,g(v.visibleYears,s=>(r(),o(a,{key:"transport-row-"+s},[Y(s)?(r(),o("td",K0,[e("span",X0,c(w(I(s,"Transport"))),1)])):(r(),o(a,{key:0},[(r(!0),o(a,null,g(A(s),u=>(r(),o(a,{key:"transport-cell-"+s+"-"+u},[e("td",G0,[e("span",z0,c(w(ee(s,u,"Transport"))),1)]),l[89]||(l[89]=e("td",{class:"px-2 py-1 text-right border border-blue-300 dark:border-blue-700 bg-white"},null,-1))],64))),128)),e("td",H0,[e("span",W0,c(w(I(s,"Transport"))),1)])],64))],64))),128))])):D("",!0),ne("Telephone")?(r(),o("tr",Q0,[l[92]||(l[92]=e("td",{class:"px-3 py-2 border-r border-blue-300 dark:border-blue-700"},[e("div",{class:"flex items-center gap-1"}," Telephone ")],-1)),(r(!0),o(a,null,g(v.visibleYears,s=>(r(),o(a,{key:"telephone-row-"+s},[Y(s)?(r(),o("td",oa,[e("span",sa,c(w(I(s,"Telephone"))),1)])):(r(),o(a,{key:0},[(r(!0),o(a,null,g(A(s),u=>(r(),o(a,{key:"telephone-cell-"+s+"-"+u},[e("td",Z0,[e("span",ea,c(w(ee(s,u,"Telephone"))),1)]),l[91]||(l[91]=e("td",{class:"px-2 py-1 text-right border border-blue-300 dark:border-blue-700 bg-white"},null,-1))],64))),128)),e("td",ta,[e("span",ra,c(w(I(s,"Telephone"))),1)])],64))],64))),128))])):D("",!0),ne("Air Ticket")?(r(),o("tr",na,[l[94]||(l[94]=e("td",{class:"px-3 py-2 border-r border-blue-300 dark:border-blue-700"},[e("div",{class:"flex items-center gap-1"}," Air Ticket ")],-1)),(r(!0),o(a,null,g(v.visibleYears,s=>(r(),o(a,{key:"air-ticket-row-"+s},[Y(s)?(r(),o("td",ua,[e("span",ba,c(w(I(s,"Air Ticket"))),1)])):(r(),o(a,{key:0},[(r(!0),o(a,null,g(A(s),u=>(r(),o(a,{key:"air-ticket-cell-"+s+"-"+u},[e("td",la,[e("span",aa,c(w(ee(s,u,"Air Ticket"))),1)]),l[93]||(l[93]=e("td",{class:"px-2 py-1 text-right border border-blue-300 dark:border-blue-700 bg-white"},null,-1))],64))),128)),e("td",da,[e("span",ia,c(w(I(s,"Air Ticket"))),1)])],64))],64))),128))])):D("",!0),ne("Other Benefits")?(r(),o("tr",ca,[l[96]||(l[96]=e("td",{class:"px-3 py-2 border-r border-blue-300 dark:border-blue-700"},[e("div",{class:"flex items-center gap-1"}," Other Benefits ")],-1)),(r(!0),o(a,null,g(v.visibleYears,s=>(r(),o(a,{key:"other-benefits-row-"+s},[Y(s)?(r(),o("td",ha,[e("span",ma,c(w(I(s,"Other Benefits"))),1)])):(r(),o(a,{key:0},[(r(!0),o(a,null,g(A(s),u=>(r(),o(a,{key:"other-benefits-cell-"+s+"-"+u},[e("td",ga,[e("span",xa,c(w(ee(s,u,"Other Benefits"))),1)]),l[95]||(l[95]=e("td",{class:"px-2 py-1 text-right border border-blue-300 dark:border-blue-700 bg-white"},null,-1))],64))),128)),e("td",pa,[e("span",fa,c(w(I(s,"Other Benefits"))),1)])],64))],64))),128))])):D("",!0),e("tr",ka,[l[97]||(l[97]=e("td",{class:"px-3 py-2 font-bold border-r border-blue-600"},[e("div",{class:"flex items-center gap-1 text-white"}," Total Payroll Related Expenses ")],-1)),(r(!0),o(a,null,g(v.visibleYears,s=>(r(),o(a,{key:"total-payroll-related-"+s},[Y(s)?(r(),o("td",Aa,[e("span",Ea,c(w(it(s))),1)])):(r(),o(a,{key:0},[(r(!0),o(a,null,g(A(s),u=>(r(),o(a,{key:"total-payroll-related-cell-"+s+"-"+u},[e("td",va,[e("span",ya,c(w(Qe(s,u))),1)]),e("td",_a,[e("span",wa,c(te(Ft(s,u)))+"%",1)])],64))),128)),e("td",Ra,[e("span",$a,c(w(it(s))),1)])],64))],64))),128))]),e("tr",Fa,[l[101]||(l[101]=e("td",{class:"px-3 py-2 font-semibold border-r border-[#5FA8AF]"},[e("div",{class:"flex items-center gap-1 text-white"}," Bonus ")],-1)),(r(!0),o(a,null,g(v.visibleYears,s=>(r(),o(a,{key:"bonus-subheader-"+s},[Y(s)?(r(),o("td",Sa)):(r(),o(a,{key:0},[(r(!0),o(a,null,g(A(s),u=>(r(),o(a,{key:"bonus-subheader-cell-"+s+"-"+u},[l[98]||(l[98]=e("td",{class:"px-2 py-1 text-center border border-[#5FA8AF] bg-[#5FA8AF]"},null,-1)),l[99]||(l[99]=e("td",{class:"px-2 py-1 text-center border border-[#5FA8AF] bg-[#5FA8AF]"},null,-1))],64))),128)),l[100]||(l[100]=e("td",{class:"px-2 py-1 text-center border border-[#5FA8AF] bg-[#5FA8AF]"},null,-1))],64))],64))),128))]),_t()?(r(),o("tr",Ca,[l[102]||(l[102]=e("td",{class:"px-3 py-2 border-r border-blue-300 dark:border-blue-700"},[e("div",{class:"flex items-center gap-1"}," Bonus Details ")],-1)),(r(!0),o(a,null,g(v.visibleYears,s=>(r(),o(a,{key:"bonus-details-row-"+s},[Y(s)?(r(),o("td",Ba,[e("span",Ma,c(w(mt(s))),1)])):(r(),o(a,{key:0},[(r(!0),o(a,null,g(A(s),u=>(r(),o(a,{key:"bonus-details-cell-"+s+"-"+u},[e("td",Ya,[e("span",Ta,c(w(Oe(s,u))),1)]),e("td",Oa,[e("span",Da,c(te(kt(s,u)))+"%",1)])],64))),128)),e("td",Pa,[e("span",Va,c(w(mt(s))),1)])],64))],64))),128))])):D("",!0),e("tr",La,[l[106]||(l[106]=e("td",{class:"px-3 py-2 border-r border-gray-200"},[e("div",{class:"flex items-center gap-1"})],-1)),(r(!0),o(a,null,g(v.visibleYears,s=>(r(),o(a,{key:"empty-row-"+s},[Y(s)?(r(),o("td",ja)):(r(),o(a,{key:0},[(r(!0),o(a,null,g(A(s),u=>(r(),o(a,{key:"empty-cell-"+s+"-"+u},[l[103]||(l[103]=e("td",{class:"px-2 py-1 text-center border border-gray-200 bg-gray-100"},null,-1)),l[104]||(l[104]=e("td",{class:"px-2 py-1 text-center border border-gray-200 bg-gray-100"},null,-1))],64))),128)),l[105]||(l[105]=e("td",{class:"px-2 py-1 text-center border border-gray-200 bg-gray-100"},null,-1))],64))],64))),128))]),e("tr",Ja,[l[107]||(l[107]=e("td",{class:"px-3 py-2 font-bold border-r border-red-700"},[e("div",{class:"flex items-center gap-1 text-white"}," TOTAL EXPENSES ")],-1)),(r(!0),o(a,null,g(v.visibleYears,s=>(r(),o(a,{key:"total-expenses-"+s},[Y(s)?(r(),o("td",Ha,[e("span",Wa,c(w(vt(s))),1)])):(r(),o(a,{key:0},[(r(!0),o(a,null,g(A(s),u=>(r(),o(a,{key:"total-expenses-cell-"+s+"-"+u},[e("td",Na,[e("span",Ia,c(w(Ne(s,u))),1)]),e("td",Ua,[e("span",qa,c(te(yt(s,u)))+"%",1)])],64))),128)),e("td",Ga,[e("span",za,c(w(vt(s))),1)])],64))],64))),128))]),e("tr",Ka,[l[108]||(l[108]=e("td",{class:"px-3 py-2 font-bold border-r border-blue-600"},[e("div",{class:"flex items-center gap-1 text-white"}," DEPARTMENTAL INCOME (LOSS) ")],-1)),(r(!0),o(a,null,g(v.visibleYears,s=>(r(),o(a,{key:"departmental-income-"+s},[Y(s)?(r(),o("td",od,[e("span",sd,c(w(bt(s))),1)])):(r(),o(a,{key:0},[(r(!0),o(a,null,g(A(s),u=>(r(),o(a,{key:"departmental-income-cell-"+s+"-"+u},[e("td",Xa,[e("span",Qa,c(w(ut(s,u))),1)]),e("td",Za,[e("span",ed,c(te(St(s,u)))+"%",1)])],64))),128)),e("td",td,[e("span",rd,c(w(bt(s))),1)])],64))],64))),128))])])])])])]))}},ld=Vt(nd,[["__scopeId","data-v-fd190205"]]),ad={class:"bg-white rounded-lg border border-green-300 dark:border-green-700 shadow-sm overflow-hidden"},dd={class:"overflow-x-auto"},id={class:"min-w-full w-max"},ud={class:"w-full"},bd={class:"bg-gradient-to-r from-green-600 to-green-700 text-white"},cd={class:"bg-gradient-to-r from-green-600 via-green-700 to-green-800 text-white"},gd=["colspan"],xd={class:"flex items-center justify-center gap-3"},pd={class:"text-3xl font-bold tracking-tight"},fd={class:"bg-gradient-to-r from-green-500 via-green-600 to-green-700 text-white"},hd=["colspan"],md=["colspan","onClick"],kd={class:"flex items-center justify-center gap-1"},vd={class:"font-semibold"},yd={class:"bg-green-500 dark:bg-green-900/20 text-xs text-white dark:text-gray-200"},_d={class:"px-2 py-1 text-center border border-green-300 min-w-[110px] font-semibold"},wd={class:"flex items-center justify-center gap-1"},Rd={key:1,class:"px-2 py-1 text-center border border-green-300 min-w-[110px] font-semibold"},$d={class:"flex items-center justify-center gap-1"},Ad={class:"text-gray-700 bg-white text-sm dark:text-gray-200 dark:bg-gray-800"},Ed={class:"bg-green-800 border-b-2 border-green-900"},Fd=["colspan"],Sd={key:0,class:"bg-green-500 dark:bg-green-900/20 text-white dark:text-gray-200 border-b border-green-300 dark:border-green-700"},Cd={class:"font-mono text-xs"},Yd={class:"px-2 py-1 text-right border border-green-300 dark:border-green-700 font-semibold bg-green-100 dark:bg-green-800/30"},Td={class:"font-mono text-xs text-green-700 dark:text-green-300"},Od={key:1,class:"px-2 py-1 text-right border border-green-300 dark:border-green-700 font-semibold bg-green-100 dark:bg-green-800/30"},Dd={class:"font-mono text-xs text-green-700 dark:text-green-300"},Pd={key:1,class:"bg-green-500 dark:bg-green-900/20 text-white dark:text-gray-200 border-b border-green-300 dark:border-green-700"},Vd={class:"font-mono text-xs"},Bd={class:"px-2 py-1 text-right border border-green-300 dark:border-green-700 font-semibold bg-green-100 dark:bg-green-800/30"},Md={class:"font-mono text-xs text-green-700 dark:text-green-300"},Ld={key:1,class:"px-2 py-1 text-right border border-green-300 dark:border-green-700 font-semibold bg-green-100 dark:bg-green-800/30"},jd={class:"font-mono text-xs text-green-700 dark:text-green-300"},Jd={key:2,class:"bg-green-500 dark:bg-green-900/20 text-white dark:text-gray-200 border-b border-green-300 dark:border-green-700"},Nd={class:"font-mono text-xs"},Id={class:"px-2 py-1 text-right border border-green-300 dark:border-green-700 font-semibold bg-green-100 dark:bg-green-800/30"},Ud={class:"font-mono text-xs text-green-700 dark:text-green-300"},qd={key:1,class:"px-2 py-1 text-right border border-green-300 dark:border-green-700 font-semibold bg-green-100 dark:bg-green-800/30"},Gd={class:"font-mono text-xs text-green-700 dark:text-green-300"},zd={key:3,class:"bg-green-500 dark:bg-green-900/20 text-white dark:text-gray-200 border-b border-green-300 dark:border-green-700"},Hd={class:"font-mono text-xs"},Wd={class:"px-2 py-1 text-right border border-green-300 dark:border-green-700 font-semibold bg-green-100 dark:bg-green-800/30"},Kd={class:"font-mono text-xs text-green-700 dark:text-green-300"},Xd={key:1,class:"px-2 py-1 text-right border border-green-300 dark:border-green-700 font-semibold bg-green-100 dark:bg-green-800/30"},Qd={class:"font-mono text-xs text-green-700 dark:text-green-300"},Zd={key:4,class:"bg-green-500 dark:bg-green-900/20 text-white dark:text-gray-200 border-b border-green-300 dark:border-green-700"},ei={class:"font-mono text-xs"},ti={class:"px-2 py-1 text-right border border-green-300 dark:border-green-700 font-semibold bg-green-100 dark:bg-green-800/30"},ri={class:"font-mono text-xs text-green-700 dark:text-green-300"},oi={key:1,class:"px-2 py-1 text-right border border-green-300 dark:border-green-700 font-semibold bg-green-100 dark:bg-green-800/30"},si={class:"font-mono text-xs text-green-700 dark:text-green-300"},ni={key:5,class:"bg-green-500 dark:bg-green-900/20 text-white dark:text-gray-200 border-b border-green-300 dark:border-green-700"},li={class:"font-mono text-xs"},ai={class:"px-2 py-1 text-right border border-green-300 dark:border-green-700 font-semibold bg-green-100 dark:bg-green-800/30"},di={class:"font-mono text-xs text-green-700 dark:text-green-300"},ii={key:1,class:"px-2 py-1 text-right border border-green-300 dark:border-green-700 font-semibold bg-green-100 dark:bg-green-800/30"},ui={class:"font-mono text-xs text-green-700 dark:text-green-300"},bi={key:6,class:"bg-green-500 dark:bg-green-900/20 text-white dark:text-gray-200 border-b border-green-300 dark:border-green-700"},ci={class:"font-mono text-xs"},gi={class:"px-2 py-1 text-right border border-green-300 dark:border-green-700 font-semibold bg-green-100 dark:bg-green-800/30"},xi={class:"font-mono text-xs text-green-700 dark:text-green-300"},pi={key:1,class:"px-2 py-1 text-right border border-green-300 dark:border-green-700 font-semibold bg-green-100 dark:bg-green-800/30"},fi={class:"font-mono text-xs text-green-700 dark:text-green-300"},hi={key:7,class:"bg-green-500 dark:bg-green-900/20 text-white dark:text-gray-200 border-b border-green-300 dark:border-green-700"},mi={class:"font-mono text-xs"},ki={class:"px-2 py-1 text-right border border-green-300 dark:border-green-700 font-semibold bg-green-100 dark:bg-green-800/30"},vi={class:"font-mono text-xs text-green-700 dark:text-green-300"},yi={key:1,class:"px-2 py-1 text-right border border-green-300 dark:border-green-700 font-semibold bg-green-100 dark:bg-green-800/30"},_i={class:"font-mono text-xs text-green-700 dark:text-green-300"},wi={key:8,class:"bg-green-500 dark:bg-green-900/20 text-white dark:text-gray-200 border-b border-green-300 dark:border-green-700"},Ri={class:"font-mono text-xs"},$i={class:"px-2 py-1 text-right border border-green-300 dark:border-green-700 font-semibold bg-green-100 dark:bg-green-800/30"},Ai={class:"font-mono text-xs text-green-700 dark:text-green-300"},Ei={key:1,class:"px-2 py-1 text-right border border-green-300 dark:border-green-700 font-semibold bg-green-100 dark:bg-green-800/30"},Fi={class:"font-mono text-xs text-green-700 dark:text-green-300"},Si={key:9,class:"bg-green-500 dark:bg-green-900/20 text-white dark:text-gray-200 border-b border-green-300 dark:border-green-700"},Ci={class:"font-mono text-xs"},Yi={class:"px-2 py-1 text-right border border-green-300 dark:border-green-700 font-semibold bg-green-100 dark:bg-green-800/30"},Ti={class:"font-mono text-xs text-green-700 dark:text-green-300"},Oi={key:1,class:"px-2 py-1 text-right border border-green-300 dark:border-green-700 font-semibold bg-green-100 dark:bg-green-800/30"},Di={class:"font-mono text-xs text-green-700 dark:text-green-300"},Pi={class:"bg-gray-100 border-b border-gray-200"},Vi={key:1,class:"px-2 py-1 text-center border border-gray-200 bg-gray-100"},Bi={class:"bg-gray-100 border-b border-gray-200"},Mi={key:1,class:"px-2 py-1 text-center border border-gray-200 bg-gray-100"},Li={class:"bg-green-800 border-b-2 border-green-900"},ji=["colspan"],Ji={class:"bg-green-600 border-b border-green-700"},Ni=["colspan"],Ii={class:"flex items-center gap-2"},Ui={class:"px-3 py-2 font-medium border-r border-green-300 dark:border-green-700"},qi={class:"flex items-center gap-1 text-green-800 dark:text-green-200"},Gi={class:"font-mono text-xs text-green-700 dark:text-green-300"},zi={class:"px-2 py-1 text-right border border-green-300 dark:border-green-700 font-semibold bg-green-200 dark:bg-green-700/30"},Hi={class:"font-mono text-xs text-green-800 dark:text-green-200"},Wi={key:1,class:"px-2 py-1 text-right border border-green-300 dark:border-green-700 font-semibold bg-green-200 dark:bg-green-700/30"},Ki={class:"font-mono text-xs text-green-800 dark:text-green-200"},Xi={class:"bg-green-100 dark:bg-green-800/30 border-b border-green-300 dark:border-green-700"},Qi={class:"font-mono text-xs text-green-700 dark:text-green-300"},Zi={class:"px-2 py-1 text-right border border-green-300 dark:border-green-700 font-semibold bg-green-200 dark:bg-green-700/30"},eu={class:"font-mono text-xs text-green-800 dark:text-green-200"},tu={key:1,class:"px-2 py-1 text-right border border-green-300 dark:border-green-700 font-semibold bg-green-200 dark:bg-green-700/30"},ru={class:"font-mono text-xs text-green-800 dark:text-green-200"},ou={class:"bg-green-100 dark:bg-green-800/30 border-b border-green-300 dark:border-green-700"},su={class:"font-mono text-xs text-green-700 dark:text-green-300"},nu={class:"px-2 py-1 text-right border border-green-300 dark:border-green-700 font-semibold bg-green-200 dark:bg-green-700/30"},lu={class:"font-mono text-xs text-green-800 dark:text-green-200"},au={key:1,class:"px-2 py-1 text-right border border-green-300 dark:border-green-700 font-semibold bg-green-200 dark:bg-green-700/30"},du={class:"font-mono text-xs text-green-800 dark:text-green-200"},iu={class:"bg-green-500 dark:bg-green-900/20 text-white dark:text-gray-2000 border-b-2 border-green-600"},uu={class:"font-mono text-xs text-white"},bu={class:"px-2 py-1 text-right border border-green-600 font-bold bg-green-500 dark:bg-green-900/20 text-white dark:text-gray-2000"},cu={class:"font-mono text-xs text-white"},gu={key:1,class:"px-2 py-1 text-right border border-green-600 font-bold bg-green-500 dark:bg-green-900/20 text-white dark:text-gray-2000"},xu={class:"font-mono text-xs text-white"},pu={class:"bg-green-600 border-b border-green-700"},fu=["colspan"],hu={class:"flex items-center gap-2"},mu={class:"px-3 py-2 font-medium border-r border-green-300 dark:border-green-700"},ku={class:"flex items-center gap-1 text-green-800 dark:text-green-200"},vu={class:"font-mono text-xs text-green-700 dark:text-green-300"},yu={class:"px-2 py-1 text-right border border-green-300 dark:border-green-700 font-semibold bg-green-200 dark:bg-green-700/30"},_u={class:"font-mono text-xs text-green-800 dark:text-green-200"},wu={key:1,class:"px-2 py-1 text-right border border-green-300 dark:border-green-700 font-semibold bg-green-200 dark:bg-green-700/30"},Ru={class:"font-mono text-xs text-green-800 dark:text-green-200"},$u={class:"bg-green-100 dark:bg-green-800/30 border-b border-green-300 dark:border-green-700"},Au={class:"font-mono text-xs text-green-700 dark:text-green-300"},Eu={class:"px-2 py-1 text-right border border-green-300 dark:border-green-700 font-semibold bg-green-200 dark:bg-green-700/30"},Fu={class:"font-mono text-xs text-green-800 dark:text-green-200"},Su={key:1,class:"px-2 py-1 text-right border border-green-300 dark:border-green-700 font-semibold bg-green-200 dark:bg-green-700/30"},Cu={class:"font-mono text-xs text-green-800 dark:text-green-200"},Yu={class:"bg-green-100 dark:bg-green-800/30 border-b border-green-300 dark:border-green-700"},Tu={class:"font-mono text-xs text-green-700 dark:text-green-300"},Ou={class:"px-2 py-1 text-right border border-green-300 dark:border-green-700 font-semibold bg-green-200 dark:bg-green-700/30"},Du={class:"font-mono text-xs text-green-800 dark:text-green-200"},Pu={key:1,class:"px-2 py-1 text-right border border-green-300 dark:border-green-700 font-semibold bg-green-200 dark:bg-green-700/30"},Vu={class:"font-mono text-xs text-green-800 dark:text-green-200"},Bu={class:"bg-green-500 dark:bg-green-900/20 text-white dark:text-gray-2000 border-b-2 border-green-600"},Mu={class:"font-mono text-xs text-white"},Lu={class:"px-2 py-1 text-right border border-green-600 font-bold bg-green-500 dark:bg-green-900/20 text-white dark:text-gray-2000"},ju={class:"font-mono text-xs text-white"},Ju={key:1,class:"px-2 py-1 text-right border border-green-600 font-bold bg-green-500 dark:bg-green-900/20 text-white dark:text-gray-2000"},Nu={class:"font-mono text-xs text-white"},Iu={class:"bg-green-700 border-b-2 border-green-800"},Uu={class:"font-mono text-xs text-white"},qu={class:"px-2 py-1 text-right border border-green-800 font-bold bg-green-700"},Gu={class:"font-mono text-xs text-white"},zu={key:1,class:"px-2 py-1 text-right border border-green-800 font-bold bg-green-700"},Hu={class:"font-mono text-xs text-white"},Wu={class:"bg-green-600 border-b border-green-700"},Ku=["colspan"],Xu={class:"flex items-center gap-1"},Qu={class:"bg-green-100 dark:bg-green-800/30 border-b border-green-300 dark:border-green-700"},Zu={class:"font-mono text-xs text-green-700 dark:text-green-300"},eb={class:"px-2 py-1 text-right border border-green-300 dark:border-green-700 font-semibold bg-green-200 dark:bg-green-700/30"},tb={class:"font-mono text-xs text-green-800 dark:text-green-200"},rb={key:1,class:"px-2 py-1 text-right border border-green-300 dark:border-green-700 font-semibold bg-green-200 dark:bg-green-700/30"},ob={class:"font-mono text-xs text-green-800 dark:text-green-200"},sb={class:"bg-green-100 dark:bg-green-800/30 border-b border-green-300 dark:border-green-700"},nb={class:"font-mono text-xs text-green-700 dark:text-green-300"},lb={class:"px-2 py-1 text-right border border-green-300 dark:border-green-700 font-semibold bg-green-200 dark:bg-green-700/30"},ab={class:"font-mono text-xs text-green-800 dark:text-green-200"},db={key:1,class:"px-2 py-1 text-right border border-green-300 dark:border-green-700 font-semibold bg-green-200 dark:bg-green-700/30"},ib={class:"font-mono text-xs text-green-800 dark:text-green-200"},ub={class:"bg-green-100 dark:bg-green-800/30 border-b border-green-300 dark:border-green-700"},bb={class:"font-mono text-xs text-green-700 dark:text-green-300"},cb={class:"px-2 py-1 text-right border border-green-300 dark:border-green-700 font-semibold bg-green-200 dark:bg-green-700/30"},gb={class:"font-mono text-xs text-green-800 dark:text-green-200"},xb={key:1,class:"px-2 py-1 text-right border border-green-300 dark:border-green-700 font-semibold bg-green-200 dark:bg-green-700/30"},pb={class:"font-mono text-xs text-green-800 dark:text-green-200"},fb={class:"bg-green-500 dark:bg-green-900/20 text-white dark:text-gray-2000 border-b-2 border-green-600"},hb={class:"font-mono text-xs text-white"},mb={class:"px-2 py-1 text-right border border-green-600 font-bold bg-green-500 dark:bg-green-900/20 text-white dark:text-gray-2000"},kb={class:"font-mono text-xs text-white"},vb={key:1,class:"px-2 py-1 text-right border border-green-600 font-bold bg-green-500 dark:bg-green-900/20 text-white dark:text-gray-2000"},yb={class:"font-mono text-xs text-white"},_b={class:"bg-gray-100 border-b border-gray-200"},wb={key:1,class:"px-2 py-1 text-center border border-gray-200 bg-gray-100"},Rb={class:"bg-green-700 border-b-2 border-green-800"},$b={class:"font-mono text-xs text-white"},Ab={class:"px-2 py-1 text-right border border-green-800 font-bold bg-green-700"},Eb={class:"font-mono text-xs text-white"},Fb={key:1,class:"px-2 py-1 text-right border border-green-800 font-bold bg-green-700"},Sb={class:"font-mono text-xs text-white"},Cb={class:"bg-green-100 dark:bg-green-800/30 border-b border-green-300 dark:border-green-700"},Yb={class:"font-mono text-xs text-green-700 dark:text-green-300"},Tb={class:"px-2 py-1 text-right border border-green-300 dark:border-green-700 font-semibold bg-green-200 dark:bg-green-700/30"},Ob={class:"font-mono text-xs text-green-800 dark:text-green-200"},Db={key:1,class:"px-2 py-1 text-right border border-green-300 dark:border-green-700 font-semibold bg-green-200 dark:bg-green-700/30"},Pb={class:"font-mono text-xs text-green-800 dark:text-green-200"},Vb={class:"bg-green-800 border-b-2 border-green-900"},Bb={class:"font-mono text-xs text-white"},Mb={class:"px-2 py-1 text-right border border-green-800 font-bold bg-green-800"},Lb={class:"font-mono text-xs text-white"},jb={key:1,class:"px-2 py-1 text-right border border-green-800 font-bold bg-green-800"},Jb={class:"font-mono text-xs text-white"},Nb={class:"bg-gray-100 border-b border-gray-200"},Ib={key:1,class:"px-2 py-1 text-center border border-gray-200 bg-gray-100"},Ub={class:"bg-green-800 border-b-2 border-green-900"},qb=["colspan"],Gb={class:"bg-orange-800 border-b-2 border-orange-900"},zb=["colspan"],Hb={class:"flex items-center gap-2"},Wb={class:"bg-green-100 dark:bg-green-800/30 border-b border-green-300 dark:border-green-700"},Kb={class:"font-mono text-xs text-green-700 dark:text-green-300"},Xb={class:"px-2 py-1 text-right border border-green-300 dark:border-green-700 font-semibold bg-green-200 dark:bg-green-700/30"},Qb={class:"font-mono text-xs text-green-800 dark:text-green-200"},Zb={key:1,class:"px-2 py-1 text-right border border-green-300 dark:border-green-700 font-semibold bg-green-200 dark:bg-green-700/30"},ec={class:"font-mono text-xs text-green-800 dark:text-green-200"},tc={class:"bg-green-100 dark:bg-green-800/30 border-b border-green-300 dark:border-green-700"},rc={class:"font-mono text-xs text-green-700 dark:text-green-300"},oc={class:"px-2 py-1 text-right border border-green-300 dark:border-green-700 font-semibold bg-green-200 dark:bg-green-700/30"},sc={class:"font-mono text-xs text-green-800 dark:text-green-200"},nc={key:1,class:"px-2 py-1 text-right border border-green-300 dark:border-green-700 font-semibold bg-green-200 dark:bg-green-700/30"},lc={class:"font-mono text-xs text-green-800 dark:text-green-200"},ac={class:"bg-green-500 dark:bg-green-900/20 text-white dark:text-gray-2000 border-b-2 border-green-600"},dc={class:"font-mono text-xs text-white"},ic={class:"px-2 py-1 text-right border border-green-600 font-bold bg-green-500 dark:bg-green-900/20 text-white dark:text-gray-2000"},uc={class:"font-mono text-xs text-white"},bc={key:1,class:"px-2 py-1 text-right border border-green-600 font-bold bg-green-500 dark:bg-green-900/20 text-white dark:text-gray-2000"},cc={class:"font-mono text-xs text-white"},gc={class:"bg-green-100 dark:bg-green-800/30 border-b border-green-300 dark:border-green-700"},xc={class:"font-mono text-xs text-green-700 dark:text-green-300"},pc={class:"px-2 py-1 text-right border border-green-300 dark:border-green-700 font-semibold bg-green-200 dark:bg-green-700/30"},fc={class:"font-mono text-xs text-green-800 dark:text-green-200"},hc={key:1,class:"px-2 py-1 text-right border border-green-300 dark:border-green-700 font-semibold bg-green-200 dark:bg-green-700/30"},mc={class:"font-mono text-xs text-green-800 dark:text-green-200"},kc={class:"bg-green-100 dark:bg-green-800/30 border-b border-green-300 dark:border-green-700"},vc={class:"font-mono text-xs text-green-700 dark:text-green-300"},yc={class:"px-2 py-1 text-right border border-green-300 dark:border-green-700 font-semibold bg-green-200 dark:bg-green-700/30"},_c={class:"font-mono text-xs text-green-800 dark:text-green-200"},wc={key:1,class:"px-2 py-1 text-right border border-green-300 dark:border-green-700 font-semibold bg-green-200 dark:bg-green-700/30"},Rc={class:"font-mono text-xs text-green-800 dark:text-green-200"},$c={class:"bg-green-500 dark:bg-green-900/20 text-white dark:text-gray-2000 border-b-2 border-green-600"},Ac={class:"font-mono text-xs text-white"},Ec={class:"px-2 py-1 text-right border border-green-600 font-bold bg-green-500 dark:bg-green-900/20 text-white dark:text-gray-2000"},Fc={class:"font-mono text-xs text-white"},Sc={key:1,class:"px-2 py-1 text-right border border-green-600 font-bold bg-green-500 dark:bg-green-900/20 text-white dark:text-gray-2000"},Cc={class:"font-mono text-xs text-white"},Yc={class:"bg-green-700 border-b-2 border-green-800"},Tc={class:"font-mono text-xs text-white"},Oc={class:"px-2 py-1 text-right border border-green-800 font-bold bg-green-700"},Dc={class:"font-mono text-xs text-white"},Pc={key:1,class:"px-2 py-1 text-right border border-green-800 font-bold bg-green-700"},Vc={class:"font-mono text-xs text-white"},Bc={class:"bg-green-700 border-b-2 border-green-800"},Mc={class:"font-mono text-xs text-white"},Lc={class:"px-2 py-1 text-right border border-green-800 font-bold bg-green-700"},jc={class:"font-mono text-xs text-white"},Jc={key:1,class:"px-2 py-1 text-right border border-green-800 font-bold bg-green-700"},Nc={class:"font-mono text-xs text-white"},Ic={class:"bg-orange-800 border-b-2 border-orange-900"},Uc=["colspan"],qc={class:"flex items-center gap-2"},Gc={class:"px-3 py-2 font-medium border-r border-green-300 dark:border-green-700"},zc={class:"flex items-center gap-1 text-green-800 dark:text-green-200"},Hc={class:"font-mono text-xs text-green-700 dark:text-green-300"},Wc={class:"px-2 py-1 text-right border border-green-300 dark:border-green-700 font-semibold bg-green-200 dark:bg-green-700/30"},Kc={class:"font-mono text-xs text-green-800 dark:text-green-200"},Xc={key:1,class:"px-2 py-1 text-right border border-green-300 dark:border-green-700 font-semibold bg-green-200 dark:bg-green-700/30"},Qc={class:"font-mono text-xs text-green-800 dark:text-green-200"},Zc={class:"bg-green-500 dark:bg-green-900/20 text-white dark:text-gray-2000 border-b-2 border-green-600"},eg={class:"font-mono text-xs text-white"},tg={class:"px-2 py-1 text-right border border-green-600 font-bold bg-green-500 dark:bg-green-900/20 text-white dark:text-gray-2000"},rg={class:"font-mono text-xs text-white"},og={key:1,class:"px-2 py-1 text-right border border-green-600 font-bold bg-green-500 dark:bg-green-900/20 text-white dark:text-gray-2000"},sg={class:"font-mono text-xs text-white"},ng={class:"bg-orange-800 border-b-2 border-orange-900"},lg=["colspan"],ag={class:"flex items-center gap-2"},dg={class:"bg-[#5FA8AF] border-b border-[#5FA8AF]"},ig={key:1,class:"px-2 py-1 text-center border border-[#5FA8AF] bg-[#5FA8AF]"},ug={key:10,class:"bg-green-500 dark:bg-green-900/20 text-white dark:text-gray-200 border-b border-green-300 dark:border-green-700"},bg={key:1,class:"px-2 py-1 text-center border border-green-300 dark:border-green-700 bg-green-100 dark:bg-green-800/30"},cg={class:"px-3 py-2 font-medium border-r border-green-300 dark:border-green-700"},gg={class:"flex items-center gap-1 text-green-800 dark:text-green-200"},xg={class:"font-mono text-xs text-green-700 dark:text-green-300"},pg={class:"px-2 py-1 text-right border border-green-300 dark:border-green-700 font-semibold bg-green-200 dark:bg-green-700/30"},fg={class:"font-mono text-xs text-green-800 dark:text-green-200"},hg={key:1,class:"px-2 py-1 text-right border border-green-300 dark:border-green-700 font-semibold bg-green-200 dark:bg-green-700/30"},mg={class:"font-mono text-xs text-green-800 dark:text-green-200"},kg={key:11,class:"bg-green-500 dark:bg-green-900/20 text-white dark:text-gray-200 border-b border-green-300 dark:border-green-700"},vg={key:1,class:"px-2 py-1 text-center border border-green-300 dark:border-green-700 bg-green-100 dark:bg-green-800/30"},yg={class:"px-3 py-2 font-medium border-r border-green-300 dark:border-green-700"},_g={class:"flex items-center gap-1 text-green-800 dark:text-green-200"},wg={class:"font-mono text-xs text-green-700 dark:text-green-300"},Rg={class:"px-2 py-1 text-right border border-green-300 dark:border-green-700 font-semibold bg-green-200 dark:bg-green-700/30"},$g={class:"font-mono text-xs text-green-800 dark:text-green-200"},Ag={key:1,class:"px-2 py-1 text-right border border-green-300 dark:border-green-700 font-semibold bg-green-200 dark:bg-green-700/30"},Eg={class:"font-mono text-xs text-green-800 dark:text-green-200"},Fg={class:"bg-green-500 dark:bg-green-900/20 text-white dark:text-gray-2000 border-b-2 border-green-600"},Sg={class:"px-2 py-1 text-right border border-green-600 font-semibold bg-green-500 dark:bg-green-900/20 text-white dark:text-gray-2000"},Cg={class:"font-mono text-xs text-white"},Yg={class:"px-2 py-1 text-right border border-green-600 font-semibold bg-green-500 dark:bg-green-900/20 text-white dark:text-gray-2000"},Tg={class:"font-mono text-xs text-white"},Og={class:"px-2 py-1 text-right border border-green-600 font-bold bg-green-500 dark:bg-green-900/20 text-white dark:text-gray-2000"},Dg={class:"font-mono text-xs text-white"},Pg={key:1,class:"px-2 py-1 text-right border border-green-600 font-bold bg-green-500 dark:bg-green-900/20 text-white dark:text-gray-2000"},Vg={class:"font-mono text-xs text-white"},Bg={__name:"FoodBeverageProfitLoss",props:{visibleYears:{type:Array,required:!0}},setup(v){const f=v,_=Ut(),{advancedModes:F}=Nt(_),h=Bt(),p=pe(()=>{var i;return((i=Q.value)==null?void 0:i.project_name)||"Project Name"});function S(i){_.toggleCollapse(i)}function k(i){return _.isYearCollapsed(i)}function m(i){const n=F.value[i]||"monthly";return n==="monthly"?["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]:n==="quarterly"?["Jan-Mar","Apr-Jun","Jul-Sep","Oct-Dec"]:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}function x(i){const n=Number(i);return isNaN(n)?0:n}function R(i){return x(i).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}function w(i){return x(i).toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:0})}function j(i){return x(i).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}function te(i){return i==="Jan-Mar"?["Jan","Feb","Mar"]:i==="Apr-Jun"?["Apr","May","Jun"]:i==="Jul-Sep"?["Jul","Aug","Sep"]:i==="Oct-Dec"?["Oct","Nov","Dec"]:[i]}function z(i,n){try{const t=localStorage.getItem("marketSegmentation")==="true",d=h.getValue(p.value,"Room Revenue Assumptions","Total Rooms",i,n);return d!=null?x(d):100}catch(t){return console.error("Error fetching room count:",t),100}}function Y(i){try{const n=m(i);let t=0;for(const d of n){const y=z(i,d);t+=x(y)}return t}catch(n){return console.error("Error calculating total rooms:",n),0}}function A(i,n){return n==="Jan"||n==="Mar"||n==="May"||n==="Jul"||n==="Aug"||n==="Oct"||n==="Dec"?31:n==="Apr"||n==="Jun"||n==="Sep"||n==="Nov"?30:n==="Feb"?28:n==="Jan-Mar"?90:n==="Apr-Jun"?91:n==="Jul-Sep"||n==="Oct-Dec"?92:30}function fe(i){return m(i).reduce((t,d)=>t+x(A(i,d)),0)}function oe(i,n){try{let t=h.getValue(p.value,"F&B Revenue Assumptions","Number of rooms available",i,n);if(t!=null)return x(t);if(localStorage.getItem("marketSegmentation")==="true"){const N=h.getValue(p.value,"Room Revenue Assumptions","Total Rooms",i,n);if(N!=null){const De=A(i,n);return x(N)*De}}const y=z(i,n),O=A(i,n);return y*O}catch(t){console.error("Error fetching available rooms:",t);const d=z(i,n),y=A(i,n);return d*y}}function he(i){return m(i).reduce((t,d)=>t+x(oe(i,d)),0)}function se(i,n){try{const t=h.getValue(p.value,"F&B Revenue Assumptions","Number of rooms sold (excl.)",i,n);if(t!=null)return x(t);const d=h.getValue(p.value,"F&B Revenue Assumptions","Occupancy (excl.) %",i,n);if(d!=null){const X=oe(i,n);return Math.round(x(d)/100*X)}const y=oe(i,n);return Math.round(y*.75)}catch(t){return console.error("Error fetching sold rooms:",t),0}}function me(i){return m(i).reduce((t,d)=>t+x(se(i,d)),0)}function _e(i,n){try{const t=h.getValue(p.value,"F&B Revenue Assumptions","Occupancy (excl.) %",i,n);if(t!=null)return x(t);const d=se(i,n),y=oe(i,n);return y>0?Number((d/y*100).toFixed(2)):0}catch(t){return console.error("Error fetching occupancy percentage:",t),0}}function de(i){const n=m(i),t=n.reduce((y,O)=>y+x(se(i,O)),0),d=n.reduce((y,O)=>y+x(oe(i,O)),0);return d>0?Number((t/d*100).toFixed(2)):0}function Ge(i,n){try{const t=h.getValue(p.value,"F&B Revenue Assumptions","Number of guests",i,n);return t!=null?x(t):0}catch(t){return console.error("Error fetching number of guests:",t),0}}function we(i){return m(i).reduce((t,d)=>t+x(Ge(i,d)),0)}function Pe(i,n){try{const t=h.getValue(p.value,"F&B Revenue Assumptions","Total Covers",i,n);return t!=null?x(t):0}catch(t){return console.error("Error fetching number of covers:",t),0}}function ue(i){return m(i).reduce((t,d)=>t+x(Pe(i,d)),0)}function Ve(i,n){try{const t=h.getValue(p.value,"F&B Revenue Assumptions","Average Spent Per F&B Customer",i,n);return t!=null?x(t):0}catch(t){return console.error("Error fetching average F&B spent:",t),0}}function J(i){const n=m(i),t=n.reduce((d,y)=>d+x(Ve(i,y)),0);return t>0?t/n.length:0}function Fe(i,n){try{const t=h.getValue(p.value,"F&B Revenue Assumptions","Average Room Rate",i,n);return t!=null?x(t):0}catch(t){return console.error("Error fetching average room rate:",t),0}}function ze(i){const n=m(i),t=n.reduce((d,y)=>d+x(Fe(i,y)),0);return t>0?t/n.length:0}function Re(i,n){try{const t=h.getValue(p.value,"F&B Revenue Assumptions","Revenue Per Available Room",i,n);if(t!=null)return x(t);const d=se(i,n),y=Fe(i,n),O=oe(i,n);return O>0?d*y/O:0}catch(t){return console.error("Error fetching revenue per available room:",t),0}}function Be(i){const n=m(i),t=n.reduce((d,y)=>d+x(Re(i,y)),0);return t>0?t/n.length:0}function ke(i,n){const t=h.getValue(p.value,"F&B Revenue Assumptions","Total F&B Revenue",i,n);if(t!=null)return x(t);const d=h.getValue(p.value,"F&B Revenue Assumptions","Total Food Revenue",i,n),y=h.getValue(p.value,"F&B Revenue Assumptions","Total Beverage Revenue",i,n);return x(d)+x(y)}function He(){if(!f.visibleYears||f.visibleYears.length===0)return!1;for(const i of f.visibleYears){const n=m(i);for(const t of n)if(z(i,t)>0)return!0}return!1}function tt(){if(!f.visibleYears||f.visibleYears.length===0)return!1;for(const i of f.visibleYears){const n=m(i);for(const t of n)if(A(i,t)>0)return!0}return!1}function Se(){if(!f.visibleYears||f.visibleYears.length===0)return!1;for(const i of f.visibleYears){const n=m(i);for(const t of n)if(oe(i,t)>0)return!0}return!1}function rt(){if(!f.visibleYears||f.visibleYears.length===0)return!1;for(const i of f.visibleYears){const n=m(i);for(const t of n)if(se(i,t)>0)return!0}return!1}function Me(){if(!f.visibleYears||f.visibleYears.length===0)return!1;for(const i of f.visibleYears){const n=m(i);for(const t of n)if(_e(i,t)>0)return!0}return!1}function We(){if(!f.visibleYears||f.visibleYears.length===0)return!1;for(const i of f.visibleYears){const n=m(i);for(const t of n)if(Ge(i,t)>0)return!0}return!1}function Ke(){if(!f.visibleYears||f.visibleYears.length===0)return!1;for(const i of f.visibleYears){const n=m(i);for(const t of n)if(Pe(i,t)>0)return!0}return!1}function ot(){if(!f.visibleYears||f.visibleYears.length===0)return!1;for(const i of f.visibleYears){const n=m(i);for(const t of n)if(Ve(i,t)>0)return!0}return!1}function gt(){if(!f.visibleYears||f.visibleYears.length===0)return!1;for(const i of f.visibleYears){const n=m(i);for(const t of n)if(Fe(i,t)>0)return!0}return!1}function xt(){if(!f.visibleYears||f.visibleYears.length===0)return!1;for(const i of f.visibleYears){const n=m(i);for(const t of n)if(Re(i,t)>0)return!0}return!1}const Ce=q([]);It(()=>H(this,null,function*(){var i;try{if((i=Q.value)!=null&&i.project_name){const n=yield rr(Q.value.project_name);Ce.value=n,n.forEach((t,d)=>{})}}catch(n){console.error("Error loading restaurants:",n),Ce.value=[]}})),et(Q,i=>H(this,null,function*(){if(i!=null&&i.project_name)try{const n=yield rr(i.project_name);Ce.value=n}catch(n){console.error("Error reloading restaurants for new project:",n),Ce.value=[]}}));function Le(){return Ce.value}function je(i,n,t){try{const d=i.name||i,y=`Total Food Revenue:${d}`,O=h.getValue(p.value,"F&B Revenue Assumptions",y,n,t);if(O!=null)return x(O);const X={restaurant:d,section:"Total",type:"Total Food Revenue"},N=h.getValue(p.value,"F&B Revenue Assumptions",JSON.stringify(X),n,t);return N!=null?x(N):0}catch(d){return console.error(`Error getting food revenue for ${i}:`,d),0}}function T(i,n){return m(n).reduce((d,y)=>d+x(je(i,n,y)),0)}function $(i,n,t){try{const d=i.name||i,y=`Total Beverage Revenue:${d}`,O=h.getValue(p.value,"F&B Revenue Assumptions",y,n,t);if(O!=null)return x(O);const X={restaurant:d,section:"Total",type:"Total Beverage Revenue"},N=h.getValue(p.value,"F&B Revenue Assumptions",JSON.stringify(X),n,t);return N!=null?x(N):0}catch(d){return console.error(`Error getting beverage revenue for ${i}:`,d),0}}function M(i,n){return m(n).reduce((d,y)=>d+x($(i,n,y)),0)}function W(i,n){try{const t=h.getValue(p.value,"Banquet Revenue Assumptions","Food",i,n);return t!=null?x(t):0}catch(t){return console.error(`Error getting banquet food revenue for ${i} ${n}:`,t),0}}function K(i){return m(i).reduce((t,d)=>t+x(W(i,d)),0)}function G(i,n){try{const t=["outside_service_food_catering","outside_catering_food","catering_food","outside_food_service","external_catering_food"];for(const d of t){const y=h.getValue(p.value,"Banquet Revenue Assumptions",d,i,n);if(y!=null)return x(y)}return 0}catch(t){return console.error(`Error getting outside catering food revenue for ${i} ${n}:`,t),0}}function ie(i){return m(i).reduce((t,d)=>t+x(G(i,d)),0)}function Z(i,n){try{const t=h.getValue(p.value,"Banquet Revenue Assumptions","Liquor",i,n),d=h.getValue(p.value,"Banquet Revenue Assumptions","Soft Drinks",i,n),y=x(t)||0,O=x(d)||0,X=y+O;return y>0||O>0?X:0}catch(t){return console.error(`Error getting banquet beverage revenue for ${i} ${n}:`,t),0}}function ge(i){return m(i).reduce((t,d)=>t+x(Z(i,d)),0)}function be(i,n){try{const t=h.getValue(p.value,"Banquet Revenue Assumptions","outside_service_beverage_catering",i,n);return t!=null?x(t):0}catch(t){return console.error(`Error getting outside catering beverage revenue for ${i} ${n}:`,t),0}}function xe(i){return m(i).reduce((t,d)=>t+x(be(i,d)),0)}function Ye(i,n){try{const t=h.getValue(p.value,"Banquet Revenue Assumptions","Hall Space Charges",i,n);return t!=null?x(t):0}catch(t){return console.error(`Error getting function room rental revenue for ${i} ${n}:`,t),0}}function pt(i){return m(i).reduce((t,d)=>t+x(Ye(i,d)),0)}function Te(i,n){try{const t=h.getValue(p.value,"Banquet Revenue Assumptions","tobacco",i,n),d=h.getValue(p.value,"Banquet Revenue Assumptions","non_fnb",i,n),y=h.getValue(p.value,"Banquet Revenue Assumptions","others",i,n),O=x(t)||0,X=x(d)||0,N=x(y)||0,De=["additional_revenue","extra_revenue","supplementary_revenue","additional_income","extra_income"];let wt=0;for(const Yt of De){const qe=h.getValue(p.value,"Banquet Revenue Assumptions",Yt,i,n);if(qe!=null){const Tt=x(qe)||0;wt+=Tt}}const Rt=O+X+N+wt;return Rt>0?Rt:0}catch(t){return console.error(`Error getting miscellaneous other revenue for ${i} ${n}:`,t),0}}function ft(i){return m(i).reduce((t,d)=>t+x(Te(i,d)),0)}function st(i,n){try{const t=["Audiovisual","Audio Visual","audiovisual","audio_visual","av_revenue"];for(const d of t){const y=h.getValue(p.value,"Banquet Revenue Assumptions",d,i,n);if(y!=null)return x(y)}return 0}catch(t){return console.error(`Error getting audiovisual revenue for ${i} ${n}:`,t),0}}function nt(i){return m(i).reduce((t,d)=>t+x(st(i,d)),0)}function $e(i,n){try{const t=Ye(i,n),d=Te(i,n),y=st(i,n);return x(t)+x(d)+x(y)}catch(t){return console.error(`Error calculating total other revenue for ${i} ${n}:`,t),0}}function lt(i){try{const n=m(i);let t=0;for(const d of n){const y=$e(i,d);t+=x(y)}return t}catch(n){return console.error(`Error calculating total other revenue for year ${i}:`,n),0}}function at(i,n){try{const t=Le();let d=0;for(const y of t){const O=je(y,i,n);d+=x(O)}return d}catch(t){return console.error(`Error calculating total food revenue for ${i} ${n}:`,t),0}}function ht(i){try{const n=m(i);let t=0;for(const d of n){const y=at(i,d);t+=x(y)}return t}catch(n){return console.error(`Error calculating total food revenue for year ${i}:`,n),0}}function Je(i,n){try{const t=Le();let d=0;for(const y of t){const O=$(y,i,n);d+=x(O)}return d}catch(t){return console.error(`Error calculating total beverage revenue for ${i} ${n}:`,t),0}}function Ae(i){try{const n=m(i);let t=0;for(const d of n){const y=Je(i,d);t+=x(y)}return t}catch(n){return console.error(`Error calculating total beverage revenue for year ${i}:`,n),0}}function dt(i,n){try{const t=at(i,n),d=Je(i,n);return x(t)+x(d)}catch(t){return console.error(`Error calculating total food & beverage revenue for ${i} ${n}:`,t),0}}function Et(i){try{const n=ht(i),t=Ae(i);return x(n)+x(t)}catch(n){return console.error(`Error calculating total food & beverage revenue for year ${i}:`,n),0}}function Xe(i,n){try{const t=dt(i,n),d=$e(i,n);return x(t)+x(d)}catch(t){return console.error(`Error calculating total revenue for ${i} ${n}:`,t),0}}function ce(i){try{const n=m(i);let t=0;for(const d of n){const y=Xe(i,d);t+=x(y)}return t}catch(n){return console.error(`Error calculating total revenue for year ${i}:`,n),0}}function Ee(i,n){try{const t=h.getValue(p.value,"F&B Revenue Assumptions","Service Charge",i,n);return t!=null?x(t):Xe(i,n)*.1}catch(t){return console.error(`Error getting service charge for ${i} ${n}:`,t),0}}function ee(i){try{const n=m(i);let t=0;for(const d of n){const y=Ee(i,d);t+=x(y)}return t}catch(n){return console.error(`Error calculating service charge for year ${i}:`,n),0}}function I(i,n){try{const t=Xe(i,n),d=Ee(i,n);return x(t)+x(d)}catch(t){return console.error(`Error calculating total revenue including service charge for ${i} ${n}:`,t),0}}function ne(i){try{const n=m(i);let t=0;for(const d of n){const y=I(i,d);t+=x(y)}return t}catch(n){return console.error(`Error calculating total revenue including service charge for year ${i}:`,n),0}}function Oe(i,n){try{const t=h.getValue(p.value,"Expense Assumptions:Food And Beverage","Cost of Food sales",i,n),d=x(t),y=d>1?d/100:d,O=at(i,n);return x(O)*y}catch(t){return console.error(`Error getting cost of food sales for ${i} ${n}:`,t),0}}function mt(i){try{const n=m(i);let t=0;for(const d of n){const y=Oe(i,d);t+=x(y)}return t}catch(n){return console.error(`Error calculating cost of food sales for year ${i}:`,n),0}}function kt(i,n){try{const t=h.getValue(p.value,"Expense Assumptions:Food And Beverage","Cost of Beverage sales",i,n),d=x(t),y=d>1?d/100:d,O=Je(i,n);return x(O)*y}catch(t){return console.error(`Error getting cost of beverage sales for ${i} ${n}:`,t),0}}function Qe(i){try{const n=m(i);let t=0;for(const d of n){const y=kt(i,d);t+=x(y)}return t}catch(n){return console.error(`Error calculating cost of beverage sales for year ${i}:`,n),0}}function it(i,n){try{const t=Oe(i,n),d=kt(i,n);return x(t)+x(d)}catch(t){return console.error(`Error calculating total F&B cost of sales for ${i} ${n}:`,t),0}}function Ft(i){try{const n=m(i);let t=0;for(const d of n){const y=it(i,d);t+=x(y)}return t}catch(n){return console.error(`Error calculating total F&B cost of sales for year ${i}:`,n),0}}function Ne(i,n){try{const t=h.getValue(p.value,"Expense Assumptions:Food And Beverage","Cost of Beverage sales",i,n),d=x(t),y=d>1?d/100:d,O=st(i,n);return x(O)*y}catch(t){return console.error(`Error getting audiovisual costs for ${i} ${n}:`,t),0}}function vt(i){try{const n=m(i);let t=0;for(const d of n){const y=Ne(i,d);t+=x(y)}return t}catch(n){return console.error(`Error calculating audiovisual costs for year ${i}:`,n),0}}function yt(i,n){try{const t=h.getValue(p.value,"Expense Assumptions:Food And Beverage","Cost of Beverage sales",i,n),d=x(t),y=d>1?d/100:d,O=Te(i,n);return x(O)*y}catch(t){return console.error(`Error getting miscellaneous costs for ${i} ${n}:`,t),0}}function ut(i){try{const n=m(i);let t=0;for(const d of n){const y=yt(i,d);t+=x(y)}return t}catch(n){return console.error(`Error calculating miscellaneous costs for year ${i}:`,n),0}}function bt(i,n){try{const t=yt(i,n),d=Ne(i,n);return x(t)+x(d)}catch(t){return console.error(`Error calculating total cost of other revenue for ${i} ${n}:`,t),0}}function St(i){try{const n=m(i);let t=0;for(const d of n){const y=bt(i,d);t+=x(y)}return t}catch(n){return console.error(`Error calculating total cost of other revenue for year ${i}:`,n),0}}function _t(i,n){try{const t=it(i,n),d=bt(i,n);return x(t)+x(d)}catch(t){return console.error(`Error calculating total cost of sales for ${i} ${n}:`,t),0}}function b(i){try{const n=m(i);let t=0;for(const d of n){const y=_t(i,d);t+=x(y)}return t}catch(n){return console.error(`Error calculating total cost of sales for year ${i}:`,n),0}}function l(i,n){try{const t=Xe(i,n),d=_t(i,n);return x(t)-x(d)}catch(t){return console.error(`Error calculating gross profit for ${i} ${n}:`,t),0}}function s(i){try{const n=m(i);let t=0;for(const d of n){const y=l(i,d);t+=x(y)}return t}catch(n){return console.error(`Error calculating gross profit for year ${i}:`,n),0}}function u(){var i,n;try{const t="Expense Assumptions:Food And Beverage",d=p.value,y=((n=(i=h.cache)==null?void 0:i[d])==null?void 0:n[t])||{},O=De=>String(De).toLowerCase().replace(/\s+/g," ").trim(),X=new Set(["cost of food sales","cost of beverage sales","miscellaneous cost","audiovisual cost"]);return Object.keys(y).filter(De=>!X.has(O(De))).sort()}catch(t){return console.error("Error reading F&B expense categories from cache:",t),[]}}function E(i,n,t){try{const d=h.getValue(p.value,"Expense Assumptions:Food And Beverage",i,n,t);return d!=null?x(d):0}catch(d){return console.error(`Error getting F&B expense ${i} for ${n} ${t}:`,d),0}}function C(i,n){try{const t=m(n);let d=0;for(const y of t){const O=E(i,n,y);d+=x(O)}return d}catch(t){return console.error(`Error calculating F&B expense ${i} for year ${n}:`,t),0}}function L(i,n){try{const t=u();let d=0;for(const y of t){const O=E(y,i,n);d+=x(O)}return d}catch(t){return console.error(`Error calculating total F&B expenses for ${i} ${n}:`,t),0}}function B(i){try{const n=m(i);let t=0;for(const d of n){const y=L(i,d);t+=x(y)}return t}catch(n){return console.error(`Error calculating total F&B expenses for year ${i}:`,n),0}}function re(i){try{if(!i||!i.startsWith("MonthlySalary|"))return null;const n=/^MonthlySalary\|department:Food And Beverage\|position:(.*?)\|location:(.*?)\|designation:(.*)$/,t=i.match(n);return t?{position:(t[1]||"").trim(),location:(t[2]||"").trim(),designation:(t[3]||"").trim()}:null}catch(n){return null}}function ve(i){if(!i)return!1;const n=i.toLowerCase();return n.includes("manager")&&!n.includes("non-manager")||n.includes("director")||n.includes("supervisor")}const Ie=pe(()=>{var i,n;try{const t=p.value,y=((n=(i=h==null?void 0:h.cache)==null?void 0:i[t])==null?void 0:n["Payroll"])||{},O=new Set;return Object.keys(y).forEach(X=>{const N=re(X);N&&ve(N.position)&&N.location&&O.add(N.location)}),Array.from(O)}catch(t){return console.error("F&B P&L: Error discovering payroll management locations:",t),[]}}),ye=pe(()=>{var i,n;try{const t=p.value,y=((n=(i=h==null?void 0:h.cache)==null?void 0:i[t])==null?void 0:n["Payroll"])||{},O=new Set;return Object.keys(y).forEach(X=>{const N=re(X);N&&!ve(N.position)&&N.location&&O.add(N.location)}),Array.from(O)}catch(t){return console.error("F&B P&L: Error discovering payroll non-management locations:",t),[]}});function le(i,n,t,d){var y,O;try{const X=p.value,N="Payroll",De=((O=(y=h==null?void 0:h.cache)==null?void 0:y[X])==null?void 0:O[N])||{},wt=te(n);let Rt=0;return Object.keys(De).forEach(Yt=>{const qe=re(Yt);if(!qe||!qe.location||qe.location!==t)return;const Tt=ve(qe.position);if(!(d==="management"&&!Tt||d==="non-management"&&Tt))for(const ar of wt){const Mt=h.getValue(X,N,Yt,i,ar);Mt!=null&&(Rt+=x(Mt))}}),Rt}catch(X){return 0}}function Ue(i,n,t){try{return m(i).reduce((y,O)=>y+x(le(i,O,n,t)),0)}catch(d){return 0}}function Ct(i){try{const n=i==="management"?Ie.value:ye.value;if(!n||n.length===0)return!1;for(const t of Array.isArray(f.visibleYears)?f.visibleYears:[])for(const d of n){const y=Ue(t,d,i);if(x(y)>0)return!0}return!1}catch(n){return!1}}function Ze(i,n){try{let t=0;for(const d of Ie.value)t+=x(le(i,n,d,"management"));for(const d of ye.value)t+=x(le(i,n,d,"non-management"));return t}catch(t){return 0}}function zt(i){try{return m(i).reduce((t,d)=>t+x(Ze(i,d)),0)}catch(n){return 0}}function lr(i,n){try{const t=ke(i,n),d=Ze(i,n);return t===0?0:d/t*100}catch(t){return console.error("Error calculating F&B payroll percentage:",t),0}}return(i,n)=>(r(),o("div",ad,[e("div",dd,[e("div",id,[e("table",ud,[e("thead",bd,[e("tr",cd,[e("td",{colspan:1+v.visibleYears.reduce((t,d)=>t+(k(d)?1:m(d).length+1),0),class:"px-6 py-4 text-center"},[e("div",xd,[P(V(sr),{class:"w-6 h-6 text-green-200"}),e("h1",pd,c(p.value),1)])],8,gd)]),e("tr",fd,[e("td",{colspan:1+v.visibleYears.reduce((t,d)=>t+(k(d)?1:m(d).length+1),0),class:"px-6 py-4 text-center"},n[0]||(n[0]=[e("div",{class:"flex items-center justify-center gap-2"},[e("h2",{class:"text-xl font-semibold tracking-wide"},"Food & Beverage Profit & Loss Report")],-1)]),8,hd)]),e("tr",null,[n[1]||(n[1]=e("th",{rowspan:"2",class:"px-3 py-2 text-left align-middle border-r border-green-400 font-semibold text-sm min-w-[200px]"},[e("div",{class:"flex items-center gap-1"}," Details ")],-1)),(r(!0),o(a,null,g(v.visibleYears,t=>(r(),o("th",{key:"header-"+t,colspan:k(t)?1:m(t).length+1,class:"px-2 py-2 text-center border-x-2 border-white cursor-pointer select-none hover:bg-green-700 transition-all duration-200 group text-sm",onClick:d=>S(t),title:"Click to collapse/expand"},[e("div",kd,[e("span",vd,c(t),1),k(t)?(r(),ct(V(nr),{key:1,class:"w-3 h-3 transition-transform group-hover:scale-110"})):(r(),ct(V(qt),{key:0,class:"w-3 h-3 transition-transform group-hover:scale-110"}))])],8,md))),128))]),e("tr",yd,[(r(!0),o(a,null,g(v.visibleYears,t=>(r(),o(a,{key:"months-"+t},[k(t)?(r(),o("th",Rd,[e("div",$d,[P(V(At),{class:"w-2 h-2"}),n[3]||(n[3]=U(" Total ",-1))])])):(r(),o(a,{key:0},[(r(!0),o(a,null,g(m(t),d=>(r(),o("th",{key:t+"-"+d,class:"px-2 py-1 text-center border border-green-300 min-w-[100px] font-medium"},c(d),1))),128)),e("th",_d,[e("div",wd,[P(V(At),{class:"w-2 h-2"}),n[2]||(n[2]=U(" Total ",-1))])])],64))],64))),128))])]),e("tbody",Ad,[e("tr",Ed,[e("td",{colspan:1+v.visibleYears.reduce((t,d)=>t+(k(d)?1:m(d).length+1),0),class:"px-3 py-3 font-bold text-white border-r border-green-700"},n[4]||(n[4]=[e("div",{class:"flex items-center gap-2"}," Statistics ",-1)]),8,Fd)]),He()?(r(),o("tr",Sd,[n[5]||(n[5]=e("td",{class:"px-3 py-2 font-medium border-r border-green-300 dark:border-green-700"},[e("div",{class:"flex items-center gap-1"},"NO OF ROOMS")],-1)),(r(!0),o(a,null,g(v.visibleYears,t=>(r(),o(a,{key:"no-rooms-"+t},[k(t)?(r(),o("td",Od,[e("span",Dd,c(w(Y(t))),1)])):(r(),o(a,{key:0},[(r(!0),o(a,null,g(m(t),d=>(r(),o("td",{key:"no-rooms-cell-"+t+"-"+d,class:"px-2 py-1 text-right border border-green-300 dark:border-green-700 bg-green-500 dark:bg-green-900/20 text-white dark:text-gray-200"},[e("span",Cd,c(w(z(t,d))),1)]))),128)),e("td",Yd,[e("span",Td,c(w(Y(t))),1)])],64))],64))),128))])):D("",!0),tt()?(r(),o("tr",Pd,[n[6]||(n[6]=e("td",{class:"px-3 py-2 font-medium border-r border-green-300 dark:border-green-700"},[e("div",{class:"flex items-center gap-1"},"NO OF DAYS")],-1)),(r(!0),o(a,null,g(v.visibleYears,t=>(r(),o(a,{key:"no-days-"+t},[k(t)?(r(),o("td",Ld,[e("span",jd,c(w(fe(t))),1)])):(r(),o(a,{key:0},[(r(!0),o(a,null,g(m(t),d=>(r(),o("td",{key:"no-days-cell-"+t+"-"+d,class:"px-2 py-1 text-right border border-green-300 dark:border-green-700 bg-green-500 dark:bg-green-900/20 text-white dark:text-gray-200"},[e("span",Vd,c(w(A(t,d))),1)]))),128)),e("td",Bd,[e("span",Md,c(w(fe(t))),1)])],64))],64))),128))])):D("",!0),Se()?(r(),o("tr",Jd,[n[7]||(n[7]=e("td",{class:"px-3 py-2 font-medium border-r border-green-300 dark:border-green-700"},[e("div",{class:"flex items-center gap-1"},"AVAILABLE ROOMS")],-1)),(r(!0),o(a,null,g(v.visibleYears,t=>(r(),o(a,{key:"available-rooms-"+t},[k(t)?(r(),o("td",qd,[e("span",Gd,c(w(he(t))),1)])):(r(),o(a,{key:0},[(r(!0),o(a,null,g(m(t),d=>(r(),o("td",{key:"available-rooms-cell-"+t+"-"+d,class:"px-2 py-1 text-right border border-green-300 dark:border-green-700 bg-green-500 dark:bg-green-900/20 text-white dark:text-gray-200"},[e("span",Nd,c(w(oe(t,d))),1)]))),128)),e("td",Id,[e("span",Ud,c(w(he(t))),1)])],64))],64))),128))])):D("",!0),rt()?(r(),o("tr",zd,[n[8]||(n[8]=e("td",{class:"px-3 py-2 font-medium border-r border-green-300 dark:border-green-700"},[e("div",{class:"flex items-center gap-1"},"SOLD ROOMS (excl. comp)")],-1)),(r(!0),o(a,null,g(v.visibleYears,t=>(r(),o(a,{key:"sold-rooms-"+t},[k(t)?(r(),o("td",Xd,[e("span",Qd,c(w(me(t))),1)])):(r(),o(a,{key:0},[(r(!0),o(a,null,g(m(t),d=>(r(),o("td",{key:"sold-rooms-cell-"+t+"-"+d,class:"px-2 py-1 text-right border border-green-300 dark:border-green-700 bg-green-500 dark:bg-green-900/20 text-white dark:text-gray-200"},[e("span",Hd,c(w(se(t,d))),1)]))),128)),e("td",Wd,[e("span",Kd,c(w(me(t))),1)])],64))],64))),128))])):D("",!0),Me()?(r(),o("tr",Zd,[n[9]||(n[9]=e("td",{class:"px-3 py-2 font-medium border-r border-green-300 dark:border-green-700"},[e("div",{class:"flex items-center gap-1"},"ROOM OCCUPANCY %")],-1)),(r(!0),o(a,null,g(v.visibleYears,t=>(r(),o(a,{key:"occupancy-"+t},[k(t)?(r(),o("td",oi,[e("span",si,c(j(de(t)))+"%",1)])):(r(),o(a,{key:0},[(r(!0),o(a,null,g(m(t),d=>(r(),o("td",{key:"occupancy-cell-"+t+"-"+d,class:"px-2 py-1 text-right border border-green-300 dark:border-green-700 bg-green-500 dark:bg-green-900/20 text-white dark:text-gray-200"},[e("span",ei,c(j(_e(t,d)))+"%",1)]))),128)),e("td",ti,[e("span",ri,c(j(de(t)))+"%",1)])],64))],64))),128))])):D("",!0),We()?(r(),o("tr",ni,[n[10]||(n[10]=e("td",{class:"px-3 py-2 font-medium border-r border-green-300 dark:border-green-700"},[e("div",{class:"flex items-center gap-1"},"NUMBER OF GUESTS")],-1)),(r(!0),o(a,null,g(v.visibleYears,t=>(r(),o(a,{key:"guests-"+t},[k(t)?(r(),o("td",ii,[e("span",ui,c(w(we(t))),1)])):(r(),o(a,{key:0},[(r(!0),o(a,null,g(m(t),d=>(r(),o("td",{key:"guests-cell-"+t+"-"+d,class:"px-2 py-1 text-right border border-green-300 dark:border-green-700 bg-green-500 dark:bg-green-900/20 text-white dark:text-gray-200"},[e("span",li,c(w(Ge(t,d))),1)]))),128)),e("td",ai,[e("span",di,c(w(we(t))),1)])],64))],64))),128))])):D("",!0),Ke()?(r(),o("tr",bi,[n[11]||(n[11]=e("td",{class:"px-3 py-2 font-medium border-r border-green-300 dark:border-green-700"},[e("div",{class:"flex items-center gap-1"},"NUMBER OF F&B COVERS")],-1)),(r(!0),o(a,null,g(v.visibleYears,t=>(r(),o(a,{key:"covers-"+t},[k(t)?(r(),o("td",pi,[e("span",fi,c(w(ue(t))),1)])):(r(),o(a,{key:0},[(r(!0),o(a,null,g(m(t),d=>(r(),o("td",{key:"covers-cell-"+t+"-"+d,class:"px-2 py-1 text-right border border-green-300 dark:border-green-700 bg-green-500 dark:bg-green-900/20 text-white dark:text-gray-200"},[e("span",ci,c(w(Pe(t,d))),1)]))),128)),e("td",gi,[e("span",xi,c(w(ue(t))),1)])],64))],64))),128))])):D("",!0),ot()?(r(),o("tr",hi,[n[12]||(n[12]=e("td",{class:"px-3 py-2 font-medium border-r border-green-300 dark:border-green-700"},[e("div",{class:"flex items-center gap-1"},"AVERAGE F&B SPENT PER COVER")],-1)),(r(!0),o(a,null,g(v.visibleYears,t=>(r(),o(a,{key:"avg-fnb-"+t},[k(t)?(r(),o("td",yi,[e("span",_i,c(R(J(t))),1)])):(r(),o(a,{key:0},[(r(!0),o(a,null,g(m(t),d=>(r(),o("td",{key:"avg-fnb-cell-"+t+"-"+d,class:"px-2 py-1 text-right border border-green-300 dark:border-green-700 bg-green-500 dark:bg-green-900/20 text-white dark:text-gray-200"},[e("span",mi,c(R(Ve(t,d))),1)]))),128)),e("td",ki,[e("span",vi,c(R(J(t))),1)])],64))],64))),128))])):D("",!0),gt()?(r(),o("tr",wi,[n[13]||(n[13]=e("td",{class:"px-3 py-2 font-medium border-r border-green-300 dark:border-green-700"},[e("div",{class:"flex items-center gap-1"},"AVERAGE ROOM RATE")],-1)),(r(!0),o(a,null,g(v.visibleYears,t=>(r(),o(a,{key:"avg-rate-"+t},[k(t)?(r(),o("td",Ei,[e("span",Fi,c(R(ze(t))),1)])):(r(),o(a,{key:0},[(r(!0),o(a,null,g(m(t),d=>(r(),o("td",{key:"avg-rate-cell-"+t+"-"+d,class:"px-2 py-1 text-right border border-green-300 dark:border-green-700 bg-green-500 dark:bg-green-900/20 text-white dark:text-gray-200"},[e("span",Ri,c(R(Fe(t,d))),1)]))),128)),e("td",$i,[e("span",Ai,c(R(ze(t))),1)])],64))],64))),128))])):D("",!0),xt()?(r(),o("tr",Si,[n[14]||(n[14]=e("td",{class:"px-3 py-2 font-medium border-r border-green-300 dark:border-green-700"},[e("div",{class:"flex items-center gap-1"},"REVENUE PER AVAILABLE ROOM")],-1)),(r(!0),o(a,null,g(v.visibleYears,t=>(r(),o(a,{key:"rev-per-room-"+t},[k(t)?(r(),o("td",Oi,[e("span",Di,c(R(Be(t))),1)])):(r(),o(a,{key:0},[(r(!0),o(a,null,g(m(t),d=>(r(),o("td",{key:"rev-per-room-cell-"+t+"-"+d,class:"px-2 py-1 text-right border border-green-300 dark:border-green-700 bg-green-500 dark:bg-green-900/20 text-white dark:text-gray-200"},[e("span",Ci,c(R(Re(t,d))),1)]))),128)),e("td",Yi,[e("span",Ti,c(R(Be(t))),1)])],64))],64))),128))])):D("",!0),e("tr",Pi,[n[16]||(n[16]=e("td",{class:"px-3 py-2 border-r border-gray-200"},[e("div",{class:"flex items-center gap-1"})],-1)),(r(!0),o(a,null,g(v.visibleYears,t=>(r(),o(a,{key:"empty-stats-1-"+t},[k(t)?(r(),o("td",Vi)):(r(),o(a,{key:0},[(r(!0),o(a,null,g(m(t),d=>(r(),o("td",{key:"empty-stats-1-cell-"+t+"-"+d,class:"px-2 py-1 text-center border border-gray-200 bg-gray-100"}))),128)),n[15]||(n[15]=e("td",{class:"px-2 py-1 text-center border border-gray-200 bg-gray-100"},null,-1))],64))],64))),128))]),e("tr",Bi,[n[18]||(n[18]=e("td",{class:"px-3 py-2 border-r border-gray-200"},[e("div",{class:"flex items-center gap-1"})],-1)),(r(!0),o(a,null,g(v.visibleYears,t=>(r(),o(a,{key:"empty-stats-2-"+t},[k(t)?(r(),o("td",Mi)):(r(),o(a,{key:0},[(r(!0),o(a,null,g(m(t),d=>(r(),o("td",{key:"empty-stats-2-cell-"+t+"-"+d,class:"px-2 py-1 text-center border border-gray-200 bg-gray-100"}))),128)),n[17]||(n[17]=e("td",{class:"px-2 py-1 text-center border border-gray-200 bg-gray-100"},null,-1))],64))],64))),128))]),e("tr",Li,[e("td",{colspan:1+v.visibleYears.reduce((t,d)=>t+(k(d)?1:m(d).length+1),0),class:"px-3 py-3 font-bold text-white border-r border-green-700"},n[19]||(n[19]=[e("div",{class:"flex items-center"},"Revenue",-1)]),8,ji)]),e("tr",Ji,[e("td",{colspan:1+v.visibleYears.reduce((t,d)=>t+(k(d)?1:m(d).length+1),0),class:"px-3 py-2 font-semibold text-white border-r border-green-700"},[e("div",Ii,[P(V(Jt),{class:"w-4 h-4"}),n[20]||(n[20]=U(" Food Revenue ",-1))])],8,Ni)]),(r(!0),o(a,null,g(Le(),t=>(r(),o("tr",{key:"food-revenue-"+t,class:"bg-green-100 dark:bg-green-800/30 border-b border-green-300 dark:border-green-700"},[e("td",Ui,[e("div",qi,c(t.name||t),1)]),(r(!0),o(a,null,g(v.visibleYears,d=>(r(),o(a,{key:"food-revenue-"+t+"-"+d},[k(d)?(r(),o("td",Wi,[e("span",Ki,c(R(T(t,d))),1)])):(r(),o(a,{key:0},[(r(!0),o(a,null,g(m(d),y=>(r(),o("td",{key:"food-revenue-cell-"+t+"-"+d+"-"+y,class:"px-2 py-1 text-right border border-green-300 dark:border-green-700 bg-green-100 dark:bg-green-800/30"},[e("span",Gi,c(R(je(t,d,y))),1)]))),128)),e("td",zi,[e("span",Hi,c(R(T(t,d))),1)])],64))],64))),128))]))),128)),e("tr",Xi,[n[21]||(n[21]=e("td",{class:"px-3 py-2 font-medium border-r border-green-300 dark:border-green-700"},[e("div",{class:"flex items-center gap-1 text-green-800 dark:text-green-200"},"Banquet Food")],-1)),(r(!0),o(a,null,g(v.visibleYears,t=>(r(),o(a,{key:"banquet-food-"+t},[k(t)?(r(),o("td",tu,[e("span",ru,c(R(K(t))),1)])):(r(),o(a,{key:0},[(r(!0),o(a,null,g(m(t),d=>(r(),o("td",{key:"banquet-food-cell-"+t+"-"+d,class:"px-2 py-1 text-right border border-green-300 dark:border-green-700 bg-green-100 dark:bg-green-800/30"},[e("span",Qi,c(R(W(t,d))),1)]))),128)),e("td",Zi,[e("span",eu,c(R(K(t))),1)])],64))],64))),128))]),e("tr",ou,[n[22]||(n[22]=e("td",{class:"px-3 py-2 font-medium border-r border-green-300 dark:border-green-700"},[e("div",{class:"flex items-center gap-1 text-green-800 dark:text-green-200"},"Outside Catering Food")],-1)),(r(!0),o(a,null,g(v.visibleYears,t=>(r(),o(a,{key:"outside-catering-food-"+t},[k(t)?(r(),o("td",au,[e("span",du,c(R(ie(t))),1)])):(r(),o(a,{key:0},[(r(!0),o(a,null,g(m(t),d=>(r(),o("td",{key:"outside-catering-food-cell-"+t+"-"+d,class:"px-2 py-1 text-right border border-green-300 dark:border-green-700 bg-green-100 dark:bg-green-800/30"},[e("span",su,c(R(G(t,d))),1)]))),128)),e("td",nu,[e("span",lu,c(R(ie(t))),1)])],64))],64))),128))]),e("tr",iu,[n[23]||(n[23]=e("td",{class:"px-3 py-2 font-bold border-r border-green-600"},[e("div",{class:"flex items-center gap-1 text-white"},"Total Food Revenue")],-1)),(r(!0),o(a,null,g(v.visibleYears,t=>(r(),o(a,{key:"total-food-revenue-"+t},[k(t)?(r(),o("td",gu,[e("span",xu,c(R(ht(t))),1)])):(r(),o(a,{key:0},[(r(!0),o(a,null,g(m(t),d=>(r(),o("td",{key:"total-food-revenue-cell-"+t+"-"+d,class:"px-2 py-1 text-right border border-green-600 font-semibold bg-green-500 dark:bg-green-900/20 text-white dark:text-gray-2000"},[e("span",uu,c(R(at(t,d))),1)]))),128)),e("td",bu,[e("span",cu,c(R(ht(t))),1)])],64))],64))),128))]),e("tr",pu,[e("td",{colspan:1+v.visibleYears.reduce((t,d)=>t+(k(d)?1:m(d).length+1),0),class:"px-3 py-2 font-semibold text-white border-r border-green-700"},[e("div",hu,[P(V(Pr),{class:"w-4 h-4"}),n[24]||(n[24]=U(" Beverage Revenue ",-1))])],8,fu)]),(r(!0),o(a,null,g(Le(),t=>(r(),o("tr",{key:"beverage-revenue-"+t,class:"bg-green-100 dark:bg-green-800/30 border-b border-green-300 dark:border-green-700"},[e("td",mu,[e("div",ku,c(t.name||t),1)]),(r(!0),o(a,null,g(v.visibleYears,d=>(r(),o(a,{key:"beverage-revenue-"+t+"-"+d},[k(d)?(r(),o("td",wu,[e("span",Ru,c(R(M(t,d))),1)])):(r(),o(a,{key:0},[(r(!0),o(a,null,g(m(d),y=>(r(),o("td",{key:"beverage-revenue-cell-"+t+"-"+d+"-"+y,class:"px-2 py-1 text-right border border-green-300 dark:border-green-700 bg-green-100 dark:bg-green-800/30"},[e("span",vu,c(R($(t,d,y))),1)]))),128)),e("td",yu,[e("span",_u,c(R(M(t,d))),1)])],64))],64))),128))]))),128)),e("tr",$u,[n[25]||(n[25]=e("td",{class:"px-3 py-2 font-medium border-r border-green-300 dark:border-green-700"},[e("div",{class:"flex items-center gap-1 text-green-800 dark:text-green-200"},"Banquet Beverage")],-1)),(r(!0),o(a,null,g(v.visibleYears,t=>(r(),o(a,{key:"banquet-beverage-"+t},[k(t)?(r(),o("td",Su,[e("span",Cu,c(R(ge(t))),1)])):(r(),o(a,{key:0},[(r(!0),o(a,null,g(m(t),d=>(r(),o("td",{key:"banquet-beverage-cell-"+t+"-"+d,class:"px-2 py-1 text-right border border-green-300 dark:border-green-700 bg-green-100 dark:bg-green-800/30"},[e("span",Au,c(R(Z(t,d))),1)]))),128)),e("td",Eu,[e("span",Fu,c(R(ge(t))),1)])],64))],64))),128))]),e("tr",Yu,[n[26]||(n[26]=e("td",{class:"px-3 py-2 font-medium border-r border-green-300 dark:border-green-700"},[e("div",{class:"flex items-center gap-1 text-green-800 dark:text-green-200"},"Outside Catering Beverage")],-1)),(r(!0),o(a,null,g(v.visibleYears,t=>(r(),o(a,{key:"outside-catering-beverage-"+t},[k(t)?(r(),o("td",Pu,[e("span",Vu,c(R(xe(t))),1)])):(r(),o(a,{key:0},[(r(!0),o(a,null,g(m(t),d=>(r(),o("td",{key:"outside-catering-beverage-cell-"+t+"-"+d,class:"px-2 py-1 text-right border border-green-300 dark:border-green-700 bg-green-100 dark:bg-green-800/30"},[e("span",Tu,c(R(be(t,d))),1)]))),128)),e("td",Ou,[e("span",Du,c(R(xe(t))),1)])],64))],64))),128))]),e("tr",Bu,[n[27]||(n[27]=e("td",{class:"px-3 py-2 font-bold border-r border-green-600"},[e("div",{class:"flex items-center gap-1 text-white"},"Total Beverage Revenue")],-1)),(r(!0),o(a,null,g(v.visibleYears,t=>(r(),o(a,{key:"total-beverage-revenue-"+t},[k(t)?(r(),o("td",Ju,[e("span",Nu,c(R(Ae(t))),1)])):(r(),o(a,{key:0},[(r(!0),o(a,null,g(m(t),d=>(r(),o("td",{key:"total-beverage-revenue-cell-"+t+"-"+d,class:"px-2 py-1 text-right border border-green-600 font-semibold bg-green-500 dark:bg-green-900/20 text-white dark:text-gray-2000"},[e("span",Mu,c(R(Je(t,d))),1)]))),128)),e("td",Lu,[e("span",ju,c(R(Ae(t))),1)])],64))],64))),128))]),e("tr",Iu,[n[28]||(n[28]=e("td",{class:"px-3 py-2 font-bold border-r border-green-800"},[e("div",{class:"flex items-center gap-1 text-white"},"TOTAL FOOD & BEVERAGE")],-1)),(r(!0),o(a,null,g(v.visibleYears,t=>(r(),o(a,{key:"total-fnb-"+t},[k(t)?(r(),o("td",zu,[e("span",Hu,c(R(Et(t))),1)])):(r(),o(a,{key:0},[(r(!0),o(a,null,g(m(t),d=>(r(),o("td",{key:"total-fnb-cell-"+t+"-"+d,class:"px-2 py-1 text-right border border-green-800 font-semibold bg-green-700"},[e("span",Uu,c(R(dt(t,d))),1)]))),128)),e("td",qu,[e("span",Gu,c(R(Et(t))),1)])],64))],64))),128))]),e("tr",Wu,[e("td",{colspan:1+v.visibleYears.reduce((t,d)=>t+(k(d)?1:m(d).length+1),0),class:"px-3 py-2 font-semibold text-white border-r border-green-700"},[e("div",Xu,[P(V(jt),{class:"w-4 h-4"}),n[29]||(n[29]=U(" Other Revenue ",-1))])],8,Ku)]),e("tr",Qu,[n[30]||(n[30]=e("td",{class:"px-3 py-2 font-medium border-r border-green-300 dark:border-green-700"},[e("div",{class:"flex items-center gap-1 text-green-800 dark:text-green-200"},"Function Room Rental")],-1)),(r(!0),o(a,null,g(v.visibleYears,t=>(r(),o(a,{key:"function-room-rental-"+t},[k(t)?(r(),o("td",rb,[e("span",ob,c(R(pt(t))),1)])):(r(),o(a,{key:0},[(r(!0),o(a,null,g(m(t),d=>(r(),o("td",{key:"function-room-rental-cell-"+t+"-"+d,class:"px-2 py-1 text-right border border-green-300 dark:border-green-700 bg-green-100 dark:bg-green-800/30"},[e("span",Zu,c(R(Ye(t,d))),1)]))),128)),e("td",eb,[e("span",tb,c(R(pt(t))),1)])],64))],64))),128))]),e("tr",sb,[n[31]||(n[31]=e("td",{class:"px-3 py-2 font-medium border-r border-green-300 dark:border-green-700"},[e("div",{class:"flex items-center gap-1 text-green-800 dark:text-green-200"},"Miscellaneous Other Revenue")],-1)),(r(!0),o(a,null,g(v.visibleYears,t=>(r(),o(a,{key:"misc-other-revenue-"+t},[k(t)?(r(),o("td",db,[e("span",ib,c(R(ft(t))),1)])):(r(),o(a,{key:0},[(r(!0),o(a,null,g(m(t),d=>(r(),o("td",{key:"misc-other-revenue-cell-"+t+"-"+d,class:"px-2 py-1 text-right border border-green-300 dark:border-green-700 bg-green-100 dark:bg-green-800/30"},[e("span",nb,c(R(Te(t,d))),1)]))),128)),e("td",lb,[e("span",ab,c(R(ft(t))),1)])],64))],64))),128))]),e("tr",ub,[n[32]||(n[32]=e("td",{class:"px-3 py-2 font-medium border-r border-green-300 dark:border-green-700"},[e("div",{class:"flex items-center gap-1 text-green-800 dark:text-green-200"},"Audiovisual")],-1)),(r(!0),o(a,null,g(v.visibleYears,t=>(r(),o(a,{key:"audiovisual-revenue-"+t},[k(t)?(r(),o("td",xb,[e("span",pb,c(R(nt(t))),1)])):(r(),o(a,{key:0},[(r(!0),o(a,null,g(m(t),d=>(r(),o("td",{key:"audiovisual-revenue-cell-"+t+"-"+d,class:"px-2 py-1 text-right border border-green-300 dark:border-green-700 bg-green-100 dark:bg-green-800/30"},[e("span",bb,c(R(st(t,d))),1)]))),128)),e("td",cb,[e("span",gb,c(R(nt(t))),1)])],64))],64))),128))]),e("tr",fb,[n[33]||(n[33]=e("td",{class:"px-3 py-2 font-bold border-r border-green-600"},[e("div",{class:"flex items-center gap-1 text-white"},"Total Other Revenue")],-1)),(r(!0),o(a,null,g(v.visibleYears,t=>(r(),o(a,{key:"total-other-revenue-"+t},[k(t)?(r(),o("td",vb,[e("span",yb,c(R(lt(t))),1)])):(r(),o(a,{key:0},[(r(!0),o(a,null,g(m(t),d=>(r(),o("td",{key:"total-other-revenue-cell-"+t+"-"+d,class:"px-2 py-1 text-right border border-green-600 font-semibold bg-green-500 dark:bg-green-900/20 text-white dark:text-gray-2000"},[e("span",hb,c(R($e(t,d))),1)]))),128)),e("td",mb,[e("span",kb,c(R(lt(t))),1)])],64))],64))),128))]),e("tr",_b,[n[35]||(n[35]=e("td",{class:"px-3 py-2 border-r border-gray-200"},[e("div",{class:"flex items-center gap-1"})],-1)),(r(!0),o(a,null,g(v.visibleYears,t=>(r(),o(a,{key:"empty-before-total-revenue-"+t},[k(t)?(r(),o("td",wb)):(r(),o(a,{key:0},[(r(!0),o(a,null,g(m(t),d=>(r(),o("td",{key:"empty-before-total-revenue-cell-"+t+"-"+d,class:"px-2 py-1 text-center border border-gray-200 bg-gray-100"}))),128)),n[34]||(n[34]=e("td",{class:"px-2 py-1 text-center border border-gray-200 bg-gray-100"},null,-1))],64))],64))),128))]),e("tr",Rb,[n[36]||(n[36]=e("td",{class:"px-3 py-2 font-bold border-r border-green-800"},[e("div",{class:"flex items-center gap-1 text-white"},"TOTAL REVENUE")],-1)),(r(!0),o(a,null,g(v.visibleYears,t=>(r(),o(a,{key:"total-revenue-"+t},[k(t)?(r(),o("td",Fb,[e("span",Sb,c(R(ce(t))),1)])):(r(),o(a,{key:0},[(r(!0),o(a,null,g(m(t),d=>(r(),o("td",{key:"total-revenue-cell-"+t+"-"+d,class:"px-2 py-1 text-right border border-green-800 font-semibold bg-green-700"},[e("span",$b,c(R(Xe(t,d))),1)]))),128)),e("td",Ab,[e("span",Eb,c(R(ce(t))),1)])],64))],64))),128))]),e("tr",Cb,[n[37]||(n[37]=e("td",{class:"px-3 py-2 font-medium border-r border-green-300 dark:border-green-700"},[e("div",{class:"flex items-center gap-1 text-green-800 dark:text-green-200"},"Service Charge")],-1)),(r(!0),o(a,null,g(v.visibleYears,t=>(r(),o(a,{key:"service-charge-"+t},[k(t)?(r(),o("td",Db,[e("span",Pb,c(R(ee(t))),1)])):(r(),o(a,{key:0},[(r(!0),o(a,null,g(m(t),d=>(r(),o("td",{key:"service-charge-cell-"+t+"-"+d,class:"px-2 py-1 text-right border border-green-300 dark:border-green-700 bg-green-100 dark:bg-green-800/30"},[e("span",Yb,c(R(Ee(t,d))),1)]))),128)),e("td",Tb,[e("span",Ob,c(R(ee(t))),1)])],64))],64))),128))]),e("tr",Vb,[n[38]||(n[38]=e("td",{class:"px-3 py-2 font-bold border-r border-green-800"},[e("div",{class:"flex items-center gap-1 text-white"},"TOTAL REVENUE Incl. SC")],-1)),(r(!0),o(a,null,g(v.visibleYears,t=>(r(),o(a,{key:"total-revenue-incl-sc-"+t},[k(t)?(r(),o("td",jb,[e("span",Jb,c(R(ne(t))),1)])):(r(),o(a,{key:0},[(r(!0),o(a,null,g(m(t),d=>(r(),o("td",{key:"total-revenue-incl-sc-cell-"+t+"-"+d,class:"px-2 py-1 text-right border border-green-800 font-semibold bg-green-800"},[e("span",Bb,c(R(I(t,d))),1)]))),128)),e("td",Mb,[e("span",Lb,c(R(ne(t))),1)])],64))],64))),128))]),e("tr",Nb,[n[40]||(n[40]=e("td",{class:"px-3 py-2 border-r border-gray-200"},[e("div",{class:"flex items-center gap-1"})],-1)),(r(!0),o(a,null,g(v.visibleYears,t=>(r(),o(a,{key:"empty-stats-2-"+t},[k(t)?(r(),o("td",Ib)):(r(),o(a,{key:0},[(r(!0),o(a,null,g(m(t),d=>(r(),o("td",{key:"empty-stats-2-cell-"+t+"-"+d,class:"px-2 py-1 text-center border border-gray-200 bg-gray-100"}))),128)),n[39]||(n[39]=e("td",{class:"px-2 py-1 text-center border border-gray-200 bg-gray-100"},null,-1))],64))],64))),128))]),e("tr",Ub,[e("td",{colspan:1+v.visibleYears.reduce((t,d)=>t+(k(d)?1:m(d).length+1),0),class:"px-3 py-3 font-bold text-white border-r border-green-700"},n[41]||(n[41]=[e("div",{class:"flex items-center gap-2"}," Expenses ",-1)]),8,qb)]),e("tr",Gb,[e("td",{colspan:1+v.visibleYears.reduce((t,d)=>t+(k(d)?1:m(d).length+1),0),class:"px-3 py-3 font-bold text-white border-r border-orange-700"},[e("div",Hb,[P(V(Jt),{class:"w-4 h-4"}),n[42]||(n[42]=U(" COST OF FOOD & BEVERAGE SALES ",-1))])],8,zb)]),e("tr",Wb,[n[43]||(n[43]=e("td",{class:"px-3 py-2 font-medium border-r border-green-300 dark:border-green-700"},[e("div",{class:"flex items-center gap-1 text-green-800 dark:text-green-200"},"Cost of Food Sales")],-1)),(r(!0),o(a,null,g(v.visibleYears,t=>(r(),o(a,{key:"cost-food-"+t},[k(t)?(r(),o("td",Zb,[e("span",ec,c(R(mt(t))),1)])):(r(),o(a,{key:0},[(r(!0),o(a,null,g(m(t),d=>(r(),o("td",{key:"cost-food-cell-"+t+"-"+d,class:"px-2 py-1 text-right border border-green-300 dark:border-green-700 bg-green-100 dark:bg-green-800/30"},[e("span",Kb,c(R(Oe(t,d))),1)]))),128)),e("td",Xb,[e("span",Qb,c(R(mt(t))),1)])],64))],64))),128))]),e("tr",tc,[n[44]||(n[44]=e("td",{class:"px-3 py-2 font-medium border-r border-green-300 dark:border-green-700"},[e("div",{class:"flex items-center gap-1 text-green-800 dark:text-green-200"},"Cost of Beverage Sales")],-1)),(r(!0),o(a,null,g(v.visibleYears,t=>(r(),o(a,{key:"cost-beverage-"+t},[k(t)?(r(),o("td",nc,[e("span",lc,c(R(Qe(t))),1)])):(r(),o(a,{key:0},[(r(!0),o(a,null,g(m(t),d=>(r(),o("td",{key:"cost-beverage-cell-"+t+"-"+d,class:"px-2 py-1 text-right border border-green-300 dark:border-green-700 bg-green-100 dark:bg-green-800/30"},[e("span",rc,c(R(kt(t,d))),1)]))),128)),e("td",oc,[e("span",sc,c(R(Qe(t))),1)])],64))],64))),128))]),e("tr",ac,[n[45]||(n[45]=e("td",{class:"px-3 py-2 font-bold border-r border-green-600"},[e("div",{class:"flex items-center gap-1 text-white"},"Total F&B Cost of Sales")],-1)),(r(!0),o(a,null,g(v.visibleYears,t=>(r(),o(a,{key:"total-fnb-cost-"+t},[k(t)?(r(),o("td",bc,[e("span",cc,c(R(Ft(t))),1)])):(r(),o(a,{key:0},[(r(!0),o(a,null,g(m(t),d=>(r(),o("td",{key:"total-fnb-cost-cell-"+t+"-"+d,class:"px-2 py-1 text-right border border-green-600 font-semibold bg-green-500 dark:bg-green-900/20 text-white dark:text-gray-2000"},[e("span",dc,c(R(it(t,d))),1)]))),128)),e("td",ic,[e("span",uc,c(R(Ft(t))),1)])],64))],64))),128))]),e("tr",gc,[n[46]||(n[46]=e("td",{class:"px-3 py-2 font-medium border-r border-green-300 dark:border-green-700"},[e("div",{class:"flex items-center gap-1 text-green-800 dark:text-green-200"},"Audiovisual Cost")],-1)),(r(!0),o(a,null,g(v.visibleYears,t=>(r(),o(a,{key:"audiovisual-cost-"+t},[k(t)?(r(),o("td",hc,[e("span",mc,c(R(vt(t))),1)])):(r(),o(a,{key:0},[(r(!0),o(a,null,g(m(t),d=>(r(),o("td",{key:"audiovisual-cost-cell-"+t+"-"+d,class:"px-2 py-1 text-right border border-green-300 dark:border-green-700 bg-green-100 dark:bg-green-800/30"},[e("span",xc,c(R(Ne(t,d))),1)]))),128)),e("td",pc,[e("span",fc,c(R(vt(t))),1)])],64))],64))),128))]),e("tr",kc,[n[47]||(n[47]=e("td",{class:"px-3 py-2 font-medium border-r border-green-300 dark:border-green-700"},[e("div",{class:"flex items-center gap-1 text-green-800 dark:text-green-200"},"Miscellaneous Cost")],-1)),(r(!0),o(a,null,g(v.visibleYears,t=>(r(),o(a,{key:"misc-cost-"+t},[k(t)?(r(),o("td",wc,[e("span",Rc,c(R(ut(t))),1)])):(r(),o(a,{key:0},[(r(!0),o(a,null,g(m(t),d=>(r(),o("td",{key:"misc-cost-cell-"+t+"-"+d,class:"px-2 py-1 text-right border border-green-300 dark:border-green-700 bg-green-100 dark:bg-green-800/30"},[e("span",vc,c(R(yt(t,d))),1)]))),128)),e("td",yc,[e("span",_c,c(R(ut(t))),1)])],64))],64))),128))]),e("tr",$c,[n[48]||(n[48]=e("td",{class:"px-3 py-2 font-bold border-r border-green-600"},[e("div",{class:"flex items-center gap-1 text-white"},"Total Cost of Other Revenue")],-1)),(r(!0),o(a,null,g(v.visibleYears,t=>(r(),o(a,{key:"total-other-cost-"+t},[k(t)?(r(),o("td",Sc,[e("span",Cc,c(R(St(t))),1)])):(r(),o(a,{key:0},[(r(!0),o(a,null,g(m(t),d=>(r(),o("td",{key:"total-other-cost-cell-"+t+"-"+d,class:"px-2 py-1 text-right border border-green-600 font-semibold bg-green-500 dark:bg-green-900/20 text-white dark:text-gray-2000"},[e("span",Ac,c(R(bt(t,d))),1)]))),128)),e("td",Ec,[e("span",Fc,c(R(St(t))),1)])],64))],64))),128))]),e("tr",Yc,[n[49]||(n[49]=e("td",{class:"px-3 py-2 font-bold border-r border-green-800"},[e("div",{class:"flex items-center gap-1 text-white"},"TOTAL COST OF SALES")],-1)),(r(!0),o(a,null,g(v.visibleYears,t=>(r(),o(a,{key:"total-cost-sales-"+t},[k(t)?(r(),o("td",Pc,[e("span",Vc,c(R(b(t))),1)])):(r(),o(a,{key:0},[(r(!0),o(a,null,g(m(t),d=>(r(),o("td",{key:"total-cost-sales-cell-"+t+"-"+d,class:"px-2 py-1 text-right border border-green-800 font-semibold bg-green-700"},[e("span",Tc,c(R(_t(t,d))),1)]))),128)),e("td",Oc,[e("span",Dc,c(R(b(t))),1)])],64))],64))),128))]),e("tr",Bc,[n[50]||(n[50]=e("td",{class:"px-3 py-2 font-bold border-r border-green-800"},[e("div",{class:"flex items-center gap-1 text-white"},"GROSS PROFIT")],-1)),(r(!0),o(a,null,g(v.visibleYears,t=>(r(),o(a,{key:"gross-profit-"+t},[k(t)?(r(),o("td",Jc,[e("span",Nc,c(R(s(t))),1)])):(r(),o(a,{key:0},[(r(!0),o(a,null,g(m(t),d=>(r(),o("td",{key:"gross-profit-cell-"+t+"-"+d,class:"px-2 py-1 text-right border border-green-800 font-semibold bg-green-700"},[e("span",Mc,c(R(l(t,d))),1)]))),128)),e("td",Lc,[e("span",jc,c(R(s(t))),1)])],64))],64))),128))]),e("tr",Ic,[e("td",{colspan:1+v.visibleYears.reduce((t,d)=>t+(k(d)?1:m(d).length+1),0),class:"px-3 py-3 font-bold text-white border-r border-orange-700"},[e("div",qc,[P(V(jt),{class:"w-4 h-4"}),n[51]||(n[51]=U(" F&B Expenses ",-1))])],8,Uc)]),(r(!0),o(a,null,g(u(),t=>(r(),o("tr",{key:"fnb-expense-"+t,class:"bg-green-100 dark:bg-green-800/30 border-b border-green-300 dark:border-green-700"},[e("td",Gc,[e("div",zc,c(t),1)]),(r(!0),o(a,null,g(v.visibleYears,d=>(r(),o(a,{key:"fnb-expense-"+t+"-"+d},[k(d)?(r(),o("td",Xc,[e("span",Qc,c(R(C(t,d))),1)])):(r(),o(a,{key:0},[(r(!0),o(a,null,g(m(d),y=>(r(),o("td",{key:"fnb-expense-cell-"+t+"-"+d+"-"+y,class:"px-2 py-1 text-right border border-green-300 dark:border-green-700 bg-green-100 dark:bg-green-800/30 dark:text-gray-200"},[e("span",Hc,c(R(E(t,d,y))),1)]))),128)),e("td",Wc,[e("span",Kc,c(R(C(t,d))),1)])],64))],64))),128))]))),128)),e("tr",Zc,[n[52]||(n[52]=e("td",{class:"px-3 py-2 font-bold border-r border-green-600"},[e("div",{class:"flex items-center gap-1 text-white"},"Total F&B Expenses")],-1)),(r(!0),o(a,null,g(v.visibleYears,t=>(r(),o(a,{key:"total-fnb-expenses-"+t},[k(t)?(r(),o("td",og,[e("span",sg,c(R(B(t))),1)])):(r(),o(a,{key:0},[(r(!0),o(a,null,g(m(t),d=>(r(),o("td",{key:"total-fnb-expenses-cell-"+t+"-"+d,class:"px-2 py-1 text-right border border-green-600 font-semibold bg-green-500 dark:bg-green-900/20 text-white dark:text-gray-2000"},[e("span",eg,c(R(L(t,d))),1)]))),128)),e("td",tg,[e("span",rg,c(R(B(t))),1)])],64))],64))),128))]),e("tr",ng,[e("td",{colspan:1+v.visibleYears.reduce((t,d)=>t+(k(d)?1:m(d).length+1),0),class:"px-3 py-3 font-bold text-white border-r border-orange-700"},[e("div",ag,[P(V(Vr),{class:"w-4 h-4"}),n[53]||(n[53]=U(" PAYROLL ",-1))])],8,lg)]),e("tr",dg,[n[57]||(n[57]=e("td",{class:"px-3 py-2 font-semibold border-r border-[#5FA8AF]"},[e("div",{class:"flex items-center gap-1 text-white"}," Payroll ")],-1)),(r(!0),o(a,null,g(v.visibleYears,t=>(r(),o(a,{key:"payroll-subheader-"+t},[k(t)?(r(),o("td",ig)):(r(),o(a,{key:0},[(r(!0),o(a,null,g(m(t),d=>(r(),o(a,{key:"payroll-subheader-cell-"+t+"-"+d},[n[54]||(n[54]=e("td",{class:"px-2 py-1 text-center border border-[#5FA8AF] bg-[#5FA8AF]"},null,-1)),n[55]||(n[55]=e("td",{class:"px-2 py-1 text-center border border-[#5FA8AF] bg-[#5FA8AF]"},null,-1))],64))),128)),n[56]||(n[56]=e("td",{class:"px-2 py-1 text-center border border-[#5FA8AF] bg-[#5FA8AF]"},null,-1))],64))],64))),128))]),Ct("management")?(r(),o("tr",ug,[n[61]||(n[61]=e("td",{class:"px-3 py-2 font-medium border-r border-green-300 dark:border-green-700"},[e("div",{class:"flex items-center gap-1"}," Management ")],-1)),(r(!0),o(a,null,g(v.visibleYears,t=>(r(),o(a,{key:"mgmt-subheader-"+t},[k(t)?(r(),o("td",bg)):(r(),o(a,{key:0},[(r(!0),o(a,null,g(m(t),d=>(r(),o(a,{key:"mgmt-subheader-cell-"+t+"-"+d},[n[58]||(n[58]=e("td",{class:"px-2 py-1 text-center border border-green-300 dark:border-green-700 bg-green-500 dark:bg-green-900/20 text-white dark:text-gray-200"},null,-1)),n[59]||(n[59]=e("td",{class:"px-2 py-1 text-center border border-green-300 dark:border-green-700 bg-green-500 dark:bg-green-900/20 text-white dark:text-gray-200"},null,-1))],64))),128)),n[60]||(n[60]=e("td",{class:"px-2 py-1 text-center border border-green-300 dark:border-green-700 bg-green-100 dark:bg-green-800/30"},null,-1))],64))],64))),128))])):D("",!0),(r(!0),o(a,null,g(Ie.value,t=>(r(),o("tr",{key:"mgmt-loc-"+t,class:"bg-green-100 dark:bg-green-800/30 border-b border-green-300 dark:border-green-700"},[e("td",cg,[e("div",gg,c(t),1)]),(r(!0),o(a,null,g(v.visibleYears,d=>(r(),o(a,{key:"mgmt-row-"+t+"-"+d},[k(d)?(r(),o("td",hg,[e("span",mg,c(R(Ue(d,t,"management"))),1)])):(r(),o(a,{key:0},[(r(!0),o(a,null,g(m(d),y=>(r(),o("td",{key:"mgmt-cell-"+t+"-"+d+"-"+y,class:"px-2 py-1 text-right border border-green-300 dark:border-green-700 bg-green-100 dark:bg-green-800/30 dark:text-gray-200"},[e("span",xg,c(R(le(d,y,t,"management"))),1)]))),128)),e("td",pg,[e("span",fg,c(R(Ue(d,t,"management"))),1)])],64))],64))),128))]))),128)),Ct("non-management")?(r(),o("tr",kg,[n[65]||(n[65]=e("td",{class:"px-3 py-2 font-medium border-r border-green-300 dark:border-green-700"},[e("div",{class:"flex items-center gap-1"}," Non-Management ")],-1)),(r(!0),o(a,null,g(v.visibleYears,t=>(r(),o(a,{key:"nonmgmt-subheader-"+t},[k(t)?(r(),o("td",vg)):(r(),o(a,{key:0},[(r(!0),o(a,null,g(m(t),d=>(r(),o(a,{key:"nonmgmt-subheader-cell-"+t+"-"+d},[n[62]||(n[62]=e("td",{class:"px-2 py-1 text-center border border-green-300 dark:border-green-700 bg-green-500 dark:bg-green-900/20 text-white dark:text-gray-200"},null,-1)),n[63]||(n[63]=e("td",{class:"px-2 py-1 text-center border border-green-300 dark:border-green-700 bg-green-500 dark:bg-green-900/20 text-white dark:text-gray-200"},null,-1))],64))),128)),n[64]||(n[64]=e("td",{class:"px-2 py-1 text-center border border-green-300 dark:border-green-700 bg-green-100 dark:bg-green-800/30"},null,-1))],64))],64))),128))])):D("",!0),(r(!0),o(a,null,g(ye.value,t=>(r(),o("tr",{key:"nonmgmt-loc-"+t,class:"bg-green-100 dark:bg-green-800/30 border-b border-green-300 dark:border-green-700"},[e("td",yg,[e("div",_g,c(t),1)]),(r(!0),o(a,null,g(v.visibleYears,d=>(r(),o(a,{key:"nonmgmt-row-"+t+"-"+d},[k(d)?(r(),o("td",Ag,[e("span",Eg,c(R(Ue(d,t,"non-management"))),1)])):(r(),o(a,{key:0},[(r(!0),o(a,null,g(m(d),y=>(r(),o("td",{key:"nonmgmt-cell-"+t+"-"+d+"-"+y,class:"px-2 py-1 text-right border border-green-300 dark:border-green-700 bg-green-100 dark:bg-green-800/30 dark:text-gray-200"},[e("span",wg,c(R(le(d,y,t,"non-management"))),1)]))),128)),e("td",Rg,[e("span",$g,c(R(Ue(d,t,"non-management"))),1)])],64))],64))),128))]))),128)),e("tr",Fg,[n[66]||(n[66]=e("td",{class:"px-3 py-2 font-bold border-r border-green-600"},[e("div",{class:"flex items-center gap-1 text-white"}," Total Payroll ")],-1)),(r(!0),o(a,null,g(v.visibleYears,t=>(r(),o(a,{key:"total-payroll-"+t},[k(t)?(r(),o("td",Pg,[e("span",Vg,c(R(zt(t))),1)])):(r(),o(a,{key:0},[(r(!0),o(a,null,g(m(t),d=>(r(),o(a,{key:"total-payroll-cell-"+t+"-"+d},[e("td",Sg,[e("span",Cg,c(R(Ze(t,d))),1)]),e("td",Yg,[e("span",Tg,c(j(lr(t,d)))+"%",1)])],64))),128)),e("td",Og,[e("span",Dg,c(R(zt(t))),1)])],64))],64))),128))])])])])])]))}},Mg=Vt(Bg,[["__scopeId","data-v-0ab1db1f"]]),Lg={class:"flex"},jg={class:"flex-1 min-h-screen bg-gradient-to-br from-white to-violet-50 dark:from-[#0f0f12] dark:to-[#0f0f12]"},Jg={class:"relative p-4"},Ng={key:0,class:"absolute top-4 left-4 z-30 w-[660px] max-w-[95vw] rounded-2xl overflow-hidden backdrop-blur-xl bg-white/80 border border-violet-200/60 shadow-2xl ring-1 ring-violet-300/30 dark:bg-[#151823]/80 dark:border-violet-900/40 dark:ring-violet-900/30"},Ig={class:"flex items-center justify-between px-5 py-4 bg-gradient-to-r from-violet-600 to-violet-700 text-white"},Ug={class:"flex items-center gap-3"},qg={class:"w-10 h-10 bg-white/20 rounded-lg flex items-center justify-center shadow-sm"},Gg={class:"text-sm font-medium"},zg={class:"px-5 pb-5 bg-white/70 dark:bg-[#151823]/70"},Hg={class:"mb-4 pt-4"},Wg={class:"text-sm font-semibold text-gray-700 mb-3 flex items-center gap-2 dark:text-gray-200"},Kg={class:"w-full"},Xg={key:0,class:"mt-2 flex gap-2"},Qg={class:"mb-4 pt-4"},Zg={class:"text-sm font-semibold text-gray-700 mb-3 flex items-center gap-2 dark:text-gray-200"},e1={key:0,class:"flex items-center gap-2 p-3 bg-blue-50 border border-blue-200 rounded-lg dark:bg-blue-900/20 dark:border-blue-900/30"},t1={key:1,class:"flex items-center gap-2 p-3 bg-red-50 border border-red-200 rounded-lg dark:bg-red-900/20 dark:border-red-900/30"},r1={class:"text-sm text-red-700"},o1={key:2,class:"flex items-center gap-2 p-3 bg-green-50 border border-green-200 rounded-lg dark:bg-green-900/20 dark:border-green-900/30"},s1={class:"ml-auto flex items-center gap-2"},n1={class:"text-xs text-green-600"},l1={key:3,class:"flex items-center gap-2 p-3 bg-yellow-50 border border-yellow-200 rounded-lg dark:bg-yellow-900/20 dark:border-yellow-900/30"},a1={class:"mb-4 pt-4"},d1={class:"text-sm font-semibold text-gray-700 mb-3 flex items-center gap-2 dark:text-gray-200"},i1={class:"flex gap-2"},u1={class:"mt-4 pt-4 border-t border-violet-200"},b1={class:"flex gap-2"},c1={class:"bg-white/90 rounded-xl p-5 border border-violet-100 shadow-sm dark:bg-[#151823]/80 dark:border-violet-900/40"},g1={class:"space-y-4"},x1={class:"grid grid-cols-2 gap-3"},p1=["value"],f1=["value"],h1={class:"flex gap-2"},m1={class:"p-0"},k1={key:0},v1={key:1},y1={key:2,class:"mt-28"},_1={key:0,class:"mt-28"},w1={key:1,class:"mt-28"},R1={key:2,class:"mt-28 p-8 text-center text-gray-500"},$1={class:"text-sm"},A1={key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-sm"},E1={class:"bg-white rounded-2xl shadow-2xl border border-violet-200 w-[95%] max-w-lg p-0 overflow-hidden dark:bg-[#151823] dark:border-violet-900/40"},F1={class:"flex items-center gap-3 px-8 py-6 bg-gradient-to-r from-violet-600 to-violet-700"},S1={class:"p-8 pt-6"},C1={key:0,class:"mb-4 p-4 bg-yellow-50 border border-yellow-200 rounded-lg flex items-center gap-3"},Y1={key:1,class:"space-y-4 max-h-[50vh] overflow-auto pr-2"},T1={class:"font-medium text-gray-700 flex items-center gap-2 dark:text-gray-200"},O1=["onUpdate:modelValue"],D1={class:"flex justify-end gap-3 px-8 py-4 bg-gray-50 border-t border-violet-100 dark:bg-[#111318] dark:border-violet-900/40"},P1={__name:"Reports",setup(v){const f=q([]),_=q("monthly"),F=q([]),h=q({}),p=q([]),S=q(!1),k=q({}),m=q(!1);q({});const x=q([]);q(!1),q(""),q(!1),q(null);const R=q(!0),w=q([]),j=Bt(),z=q((()=>{try{return localStorage.getItem("selectedReport")||""}catch(T){return console.warn("Could not access localStorage:",T),""}})()),Y=q(!1),A=q({}),fe=q(!1),oe=q(null),he=q(0),se=Ut(),{fromYear:me,toYear:_e,advancedModes:de}=Nt(se),{setFromYear:Ge,setToYear:we,setAdvancedModes:Pe,clearYearSettings:ue,getFilteredToYears:Ve}=se,J=pe(()=>Cr(me.value,_e.value)),Fe=pe(()=>Ve(f.value)),ze=pe(()=>p.value.length>0?getAllExpensesGroupedByCategory(p.value):getExpensesGroupedByCategory(h.value,J.value)),Re=T=>[...Yr(de.value[T]||_.value),"ex1","ex2"];et(J,(T,$)=>H(this,null,function*(){T.forEach(M=>{de.value[M]||se.setAdvancedMode(M,_.value)}),Q.value&&T.length>0&&(!$||$.length===0||JSON.stringify(T)!==JSON.stringify($))&&(yield ke())})),et(Q,(T,$)=>H(this,null,function*(){if(T&&T!==$)try{h.value={},p.value=[],F.value=[],A.value={},he.value=0,yield je(),x.value=[],m.value=!0,ae.success(`Switched to project: ${T.project_name}`),J.value.length>0&&(yield ke())}catch(M){console.error("Error loading project data:",M),ae.error("Failed to load project data. Please try again.")}})),et(S,T=>{T&&(k.value=Lt({},de.value))}),et(m,T=>{T?window.removeEventListener("beforeunload",Se):window.addEventListener("beforeunload",Se)}),et(z,T=>{try{T?localStorage.setItem("selectedReport",T):localStorage.removeItem("selectedReport")}catch($){console.warn("Could not save to localStorage:",$)}}),It(()=>H(this,null,function*(){try{yield cr(),f.value=yield Or(),h.value={},p.value=[],F.value=[],A.value={},m.value=!0,Q.value&&(yield je(),J.value.length>0&&(yield ke())),localStorage.getItem("showRefreshSuccess")==="true"&&(localStorage.removeItem("showRefreshSuccess"),ae.success("Page refreshed successfully"))}catch(T){console.error("Error loading data:",T)}})),gr(()=>{window.removeEventListener("beforeunload",Se)});function Be(){ue(),m.value=!1}function ke(){return H(this,null,function*(){var T;if(!(!Q.value||!J.value.length))try{fe.value=!0,oe.value=null;const $=yield Pt.getReportData(Q.value.project_name,J.value);A.value=$,he.value=((T=$.metadata)==null?void 0:T.dataCompleteness)||0,he.value>0&&ae.success(`Report data loaded successfully (${he.value}% complete)`)}catch($){console.error("Reports: Error loading report data:",$),oe.value=$.message,ae.error(`Failed to load report data: ${$.message}`)}finally{fe.value=!1}})}function He(){Pe(Lt({},k.value)),S.value=!1}function tt(){S.value=!1}function Se(T){if(!m.value)return T.preventDefault(),T.returnValue="You have unsaved changes that may be discarded if not saved. Are you sure you want to leave?",T.returnValue}function rt(){try{let T="data:text/csv;charset=utf-8,";const $=["Receipt/Payment"];J.value.forEach(K=>{tr(K)||Re(K).forEach(G=>{$.push(`${K} - ${G}`)}),$.push(`${K} - Total`)}),T+=$.join(",")+`
`,ze.value.forEach(K=>{K.expenses.forEach(G=>{const ie=[G];J.value.forEach(Z=>{tr(Z)||Re(Z).forEach(ge=>{ie.push(getAmountForExpense(h.value,G,Z,ge,de.value[Z]||_.value))}),ie.push(calculateTotalForExpense(h.value,G,Z,de.value[Z]||_.value,Re))}),T+=ie.join(",")+`
`})});const M=encodeURI(T),W=document.createElement("a");W.setAttribute("href",M),W.setAttribute("download",`receipts_payments_data_${me.value}_${_e.value}.csv`),document.body.appendChild(W),W.click(),document.body.removeChild(W)}catch(T){console.error("Error exporting data:",T),ae.error("Failed to export data. Please try again.")}}function Me(){try{window.print()}catch(T){console.error("Error triggering print:",T),ae.error("Failed to open print dialog.")}}function We(){localStorage.setItem("showRefreshSuccess","true"),window.location.reload()}const Ke=T=>{z.value=T},ot=()=>{z.value=""},gt=()=>{var T;try{if(!((T=Q.value)!=null&&T.project_name)){ae.warning("Please select a project first");return}if(window.debugReportCache){const $=window.debugReportCache(Q.value.project_name),M=Object.keys($),W=M.reduce((K,G)=>{var ie,Z;return K+(((Z=(ie=$[G])==null?void 0:ie.rowCodes)==null?void 0:Z.length)||0)},0);ae.info(`Cache Debug: ${M.length} pages, ${W} total row codes. Check console for details.`)}else{const $=j.cache[Q.value.project_name]||{},M=Object.keys($);M.forEach(W=>{const K=$[W]||{},G=Object.keys(K)}),ae.info(`Cache Debug: ${M.length} pages found. Check console for details.`)}}catch($){console.error("Error debugging cache:",$),ae.error("Failed to debug cache. Check console for errors.")}},xt=()=>H(this,null,function*(){var T;try{if(!((T=Q.value)!=null&&T.project_name)){ae.warning("Please select a project first");return}if(!J.value.length){ae.warning("Please select years first");return}const $=["room-pnl","fnb-pnl","ood-pnl"];for(const M of $)try{const W=yield Pt.getReportSpecificData(M,Q.value.project_name,J.value);let K=0,G=0;Object.values(W).forEach(Z=>{Object.values(Z).forEach(ge=>{typeof ge=="object"&&ge!==null&&Object.values(ge).forEach(be=>{typeof be=="object"&&be!==null?Object.values(be).forEach(xe=>{K++,xe!=null&&xe!==0&&G++}):(K++,be!=null&&be!==0&&G++)})})});const ie=K>0?Math.round(G/K*100):0}catch(W){console.error(`Error loading ${M} data:`,W)}ae.success("Report data debug complete. Check console for detailed results.")}catch($){console.error("Error debugging report data:",$),ae.error("Failed to debug report data. Check console for errors.")}}),Ce=()=>{Y.value=!0},Le=()=>{Y.value=!1};function je(){return H(this,null,function*(){try{if(Q.value){const T=yield xr(Q.value.name);T&&T.data&&T.data.data?w.value=T.data.data:Array.isArray(T)?w.value=T:w.value=[]}else w.value=[]}catch(T){console.error("Error loading departments:",T),w.value=[]}})}return(T,$)=>(r(),o(a,null,[e("div",Lg,[P(hr,{onOpenSettings:Ce}),e("div",jg,[e("div",Jg,[J.value.length?(r(),o("div",Ng,[e("div",Ig,[e("div",Ug,[e("div",qg,[P(V(At),{class:"w-6 h-6 text-white"})]),$[5]||($[5]=e("div",null,[e("h1",{class:"text-xl font-bold"},"Reports"),e("p",{class:"text-xs opacity-80"},"Manage and configure your reports")],-1))]),e("button",{onClick:$[0]||($[0]=M=>R.value=!R.value),class:"flex items-center gap-2 px-3 py-2 bg-white/10 hover:bg-white/20 border border-white/20 rounded-lg transition-all"},[R.value?(r(),ct(V(qt),{key:1,class:"w-5 h-5 text-white"})):(r(),ct(V(mr),{key:0,class:"w-5 h-5 text-white"})),e("span",Gg,c(R.value?"Expand":"Collapse"),1)])]),P(Qt,{name:"fade"},{default:Kt(()=>[$t(e("div",zg,[e("div",Hg,[e("h3",Wg,[P(V(Dt),{class:"w-4 h-4 text-violet-600"}),U(" "+c(z.value?"Current Report":"Select Report"),1)]),e("div",Kg,[$t(e("select",{"onUpdate:modelValue":$[1]||($[1]=M=>z.value=M),class:"w-full px-3 py-2.5 rounded-lg border border-violet-300 focus:border-violet-500 focus:ring-2 focus:ring-violet-200 transition-all bg-white text-sm shadow-sm dark:bg-[#111318] dark:text-gray-200 dark:border-violet-900/40"},$[6]||($[6]=[e("option",{value:""},"Select a report...",-1),e("option",{value:"room-pnl"},"Room Profit & Loss",-1),e("option",{value:"fnb-pnl"},"Food And Beverage Profit & Loss",-1),e("option",{value:"ood-pnl"},"Other Operating Departments Profit & Loss",-1),e("option",{value:"pl-statement"},"Profit And Loss Statement",-1),e("option",{value:"balance-sheet"},"Balance Sheet",-1),e("option",{value:"cashflow"},"Cashflow",-1),e("option",{value:"capex-schedule"},"Capex Schedule",-1)]),512),[[Ot,z.value]])]),z.value?(r(),o("div",Xg,[e("button",{onClick:ot,class:"flex items-center gap-1 px-2 py-1 text-xs text-violet-600 hover:text-violet-700 hover:bg-violet-700 hover:bg-violet-50 rounded transition-all"},[P(V(Zt),{class:"w-3 h-3"}),$[7]||($[7]=U(" Change Report ",-1))])])):D("",!0)]),e("div",Qg,[e("h3",Zg,[P(V(or),{class:"w-4 h-4 text-violet-600"}),$[8]||($[8]=U(" Data Status ",-1))]),fe.value?(r(),o("div",e1,[P(V(Br),{class:"w-4 h-4 text-blue-600 animate-spin"}),$[9]||($[9]=e("span",{class:"text-sm text-blue-700"},"Loading report data...",-1))])):oe.value?(r(),o("div",t1,[P(V(Dr),{class:"w-4 h-4 text-red-600"}),e("span",r1,c(oe.value),1),e("button",{onClick:ke,class:"ml-auto px-2 py-1 text-xs bg-red-100 text-red-700 rounded hover:bg-red-200 transition-all dark:bg-red-900/30 dark:text-red-300 dark:hover:bg-red-900/40"}," Retry ")])):he.value>0?(r(),o("div",o1,[P(V(kr),{class:"w-4 h-4 text-green-600"}),$[10]||($[10]=e("span",{class:"text-sm text-green-700"},"Data loaded successfully",-1)),e("div",s1,[e("span",n1,c(he.value)+"% complete",1),e("button",{onClick:ke,class:"px-2 py-1 text-xs bg-green-100 text-green-700 rounded hover:bg-green-200 transition-all dark:bg-green-900/30 dark:text-green-300 dark:hover:bg-green-900/40"}," Refresh ")])])):(r(),o("div",l1,[P(V(er),{class:"w-4 h-4 text-yellow-600"}),$[11]||($[11]=e("span",{class:"text-sm text-yellow-700"},"No report data available",-1)),e("button",{onClick:ke,class:"ml-auto px-2 py-1 text-xs bg-yellow-100 text-yellow-700 rounded hover:bg-yellow-200 transition-all dark:bg-yellow-900/30 dark:text-yellow-300 dark:hover:bg-yellow-900/40"}," Load Data ")]))]),e("div",a1,[e("h3",d1,[P(V(Mr),{class:"w-4 h-4 text-violet-600"}),$[12]||($[12]=U(" Quick Actions ",-1))]),e("div",i1,[e("button",{onClick:We,class:"w-full flex items-center justify-center gap-2 px-3 py-2 bg-white/90 border border-violet-200 text-violet-700 rounded-lg hover:bg-violet-50 transition-all text-sm font-medium shadow-sm dark:bg-[#151823]/80 dark:border-violet-900/40 dark:text-violet-300 dark:hover:bg-[#151823]/90"},[P(V(Zt),{class:"w-4 h-4"}),$[13]||($[13]=U(" Refresh ",-1))]),e("button",{onClick:rt,class:"w-full flex items-center justify-center gap-2 px-3 py-2 bg-white/90 border border-violet-200 text-violet-700 rounded-lg hover:bg-violet-50 transition-all text-sm font-medium shadow-sm dark:bg-[#151823]/80 dark:border-violet-900/40 dark:text-violet-300 dark:hover:bg-[#151823]/90"},[P(V(vr),{class:"w-4 h-4"}),$[14]||($[14]=U(" Export ",-1))]),e("button",{onClick:Me,class:"w-full flex items-center justify-center gap-2 px-3 py-2 bg-white/90 border border-violet-200 text-violet-700 rounded-lg hover:bg-violet-50 transition-all text-sm font-medium shadow-sm dark:bg-[#151823]/80 dark:border-violet-900/40 dark:text-violet-300 dark:hover:bg-[#151823]/90"},[P(V(Lr),{class:"w-4 h-4"}),$[15]||($[15]=U(" Print ",-1))])]),e("div",u1,[$[18]||($[18]=e("h4",{class:"text-xs font-medium text-violet-600 mb-2"},"Debug Tools",-1)),e("div",b1,[e("button",{onClick:gt,class:"flex-1 flex items-center justify-center gap-2 px-3 py-2 bg-yellow-50 border border-yellow-200 text-yellow-700 rounded-lg hover:bg-yellow-100 transition-all text-xs font-medium"},[P(V(or),{class:"w-3 h-3"}),$[16]||($[16]=U(" Debug Cache ",-1))]),e("button",{onClick:xt,class:"flex-1 flex items-center justify-center gap-2 px-3 py-2 bg-blue-50 border border-blue-200 text-blue-700 rounded-lg hover:bg-blue-100 transition-all text-xs font-medium"},[P(V(Dt),{class:"w-3 h-3"}),$[17]||($[17]=U(" Debug Reports ",-1))])])])]),e("div",null,[e("div",c1,[$[25]||($[25]=e("h3",{class:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2 dark:text-gray-200"},[e("svg",{class:"w-5 h-5 text-violet-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})]),U(" Year Range Filter ")],-1)),e("div",g1,[e("div",x1,[e("div",null,[$[20]||($[20]=e("label",{class:"text-sm font-medium text-gray-700 mb-2 flex items-center gap-1 dark:text-gray-300"},[e("svg",{class:"w-3 h-3 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})]),U(" From Year ")],-1)),$t(e("select",{disabled:"","onUpdate:modelValue":$[2]||($[2]=M=>Xt(me)?me.value=M:null),class:"w-full px-3 py-2.5 rounded-lg border border-violet-300 focus:border-violet-500 focus:ring-2 focus:ring-violet-200 transition-all bg-gray-100 text-sm shadow-sm dark:bg-[#111318] dark:text-gray-200 dark:border-violet-900/40"},[$[19]||($[19]=e("option",{value:""},"Select Year",-1)),(r(!0),o(a,null,g(f.value,M=>(r(),o("option",{key:"from-"+M,value:M},c(M),9,p1))),128))],512),[[Ot,V(me)]])]),e("div",null,[$[22]||($[22]=e("label",{class:"text-sm font-medium text-gray-700 mb-2 flex items-center gap-1 dark:text-gray-300"},[e("svg",{class:"w-3 h-3 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})]),U(" To Year ")],-1)),$t(e("select",{disabled:"","onUpdate:modelValue":$[3]||($[3]=M=>Xt(_e)?_e.value=M:null),class:"w-full px-3 py-2.5 rounded-lg border border-violet-300 focus:border-violet-500 focus:ring-2 focus:ring-violet-200 transition-all bg-gray-100 text-sm shadow-sm dark:bg-[#111318] dark:text-gray-200 dark:border-violet-900/40"},[$[21]||($[21]=e("option",{value:""},"Select Year",-1)),(r(!0),o(a,null,g(Fe.value,M=>(r(),o("option",{key:"to-"+M,value:M},c(M),9,f1))),128))],512),[[Ot,V(_e)]])])]),e("div",h1,[e("button",{onClick:Be,class:"flex-1 flex items-center justify-center gap-2 px-3 py-2.5 bg-white/90 text-gray-700 border border-violet-200 rounded-lg hover:bg-violet-50 transition-all duration-200 text-sm font-medium shadow-sm dark:bg-[#151823]/80 dark:text-gray-300 dark:border-violet-900/40 dark:hover:bg-[#151823]/90"},$[23]||($[23]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1),U(" Clear ",-1)])),e("button",{onClick:$[4]||($[4]=M=>S.value=!0),class:"flex-1 flex items-center justify-center gap-2 px-3 py-2.5 bg-gradient-to-r from-violet-600 to-violet-700 text-white rounded-lg hover:from-violet-700 hover:to-violet-800 transition-all duration-200 text-sm font-medium shadow"},$[24]||($[24]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})],-1),U(" Advanced ",-1)]))])])])])],512),[[pr,!R.value]])]),_:1})])):D("",!0),e("div",m1,[h.value.status==="no_project_selected"?(r(),o("div",k1,[P($r)])):h.value.status==="error"?(r(),o("div",v1,[P(Ar,{message:h.value.message,onRetry:We},null,8,["message"])])):z.value?J.value.length?(r(),o(a,{key:3},[$[27]||($[27]=e("div",{class:"mb-4"},null,-1)),z.value==="room-pnl"?(r(),o("div",_1,[P(ld,{"visible-years":J.value},null,8,["visible-years"])])):z.value==="fnb-pnl"?(r(),o("div",w1,[P(Mg,{"visible-years":J.value},null,8,["visible-years"])])):(r(),o("div",R1,[P(V(Dt),{class:"w-16 h-16 mx-auto mb-4 text-gray-300"}),$[26]||($[26]=e("h3",{class:"text-lg font-medium mb-2"},"Report Not Implemented",-1)),e("p",$1,"The "+c(z.value)+" report is not yet implemented.",1)]))],64)):D("",!0):(r(),o("div",y1,[P(ao,{onReportSelected:Ke})]))])])])]),P(Qt,{name:"fade"},{default:Kt(()=>[S.value?(r(),o("div",A1,[e("div",E1,[e("div",F1,[P(V(yr),{class:"w-4 h-4 text-white"}),$[28]||($[28]=e("h2",{class:"text-xl font-bold text-white"},"Advanced Display Mode Settings",-1))]),e("div",S1,[J.value.length?D("",!0):(r(),o("div",C1,[P(V(er),{class:"w-4 h-4 text-red-600"}),$[29]||($[29]=e("span",{class:"text-yellow-800 font-medium"},'Please select both "From Year" and "To Year" to configure advanced settings.',-1))])),J.value.length?(r(),o("div",Y1,[(r(!0),o(a,null,g(J.value,M=>(r(),o("div",{key:"adv-"+M,class:"flex justify-between items-center border-b pb-2 dark:border-[#1F2430]"},[e("span",T1,[P(V(fr),{class:"w-3 h-3 text-gray-500"}),U(" "+c(M),1)]),$t(e("select",{"onUpdate:modelValue":W=>k.value[M]=W,class:"px-6 py-2 border rounded-md focus:ring-violet-500 dark:bg-[#111318] dark:text-gray-200 dark:border-violet-900/40"},$[30]||($[30]=[e("option",{value:"monthly"},"Monthly",-1),e("option",{value:"quarterly"},"Quarterly",-1)]),8,O1),[[Ot,k.value[M]]])]))),128))])):D("",!0)]),e("div",D1,[e("button",{onClick:tt,class:"px-4 py-2 rounded-md bg-gray-100 hover:bg-gray-200 text-gray-700 flex items-center gap-2 dark:bg-[#0f0f12] dark:hover:bg-[#151823] dark:text-gray-300"},[P(V(_r),{class:"w-4 h-4"}),$[31]||($[31]=U(" Cancel ",-1))]),J.value.length?(r(),o("button",{key:0,onClick:He,class:"px-4 py-2 rounded-md bg-violet-600 text-white hover:bg-violet-700 flex items-center gap-2"},[P(V(wr),{class:"w-4 h-4 text-green-600"}),$[32]||($[32]=U(" Apply ",-1))])):D("",!0)])])])):D("",!0)]),_:1}),P(Rr,{"is-visible":Y.value,onClose:Le},null,8,["is-visible"])],64))}},sx=Vt(P1,[["__scopeId","data-v-6cb0e983"]]);export{sx as default};
