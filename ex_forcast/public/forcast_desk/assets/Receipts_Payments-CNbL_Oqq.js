var Mt=Object.defineProperty;var tt=Object.getOwnPropertySymbols;var Bt=Object.prototype.hasOwnProperty,Yt=Object.prototype.propertyIsEnumerable;var ot=(_,R,g)=>R in _?Mt(_,R,{enumerable:!0,configurable:!0,writable:!0,value:g}):_[R]=g,Te=(_,R)=>{for(var g in R||(R={}))Bt.call(R,g)&&ot(_,g,R[g]);if(tt)for(var g of tt(R))Yt.call(R,g)&&ot(_,g,R[g]);return _};var ie=(_,R,g)=>new Promise((M,w)=>{var I=v=>{try{h(g.next(v))}catch(B){w(B)}},E=v=>{try{h(g.throw(v))}catch(B){w(B)}},h=v=>v.done?M(v.value):Promise.resolve(v.value).then(I,E);h((g=g.apply(_,R)).next())});import{r as Ot,o as n,c as r,b as t,e as W,u as c,v as u,w as Ve,_ as Tt,h as Q,J as At,l as Ae,p as Ce,m as Et,n as Nt,q as fe,I as Vt,K as Dt,t as It,j as ve,i as ae,T as st,F as a,x as b,B as Pe,L as $t,d as Z,M as nt,N as Ee}from"./index-BbtVxGeo.js";import{a as it,u as Kt,C as rt}from"./yearSettingsStore-CilQFo7d.js";import{A as Lt,c as le,d as qt,_ as zt,h as Ne,R as Ht,C as Ut,S as Qt,T as Jt,X as Wt,a as Gt}from"./SettingsModal-1hy0bolw.js";import{E as Xt,N as Zt}from"./ErrorState-JqQOeire.js";import{C as eo,c as lt,a as to,T as oo}from"./cloneDeep-DsfYDpDt.js";import{b as so,i as A,t as no,a as dt,q as ye,n as ro}from"./advanced_settings-CxjuzcaQ.js";import{l as lo}from"./data_service-BaNe30yv.js";import{u as io}from"./useCalculationCache-D_UHbahk.js";import{a as G}from"./index-BKwUrwX7.js";import"./createLucideIcon-BMj80q4R.js";import"./zap-CUuR70sR.js";import"./payroll_data_service-BzVD1VR-.js";const ao={class:"flex flex-col items-center justify-center min-h-[400px] bg-white border-2 border-dashed border-violet-300 rounded-xl shadow-sm"},co={class:"w-16 h-16 bg-violet-100 rounded-full flex items-center justify-center mb-4"},uo={class:"text-lg text-violet-700 font-semibold mb-2"},fo={class:"text-gray-500 text-center max-w-md leading-relaxed text-sm"},xo={class:"mt-4 flex items-center gap-2 text-xs text-violet-600"},po={class:"mt-6"},bo={__name:"NoYearsSelectedState",props:{fromYear:{type:String,default:""},toYear:{type:String,default:""}},setup(_){return(R,g)=>{const M=Ot("router-link");return n(),r("div",ao,[t("div",co,[W(c(eo),{class:"w-8 h-8 text-violet-500"})]),t("h3",uo,u(_.fromYear&&!_.toYear?'Select "To Year"':!_.fromYear&&_.toYear?'Select "From Year"':"No Years Selected"),1),t("p",fo,u(_.fromYear&&!_.toYear?"You have selected a From Year, now please select a To Year to display the Receipts & Payments table.":!_.fromYear&&_.toYear?"You have selected a To Year, now please select a From Year to display the Receipts & Payments table.":'Please select both "From Year" and "To Year" to display the Receipts & Payments table.'),1),t("div",xo,[W(c(Lt),{class:"w-3 h-3"}),g[0]||(g[0]=t("span",null,"Use the filters to get started",-1))]),t("div",po,[W(M,{to:"/expense_estimate",class:"inline-flex items-center gap-2 px-4 py-2 rounded-lg bg-gradient-to-r from-violet-600 to-violet-700 text-white hover:from-violet-700 hover:to-violet-800 shadow"},{default:Ve(()=>[W(c(it),{class:"w-4 h-4"}),g[1]||(g[1]=t("span",null,"Set Years in Expense",-1))]),_:1})])])}}};function _e(_){var E,h,v;const R=B=>B>1?B/100:B,g=R(Number((E=_==null?void 0:_.month)!=null?E:0)),M=R(Number((h=_==null?void 0:_.following)!=null?h:0)),w=R(Number((v=_==null?void 0:_.second)!=null?v:0));if([g,M,w].some(B=>isNaN(B)||B<0))throw new Error("Percentages must be non-negative numbers.");const I=g+M+w;if(I>1+1e-9)throw new Error(`Collection percentages exceed 100% (got ${(I*100).toFixed(2)}%).`);return{month:g,following:M,second:w}}function go(_,R,g){const M=_e(R),w=g.length,I={},E={},h={},v={};let B=0,q=0;g.forEach(x=>{I[x]=0,E[x]=0,h[x]=0,v[x]=0});const S=x=>{var F;return Number((F=_[x])!=null?F:0)};for(let x=0;x<w;x++){const F=g[x],X=S(F),z=X*M.month;I[F]+=z;const p=X*M.following;x+1<w?E[g[x+1]]+=p:B+=p;const k=X*M.second;x+2<w?h[g[x+2]]+=k:x+2===w?B+=k:q+=k}g.forEach(x=>{v[x]=I[x]+E[x]+h[x]}),v.ex1=B,v.ex2=q;const V={sameMonth:Object.values(I).reduce((x,F)=>x+F,0),following:Object.values(E).reduce((x,F)=>x+F,0)+B,second:Object.values(h).reduce((x,F)=>x+F,0)+q,cashInflow:Object.values(v).reduce((x,F)=>x+(typeof F=="number"?F:0),0)};return{sameMonth:I,following:E,second:h,cashInflow:v,totals:V}}function ho(_,R,g,M=null){const w=_e(R),I=g.length,E={},h=(S,V=_)=>{var x;return Number((x=V==null?void 0:V[S])!=null?x:0)};for(let S=0;S<I;S++){const V=g[S],x=h(V),F=S>0?h(g[S-1]):0;E[V]=(w.following+w.second)*x+w.second*F}let v=null,B=null;if(M){const S=h("Jan",M),V=h("Feb",M);h("Dec",_);const x=h("Dec",_);v=(w.following+w.second)*S+w.second*x,B=(w.following+w.second)*V+w.second*S}const q=Object.values(E).reduce((S,V)=>S+V,0)+(v!=null?v:0)+(B!=null?B:0);return{ar:E,ex1:v,ex2:B,total:q}}function mo(_,R,g){const M=_e(R),w=g.length,I={},E={},h={},v={};let B=0,q=0;g.forEach(x=>{I[x]=0,E[x]=0,h[x]=0,v[x]=0});const S=x=>{var F;return Number((F=_==null?void 0:_[x])!=null?F:0)};for(let x=0;x<w;x++){const F=g[x],X=S(F),z=X*M.month;I[F]+=z;const p=X*M.following;x+1<w?E[g[x+1]]+=p:B+=p;const k=X*M.second;x+2<w?h[g[x+2]]+=k:x+2===w?B+=k:q+=k}g.forEach(x=>{v[x]=I[x]+E[x]+h[x]}),v.ex1=B,v.ex2=q;const V={sameMonth:Object.values(I).reduce((x,F)=>x+F,0),following:Object.values(E).reduce((x,F)=>x+F,0)+B,second:Object.values(h).reduce((x,F)=>x+F,0)+q,cashOutflow:Object.values(v).reduce((x,F)=>x+(typeof F=="number"?F:0),0)};return{sameMonth:I,following:E,second:h,cashOutflow:v,totals:V}}function vo(_,R,g,M=null){const w=_e(R),I=g.length,E={},h=(S,V=_)=>{var x;return Number((x=V==null?void 0:V[S])!=null?x:0)};for(let S=0;S<I;S++){const V=g[S],x=h(V),F=S>0?h(g[S-1]):0;E[V]=(w.following+w.second)*x+w.second*F}let v=null,B=null;if(M){const S=h("Jan",M),V=h("Feb",M),x=h("Dec",_);v=(w.following+w.second)*S+w.second*x,B=(w.following+w.second)*V+w.second*S}const q=Object.values(E).reduce((S,V)=>S+V,0)+(v!=null?v:0)+(B!=null?B:0);return{payables:E,ex1:v,ex2:B,total:q}}function yo({paymentBases:_,paymentPercentages:R,getDeptKey:g,advancedModes:M,displayMode:w,monthlyLabels:I,quarterToMonths:E,getNumber:h}){function v(p,k,K){const Y=g(p),P={};return I.forEach(H=>{var U,O,L,de;const J=(de=(L=(O=(U=_.value)==null?void 0:U[Y])==null?void 0:O[k])==null?void 0:L[K])==null?void 0:de[H];P[H]=h(J||0)}),P}function B(p,k,K){const Y=g(p),P={};return I.forEach(H=>{var U,O,L,de;const J=(de=(L=(O=(U=_.value)==null?void 0:U[Y])==null?void 0:O[k])==null?void 0:L[K+1])==null?void 0:de[H];P[H]=h(J||0)}),P}function q(p,k){var P,H;const K=g(p),Y=((H=(P=R.value)==null?void 0:P[K])==null?void 0:H[k])||{month:0,following:0,second:0};return{month:h(Y.month),following:h(Y.following),second:h(Y.second)}}function S(p,k,K){const Y=v(p,k,K),P=q(p,k);return mo(Y,P,I)}function V(p,k,K,Y,P){const H=M.value[K]||w.value,J=S(p,k,K);if(Y==="ex1"){if(P==="sameMonth")return 0;if(P==="following"){const U=v(p,k,K),O=q(p,k),L=O.following>1?O.following/100:O.following;return h(U.Dec)*L}if(P==="second"){const U=v(p,k,K),O=q(p,k),L=O.second>1?O.second/100:O.second;return h(U.Nov)*L}if(P==="cashOutflow")return h(J.cashOutflow.ex1||0)}if(Y==="ex2"){if(P==="sameMonth"||P==="following")return 0;if(P==="second"){const U=v(p,k,K),O=q(p,k),L=O.second>1?O.second/100:O.second;return h(U.Dec)*L}if(P==="cashOutflow")return h(J.cashOutflow.ex2||0)}if(H==="monthly")return P==="sameMonth"?h(J.sameMonth[Y]||0):P==="following"?h(J.following[Y]||0):P==="second"?h(J.second[Y]||0):P==="cashOutflow"?h(J.cashOutflow[Y]||0):0;if(H==="quarterly"&&E[Y]){const U=E[Y];if(P==="sameMonth")return U.reduce((O,L)=>O+h(J.sameMonth[L]||0),0);if(P==="following")return U.reduce((O,L)=>O+h(J.following[L]||0),0);if(P==="second")return U.reduce((O,L)=>O+h(J.second[L]||0),0);if(P==="cashOutflow")return U.reduce((O,L)=>O+h(J.cashOutflow[L]||0),0)}return 0}function x(p,k,K,Y){const P=S(p,k,K);return Y==="sameMonth"?h(P.totals.sameMonth||0):Y==="following"?h(P.totals.following||0):Y==="second"?h(P.totals.second||0):Y==="cashOutflow"?h(P.totals.cashOutflow||0):0}function F(p,k,K){const Y=v(p,k,K),P=B(p,k,K),H=q(p,k);return vo(Y,H,I,P)}function X(p,k,K,Y){const P=M.value[K]||w.value,H=F(p,k,K);return Y==="ex1"?h(H.ex1||0):Y==="ex2"?h(H.ex2||0):P==="monthly"?h(H.payables[Y]||0):P==="quarterly"&&E[Y]?E[Y].reduce((U,O)=>U+h(H.payables[O]||0),0):0}function z(p,k,K){const Y=F(p,k,K);return h(Y.total||0)}return{getPaymentValue:V,getPaymentTotal:x,getPayablesValue:X,getPayablesTotal:z}}const at="/api/method/ex_forcast.api.call_and_save_receipts";function _o(_=null){return ie(this,null,function*(){let R=`${at}.receipts_payments_display`;_&&(R+=`?project=${encodeURIComponent(_)}`);const g=yield fetch(R);if(!g.ok)throw new Error(`HTTP ${g.status}`);const M=yield g.json();return M.message||M})}function wo(_,R=null){return ie(this,null,function*(){const g=new FormData;g.append("changes",JSON.stringify(_||[])),R&&g.append("project",R);const M=yield fetch(`${at}.upsert_receipts_payments_items`,{method:"POST",body:g});if(!M.ok){const w=yield M.text();throw new Error(`HTTP ${M.status}: ${w}`)}return yield M.json()})}const ko={class:"flex"},Fo={class:"flex-1 min-h-screen bg-gradient-to-br from-white to-violet-50"},Co={class:"flex"},Po={key:2,class:"text-violet-700 text-sm font-medium"},jo={class:"mb-8"},So={class:"flex items-center gap-3 mb-2"},Ro={class:"w-12 h-12 bg-gradient-to-br from-violet-500 to-violet-600 rounded-xl flex items-center justify-center shadow-lg"},Mo={class:"bg-white rounded-xl p-4 mb-6 border border-gray-200 shadow-sm"},Bo={class:"flex items-center justify-between"},Yo={class:"flex items-center gap-2"},Oo={key:0,class:"flex items-center gap-2 text-sm font-medium text-red-600 bg-red-50 px-3 py-2 rounded-lg border border-red-200"},To={key:1,class:"flex items-center gap-2 text-sm font-medium text-green-600 bg-green-50 px-3 py-2 rounded-lg border border-green-200"},Ao=["disabled"],Eo={key:1,class:"flex items-center gap-2 px-4 py-2 bg-gray-500 text-white rounded-lg cursor-not-allowed"},No={key:0,class:"mt-2 text-xs text-red-500 flex items-center gap-1"},Vo={class:"mb-8"},Do={class:"flex gap-2 mt-3"},Io={class:"flex-1"},$o={class:"bg-white rounded-xl p-5 border border-gray-200 shadow-sm"},Ko={class:"space-y-4"},Lo={class:"grid grid-cols-2 gap-3"},qo=["value"],zo=["value"],Ho={class:"flex gap-2"},Uo={class:"flex-1 p-4"},Qo={key:0},Jo={key:1},Wo={class:"mb-4"},Go={class:"flex items-center gap-2"},Xo={class:"w-6 h-6 bg-gradient-to-br from-violet-500 to-violet-600 rounded-lg flex items-center justify-center"},Zo={class:"bg-white rounded-lg border border-violet-200 shadow-sm overflow-hidden md:max-w-[1800px] lg:max-w-[1800px] xl:max-w-[2000px] 2xl:max-w-[2000px]"},es={class:"overflow-x-auto max-w-[100%] md:max-w-[1800px] lg:max-w-[1800px] xl:max-w-[2000px] 2xl:max-w-[2000px]"},ts={class:"min-w-full w-max"},os={class:"w-full"},ss={class:"bg-gradient-to-r from-violet-600 to-violet-700 text-white"},ns=["colspan","onClick"],rs={class:"flex items-center justify-center gap-1"},ls={class:"font-semibold"},ds={class:"bg-violet-500/90 text-xs"},is={class:"px-2 py-1 text-center border border-violet-300 min-w-[110px] font-semibold"},as={class:"flex items-center justify-center gap-1"},cs={key:1,class:"px-2 py-1 text-center border border-violet-300 min-w-[110px] font-semibold"},us={class:"flex items-center justify-center gap-1"},fs={class:"text-gray-700 bg-white text-sm"},xs={class:"bg-gradient-to-r from-violet-600 to-violet-700 border-y-2 border-white"},ps={colspan:"2",class:"px-3 py-3 font-extrabold text-white border-r border-violet-800"},bs={class:"flex items-center gap-2"},gs={key:1,class:"px-1 py-1 text-center border border-violet-500 bg-violet-600/30"},hs={class:"bg-violet-100 border-b border-violet-200"},ms={key:1,class:"px-1 py-1 text-center border border-violet-200 bg-violet-100"},vs={class:"bg-violet-50 border-b border-violet-200"},ys={colspan:"2",class:"px-3 py-2 font-medium border-r border-violet-200"},_s={class:"flex items-center gap-1"},ws={class:"font-mono text-xs"},ks={class:"px-2 py-1 text-right border border-violet-200 font-semibold bg-violet-100"},Fs={class:"font-mono text-xs text-violet-700"},Cs={key:1,class:"px-2 py-1 text-right border border-violet-200 font-semibold bg-violet-100"},Ps={class:"font-mono text-xs text-violet-700"},js={class:"bg-violet-50 border-b border-violet-200"},Ss={class:"px-3 py-2 font-medium border-r border-violet-200"},Rs={class:"flex items-center gap-1"},Ms=["onInput","onFocus","onBlur"],Bs={class:"flex items-center justify-end gap-1"},Ys={class:"font-mono text-xs"},Os={class:"font-mono text-xs"},Ts={class:"px-2 py-1 text-right border border-violet-200 font-semibold bg-violet-100"},As={class:"font-mono text-xs text-violet-700"},Es={key:1,class:"px-2 py-1 text-right border border-violet-200 font-semibold bg-violet-100"},Ns={class:"font-mono text-xs text-violet-700"},Vs={class:"bg-violet-50 border-b border-violet-200"},Ds={class:"px-3 py-2 font-medium border-r border-violet-200"},Is={class:"flex items-center gap-1"},$s=["onInput","onFocus","onBlur"],Ks={class:"flex items-center justify-end gap-1"},Ls={class:"font-mono text-xs"},qs={class:"font-mono text-xs"},zs={class:"px-2 py-1 text-right border border-violet-200 font-semibold bg-violet-100"},Hs={class:"font-mono text-xs text-violet-700"},Us={key:1,class:"px-2 py-1 text-right border border-violet-200 font-semibold bg-violet-100"},Qs={class:"font-mono text-xs text-violet-700"},Js={class:"bg-violet-50 border-b border-violet-200"},Ws={class:"px-3 py-2 font-medium border-r border-violet-200"},Gs={class:"flex items-center gap-1"},Xs=["onInput","onFocus","onBlur"],Zs={class:"flex items-center justify-end gap-1"},en={class:"font-mono text-xs"},tn={class:"font-mono text-xs"},on={class:"px-2 py-1 text-right border border-violet-200 font-semibold bg-violet-100"},sn={class:"font-mono text-xs text-violet-700"},nn={key:1,class:"px-2 py-1 text-right border border-violet-200 font-semibold bg-violet-100"},rn={class:"bg-gradient-to-r from-violet-100 to-violet-200 border-b-2 border-violet-400"},ln={class:"font-mono text-xs"},dn={class:"px-2 py-1 text-right border border-violet-300 bg-violet-200 font-bold text-violet-900"},an={class:"font-mono text-xs"},cn={key:1,class:"px-2 py-1 text-right border border-violet-300 bg-violet-200 font-bold text-violet-900"},un={class:"bg-gradient-to-r from-violet-100 to-violet-200 border-b-2 border-violet-400"},fn={colspan:"2",class:"px-3 py-2 font-bold border-r border-violet-300 text-violet-900 text-right"},xn={class:"flex items-center gap-1 justify-end"},pn={class:"font-mono text-xs"},bn={class:"px-2 py-1 text-right border border-violet-300 bg-violet-200 font-bold text-violet-900"},gn={class:"font-mono text-xs"},hn={key:1,class:"px-2 py-1 text-right border border-violet-300 bg-violet-200 font-bold text-violet-900"},mn={class:"bg-red-100 border-b border-red-200"},vn={key:1,class:"px-1 py-1 text-center border border-red-200 bg-red-100"},yn={class:"bg-red-50 border-b border-red-200"},_n=["onInput","onBlur"],wn={class:"font-mono text-xs"},kn={class:"px-2 py-1 text-right border border-red-200 font-semibold bg-red-100"},Fn={class:"font-mono text-xs text-red-700"},Cn={key:1,class:"px-2 py-1 text-right border border-red-200 font-semibold bg-red-100"},Pn={class:"bg-red-50 border-b border-red-200"},jn={class:"px-3 py-2 font-medium border-r border-red-200"},Sn={class:"flex items-center gap-1"},Rn=["onInput","onFocus","onBlur"],Mn={class:"flex items-center justify-end gap-1"},Bn={class:"font-mono text-xs"},Yn={class:"font-mono text-xs"},On={class:"px-2 py-1 text-right border border-red-200 font-semibold bg-red-100"},Tn={class:"font-mono text-xs text-red-700"},An={key:1,class:"px-2 py-1 text-right border border-red-200 font-semibold bg-red-100"},En={class:"bg-red-50 border-b border-red-200"},Nn={class:"px-3 py-2 font-medium border-r border-red-200"},Vn={class:"flex items-center gap-1"},Dn=["onInput","onFocus","onBlur"],In={class:"flex items-center justify-end gap-1"},$n={class:"font-mono text-xs"},Kn={class:"font-mono text-xs"},Ln={class:"px-2 py-1 text-right border border-red-200 font-semibold bg-red-100"},qn={class:"font-mono text-xs text-red-700"},zn={key:1,class:"px-2 py-1 text-right border border-red-200 font-semibold bg-red-100"},Hn={class:"bg-red-50 border-b border-red-200"},Un={class:"px-3 py-2 font-medium border-r border-red-200"},Qn={class:"flex items-center gap-1"},Jn=["onInput","onFocus","onBlur"],Wn={class:"flex items-center justify-end gap-1"},Gn={class:"font-mono text-xs"},Xn={class:"font-mono text-xs"},Zn={class:"px-2 py-1 text-right border border-red-200 font-semibold bg-red-100"},er={class:"font-mono text-xs text-red-700"},tr={key:1,class:"px-2 py-1 text-right border border-red-200 font-semibold bg-red-100"},or={class:"bg-gradient-to-r from-red-100 to-red-200 border-b-2 border-red-400"},sr={class:"font-mono text-xs"},nr={class:"px-2 py-1 text-right border border-red-300 bg-red-200 font-bold text-red-900"},rr={class:"font-mono text-xs"},lr={key:1,class:"px-2 py-1 text-right border border-red-300 bg-red-200 font-bold text-red-900"},dr={class:"bg-gradient-to-r from-red-100 to-red-200 border-b-2 border-red-400"},ir={colspan:"2",class:"px-3 py-2 font-bold border-r border-red-300 text-red-900 text-right"},ar={class:"flex items-center gap-1 justify-end"},cr={class:"font-mono text-xs"},ur={class:"px-2 py-1 text-right border border-red-300 bg-red-200 font-bold text-red-900"},fr={class:"font-mono text-xs"},xr={key:1,class:"px-2 py-1 text-right border border-red-300 bg-red-200 font-bold text-red-900"},pr={class:"bg-red-50 border-b border-red-200"},br=["onInput","onBlur"],gr={class:"font-mono text-xs"},hr={class:"px-2 py-1 text-right border border-red-200 font-semibold bg-red-100"},mr={class:"font-mono text-xs text-red-700"},vr={key:1,class:"px-2 py-1 text-right border border-red-200 font-semibold bg-red-100"},yr={class:"bg-red-50 border-b border-red-200"},_r={class:"px-3 py-2 font-medium border-r border-red-200"},wr={class:"flex items-center gap-1"},kr=["onInput","onFocus","onBlur"],Fr={class:"flex items-center justify-end gap-1"},Cr={class:"font-mono text-xs"},Pr={class:"font-mono text-xs"},jr={class:"px-2 py-1 text-right border border-red-200 font-semibold bg-red-100"},Sr={class:"font-mono text-xs text-red-700"},Rr={key:1,class:"px-2 py-1 text-right border border-red-200 font-semibold bg-red-100"},Mr={class:"bg-red-50 border-b border-red-200"},Br={class:"px-3 py-2 font-medium border-r border-red-200"},Yr={class:"flex items-center gap-1"},Or=["onInput","onFocus","onBlur"],Tr={class:"flex items-center justify-end gap-1"},Ar={class:"font-mono text-xs"},Er={class:"font-mono text-xs"},Nr={class:"px-2 py-1 text-right border border-red-200 font-semibold bg-red-100"},Vr={class:"font-mono text-xs text-red-700"},Dr={key:1,class:"px-2 py-1 text-right border border-red-200 font-semibold bg-red-100"},Ir={class:"bg-red-50 border-b border-red-200"},$r={class:"px-3 py-2 font-medium border-r border-red-200"},Kr={class:"flex items-center gap-1"},Lr=["onInput","onFocus","onBlur"],qr={class:"flex items-center justify-end gap-1"},zr={class:"font-mono text-xs"},Hr={class:"font-mono text-xs"},Ur={class:"px-2 py-1 text-right border border-red-200 font-semibold bg-red-100"},Qr={class:"font-mono text-xs text-red-700"},Jr={key:1,class:"px-2 py-1 text-right border border-red-200 font-semibold bg-red-100"},Wr={class:"bg-gradient-to-r from-red-100 to-red-200 border-b-2 border-red-400"},Gr={class:"font-mono text-xs"},Xr={class:"px-2 py-1 text-right border border-red-300 bg-red-200 font-bold text-red-900"},Zr={class:"font-mono text-xs"},el={key:1,class:"px-2 py-1 text-right border border-red-300 bg-red-200 font-bold text-red-900"},tl={class:"bg-gradient-to-r from-red-100 to-red-200 border-b-2 border-red-400"},ol={colspan:"2",class:"px-3 py-2 font-bold border-r border-red-300 text-red-900 text-right"},sl={class:"flex items-center gap-1 justify-end"},nl={class:"font-mono text-xs"},rl={class:"px-2 py-1 text-right border border-red-300 bg-red-200 font-bold text-red-900"},ll={class:"font-mono text-xs"},dl={key:1,class:"px-2 py-1 text-right border border-red-300 bg-red-200 font-bold text-red-900"},il={class:"bg-red-50 border-b border-red-200"},al=["onInput","onBlur"],cl={class:"font-mono text-xs"},ul={class:"px-2 py-1 text-right border border-red-200 font-semibold bg-red-100"},fl={class:"font-mono text-xs text-red-700"},xl={key:1,class:"px-2 py-1 text-right border border-red-200 font-semibold bg-red-100"},pl={class:"bg-red-50 border-b border-red-200"},bl={class:"px-3 py-2 font-medium border-r border-red-200"},gl={class:"flex items-center gap-1"},hl=["onInput","onFocus","onBlur"],ml={class:"flex items-center justify-end gap-1"},vl={class:"font-mono text-xs"},yl={class:"font-mono text-xs"},_l={class:"px-2 py-1 text-right border border-red-200 font-semibold bg-red-100"},wl={class:"font-mono text-xs text-red-700"},kl={key:1,class:"px-2 py-1 text-right border border-red-200 font-semibold bg-red-100"},Fl={class:"bg-red-50 border-b border-red-200"},Cl={class:"px-3 py-2 font-medium border-r border-red-200"},Pl={class:"flex items-center gap-1"},jl=["onInput","onFocus","onBlur"],Sl={class:"flex items-center justify-end gap-1"},Rl={class:"font-mono text-xs"},Ml={class:"font-mono text-xs"},Bl={class:"px-2 py-1 text-right border border-red-200 font-semibold bg-red-100"},Yl={class:"font-mono text-xs text-red-700"},Ol={key:1,class:"px-2 py-1 text-right border border-red-200 font-semibold bg-red-100"},Tl={class:"bg-red-50 border-b border-red-200"},Al={class:"px-3 py-2 font-medium border-r border-red-200"},El={class:"flex items-center gap-1"},Nl=["onInput","onFocus","onBlur"],Vl={class:"flex items-center justify-end gap-1"},Dl={class:"font-mono text-xs"},Il={class:"font-mono text-xs"},$l={class:"px-2 py-1 text-right border border-red-200 font-semibold bg-red-100"},Kl={class:"font-mono text-xs text-red-700"},Ll={key:1,class:"px-2 py-1 text-right border border-red-200 font-semibold bg-red-100"},ql={class:"bg-gradient-to-r from-red-100 to-red-200 border-b-2 border-red-400"},zl={class:"font-mono text-xs"},Hl={class:"px-2 py-1 text-right border border-red-300 bg-red-200 font-bold text-red-900"},Ul={class:"font-mono text-xs"},Ql={key:1,class:"px-2 py-1 text-right border border-red-300 bg-red-200 font-bold text-red-900"},Jl={class:"bg-gradient-to-r from-red-100 to-red-200 border-b-2 border-red-400"},Wl={colspan:"2",class:"px-3 py-2 font-bold border-r border-red-300 text-red-900 text-right"},Gl={class:"flex items-center gap-1 justify-end"},Xl={class:"font-mono text-xs"},Zl={class:"px-2 py-1 text-right border border-red-300 bg-red-200 font-bold text-red-900"},ed={class:"font-mono text-xs"},td={key:1,class:"px-2 py-1 text-right border border-red-300 bg-red-200 font-bold text-red-900"},od={class:"bg-red-50 border-b border-red-200"},sd=["onInput","onBlur"],nd={class:"font-mono text-xs"},rd={class:"px-2 py-1 text-right border border-red-200 font-semibold bg-red-100"},ld={class:"font-mono text-xs text-red-700"},dd={key:1,class:"px-2 py-1 text-right border border-red-200 font-semibold bg-red-100"},id={class:"bg-red-50 border-b border-red-200"},ad={class:"px-3 py-2 font-medium border-r border-red-200"},cd={class:"flex items-center gap-1"},ud=["onInput","onFocus","onBlur"],fd={class:"flex items-center justify-end gap-1"},xd={class:"font-mono text-xs"},pd={class:"font-mono text-xs"},bd={class:"px-2 py-1 text-right border border-red-200 font-semibold bg-red-100"},gd={class:"font-mono text-xs text-red-700"},hd={key:1,class:"px-2 py-1 text-right border border-red-200 font-semibold bg-red-100"},md={class:"bg-red-50 border-b border-red-200"},vd={class:"px-3 py-2 font-medium border-r border-red-200"},yd={class:"flex items-center gap-1"},_d=["onInput","onFocus","onBlur"],wd={class:"flex items-center justify-end gap-1"},kd={class:"font-mono text-xs"},Fd={class:"font-mono text-xs"},Cd={class:"px-2 py-1 text-right border border-red-200 font-semibold bg-red-100"},Pd={class:"font-mono text-xs text-red-700"},jd={key:1,class:"px-2 py-1 text-right border border-red-200 font-semibold bg-red-100"},Sd={class:"bg-red-50 border-b border-red-200"},Rd={class:"px-3 py-2 font-medium border-r border-red-200"},Md={class:"flex items-center gap-1"},Bd=["onInput","onFocus","onBlur"],Yd={class:"flex items-center justify-end gap-1"},Od={class:"font-mono text-xs"},Td={class:"font-mono text-xs"},Ad={class:"px-2 py-1 text-right border border-red-200 font-semibold bg-red-100"},Ed={class:"font-mono text-xs text-red-700"},Nd={key:1,class:"px-2 py-1 text-right border border-red-200 font-semibold bg-red-100"},Vd={class:"bg-gradient-to-r from-red-100 to-red-200 border-b-2 border-red-400"},Dd={class:"font-mono text-xs"},Id={class:"px-2 py-1 text-right border border-red-300 bg-red-200 font-bold text-red-900"},$d={class:"font-mono text-xs"},Kd={key:1,class:"px-2 py-1 text-right border border-red-300 bg-red-200 font-bold text-red-900"},Ld={class:"bg-gradient-to-r from-red-100 to-red-200 border-b-2 border-red-400"},qd={colspan:"2",class:"px-3 py-2 font-bold border-r border-red-300 text-red-900 text-right"},zd={class:"flex items-center gap-1 justify-end"},Hd={class:"font-mono text-xs"},Ud={class:"px-2 py-1 text-right border border-red-300 bg-red-200 font-bold text-red-900"},Qd={class:"font-mono text-xs"},Jd={key:1,class:"px-2 py-1 text-right border border-red-300 bg-red-200 font-bold text-red-900"},Wd={key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-sm"},Gd={class:"bg-white rounded-2xl shadow-2xl border border-violet-200 w-[95%] max-w-lg p-0 overflow-hidden"},Xd={class:"flex items-center gap-3 px-8 py-6 bg-gradient-to-r from-violet-600 to-violet-700"},Zd={class:"p-8 pt-6"},e0={key:0,class:"mb-4 p-4 bg-yellow-50 border border-yellow-200 rounded-lg flex items-center gap-3"},t0={key:1,class:"space-y-4 max-h-[50vh] overflow-auto pr-2"},o0={class:"font-medium text-gray-700 flex items-center gap-2"},s0=["onUpdate:modelValue"],n0={class:"flex justify-end gap-3 px-8 py-4 bg-gray-50 border-t border-violet-100"},r0={__name:"Receipts_Payments",setup(_){const R=Q([]),g=Q("monthly"),M=Q([]),w=Q({}),I=Q([]),E=Q(!1),h=Q({}),v=Q(!1);Q({});const B=Q([]),q=Q(!1),S=Q("");Q(!1),Q(null);const V=Q(!1),x=Q(!1),F=Q([]),X=io(),z=Q({rooms:{month:0,following:0,second:0},fnb:{month:0,following:0,second:0},ood:{month:0,following:0,second:0}}),p=Q({rooms:{salary:{month:0,following:0,second:0},bonus:{month:0,following:0,second:0},payroll:{month:0,following:0,second:0},expenses:{month:0,following:0,second:0}},fnb:{salary:{month:0,following:0,second:0},bonus:{month:0,following:0,second:0},payroll:{month:0,following:0,second:0},expenses:{month:0,following:0,second:0}},ood:{salary:{month:0,following:0,second:0},bonus:{month:0,following:0,second:0},payroll:{month:0,following:0,second:0},expenses:{month:0,following:0,second:0}}}),k=Q({});function K(l,o,s){k.value[l]||(k.value[l]={}),k.value[l][o]||(k.value[l][o]={}),k.value[l][o][s]||(k.value[l][o][s]={})}function Y(l){if(l==null)return 0;const o=Number(String(l).replace(/,/g,"").trim());return isNaN(o)?0:o}function P(l,o,s,d){var y,T,$,D;const e=f(l),i=(D=($=(T=(y=k.value)==null?void 0:y[e])==null?void 0:T[o])==null?void 0:$[s])==null?void 0:D[d];return N(i)}function H(l,o,s){var T,$,D;const d=f(l),e=ce.value[s]||g.value,i=dt(e),y=((D=($=(T=k.value)==null?void 0:T[d])==null?void 0:$[o])==null?void 0:D[s])||{};return i.reduce((oe,ue)=>oe+N(y[ue]||0),0)}function J(l,o,s,d,e){const i=f(l);K(i,o,s);const y=Y(e.target.textContent);k.value[i][o][s][d]=y,v.value=!1}function U(l,o,s,d,e){const i=f(l);K(i,o,s);const y=Y(e.target.textContent);k.value[i][o][s][d]=y,pe(e,m(y))}function O(l){if(!l||typeof l!="string")return"rooms";const o=l.trim().toLowerCase();return o==="rooms"?"rooms":o==="food and beverage"||o==="f & b"||o==="f&b"?"fnb":o==="other operating departments"||o==="ood"?"ood":o}function L(l){if(!z.value[l]){const o=z.value.rooms||{month:0,following:0,second:0};z.value[l]=lt(o)}if(!p.value[l]){let o;l==="rooms"?o=p.value.rooms:l==="fnb"?o=p.value.fnb:l==="ood"?o=p.value.ood:o=p.value.rooms,p.value[l]=lt(o)}}function de(l){Array.isArray(l)&&l.forEach(o=>{const s=O(o);L(s)})}const je=Kt(),{fromYear:be,toYear:ge,advancedModes:ce}=At(je),{setFromYear:l0,setToYear:d0,setAdvancedModes:ct,clearYearSettings:ut,getFilteredToYears:ft}=je,C=Ae(()=>so(be.value,ge.value)),xt=Ae(()=>ft(R.value));Ae(()=>I.value.length>0?getAllExpensesGroupedByCategory(I.value):getExpensesGroupedByCategory(w.value,C.value));const j=l=>[...dt(ce.value[l]||g.value),"ex1","ex2"],f=l=>O(l);function he(){var l;return((l=fe.value)==null?void 0:l.project_name)||"default"}function De(){try{return localStorage.getItem("marketSegmentation")==="true"}catch(l){return!1}}function N(l){const o=Number(l);return isNaN(o)?0:o}function m(l){return N(l).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}const me=ro,Ie=Q({});function $e(l,o){const s={};return me.forEach(d=>{s[d]=N(Re(l,o,d))}),s}function Ke(l){const o=f(l),s=z.value[o]||{month:0,following:0,second:0};try{const d=_e(s);return Ie.value[o]=d,d}catch(d){return Ie.value[o]||{month:0,following:0,second:0}}}function Le(l,o){const s=$e(l,o),d=Ke(l);return{out:go(s,d,me),revenue:s,perc:d}}function we(l,o,s,d){const{out:e,revenue:i,perc:y}=Le(l,o),T=ce.value[o]||g.value;if(s==="ex1"){if(d==="sameMonth")return 0;if(d==="following")return N(i.Dec)*y.following;if(d==="second")return N(i.Nov)*y.second;if(d==="cashInflow")return N(e.cashInflow.ex1||0)}if(s==="ex2"){if(d==="sameMonth"||d==="following")return 0;if(d==="second")return N(i.Dec)*y.second;if(d==="cashInflow")return N(e.cashInflow.ex2||0)}if(T==="monthly")return d==="sameMonth"?N(e.sameMonth[s]||0):d==="following"?N(e.following[s]||0):d==="second"?N(e.second[s]||0):d==="cashInflow"?N(e.cashInflow[s]||0):0;if(T==="quarterly"&&ye[s]){const $=ye[s];if(d==="sameMonth")return $.reduce((D,oe)=>D+N(e.sameMonth[oe]||0),0);if(d==="following")return $.reduce((D,oe)=>D+N(e.following[oe]||0),0);if(d==="second")return $.reduce((D,oe)=>D+N(e.second[oe]||0),0);if(d==="cashInflow")return $.reduce((D,oe)=>D+N(e.cashInflow[oe]||0),0)}return 0}function xe(l,o,s){const{out:d}=Le(l,o);return s==="sameMonth"?N(d.totals.sameMonth||0):s==="following"?N(d.totals.following||0):s==="second"?N(d.totals.second||0):s==="cashInflow"?N(d.totals.cashInflow||0):0}function pt(l,o){const s={};return me.forEach(d=>{s[d]=N(Re(l,o+1,d))}),s}function qe(l,o){const s=$e(l,o),d=pt(l,o),e=Ke(l);return ho(s,e,me,d)}function bt(l,o,s){const d=ce.value[o]||g.value,e=qe(l,o);return s==="ex1"?N(e.ex1||0):s==="ex2"?N(e.ex2||0):d==="monthly"?N(e.ar[s]||0):d==="quarterly"&&ye[s]?ye[s].reduce((y,T)=>y+N(e.ar[T]||0),0):0}function gt(l,o){const s=qe(l,o);return N(s.total||0)}const{getPaymentValue:ee,getPaymentTotal:te,getPayablesValue:ke,getPayablesTotal:Fe}=yo({paymentBases:k,paymentPercentages:p,getDeptKey:f,advancedModes:ce,displayMode:g,monthlyLabels:me,quarterToMonths:ye,getNumber:N});function Se(l,o){const s=he();return De()?X.getValue(s,"Market Segmentation","Total Rooms Revenue Including SC",l,o):X.getValue(s,"Room Revenue Assumptions","Total Room Revenue",l,o)}function ht(l){const o=he();if(De()){const d=X.getValue(o,"Market Segmentation","Total Rooms Revenue Including SC Year",l,"ALL");return d>0?d:(j(l)||[]).reduce((e,i)=>e+N(Se(l,i)),0)}const s=X.getValue(o,"Room Revenue Assumptions","Total Room Revenue Year",l,"ALL");return s>0?s:(j(l)||[]).reduce((d,e)=>d+N(Se(l,e)),0)}function ze(l,o){const s=he();return X.getValue(s,"F&B Revenue Assumptions","Total F&B Revenue",l,o)}function mt(l){return(j(l)||[]).reduce((o,s)=>o+N(ze(l,s)),0)}function He(l,o){const s=he();return X.getValue(s,"Banquet Revenue Assumptions","Net Amount",l,o)}function vt(l){return(j(l)||[]).reduce((o,s)=>o+N(He(l,s)),0)}function Ue(l,o){const s=he(),d=X.getValue(s,"OOD Revenue Assumptions","Total Laundry Revenue",l,o),e=X.getValue(s,"OOD Revenue Assumptions","Total Health Club Rev Including SC",l,o);return N(d)+N(e)}function yt(l){return(j(l)||[]).reduce((o,s)=>o+N(Ue(l,s)),0)}function Re(l,o,s){const d=O(l);return d==="rooms"?Se(o,s):d==="fnb"?ze(o,s):d==="other operating departments"||d==="banquet"||d==="banquets"?He(o,s):d==="ood"||d==="other operating departments"?Ue(o,s):0}function Qe(l,o){const s=O(l);return s==="rooms"?ht(o):s==="fnb"?mt(o):s==="other operating departments"||s==="banquet"||s==="banquets"?vt(o):s==="ood"||s==="other operating departments"?yt(o):0}Ce(C,()=>{C.value.forEach(l=>{ce.value[l]||je.setAdvancedMode(l,g.value)})}),Ce(fe,(l,o)=>ie(this,null,function*(){if(l&&l!==o)try{w.value={},I.value=[],M.value=[],yield Ze(),yield We(),B.value=[],v.value=!0,le.success(`Switched to project: ${l.project_name}`)}catch(s){console.error("Error loading project data:",s),le.error("Failed to load project data. Please try again.")}})),Ce(E,l=>{l&&(h.value=Te({},ce.value))}),Ce(v,l=>{l?window.removeEventListener("beforeunload",Me):window.addEventListener("beforeunload",Me)}),Et(()=>ie(this,null,function*(){try{yield Nt(),R.value=yield lo(),w.value={},I.value=[],M.value=[],v.value=!0,fe.value&&(yield Ze(),yield We()),localStorage.getItem("showRefreshSuccess")==="true"&&(localStorage.removeItem("showRefreshSuccess"),le.success("Page refreshed successfully"))}catch(l){console.error("Error loading data:",l)}})),Vt(()=>{window.removeEventListener("beforeunload",Me)});function _t(){ut(),v.value=!1}const wt=()=>ie(this,null,function*(){var l;try{q.value=!0,S.value="";const o=((l=fe.value)==null?void 0:l.project_name)||null,s=Ft();if(!s.length){le.info("No changes to save");return}const d=yield wo(s,o);if(d.status==="error")throw new Error(d.message||"Save failed");le.success("Receipts & Payments saved"),v.value=!0,B.value=[]}catch(o){S.value=(o==null?void 0:o.message)||"Save failed",le.error(S.value)}finally{q.value=!1}});function Je(l){return l==="salary"?"Net Salary & Wage":l==="bonus"?"Bonus":l==="payroll"?"Payroll related":l==="expenses"?"Expenses":l}function kt(l){const o=(l||"").trim().toLowerCase();return o==="net salary & wage"||o==="net salary & wages"||o.includes("net salary")?"salary":o==="bonus"||o.includes("bonus")?"bonus":o==="payroll related"||o.includes("payroll")?"payroll":o==="expenses"||o.includes("expense")?"expenses":o}function We(){return ie(this,null,function*(){var l;try{const o=((l=fe.value)==null?void 0:l.project_name)||null,s=yield _o(o);if(!s||typeof s!="object")return;Object.keys(s).forEach(d=>{const e=s[d]||{};Object.keys(e).forEach(i=>{(e[i]||[]).forEach(T=>{const $=f(T.department||"");if(L($),T.section==="Revenue"&&T.percent_position&&T.percent!=null)z.value[$][T.percent_position]=Number(T.percent)||0;else if(T.section==="Payment"){const D=kt(T.payment_row||"");T.percent_position&&T.percent!=null&&(p.value[$][D]||(p.value[$][D]={month:0,following:0,second:0}),p.value[$][D][T.percent_position]=Number(T.percent)||0),Number(T.amount)>0&&(K($,D,d),k.value[$][D][d][i]=Number(T.amount)||0)}})})})}catch(o){console.error("Failed to load Receipts & Payments:",o),le.error("Failed to load Receipts & Payments")}})}function Ft(){var o;const l=[];for(const s of C.value)for(const d of F.value){const e=f(d),i=z.value[e]||{month:0,following:0,second:0};["month","following","second"].forEach($=>{const D=Number(i[$]||0);D>0&&l.push({year:s,month:"Jan",department:d,section:"Revenue",percent_position:$,percent:D})});const y=p.value[e]||{};Object.keys(y).forEach($=>{const D=y[$]||{month:0,following:0,second:0};["month","following","second"].forEach(oe=>{const ue=Number(D[oe]||0);ue>0&&l.push({year:s,month:"Jan",department:d,section:"Payment",payment_row:Je($),percent_position:oe,percent:ue})})});const T=((o=k.value)==null?void 0:o[e])||{};Object.keys(T).forEach($=>{var oe;const D=((oe=T[$])==null?void 0:oe[s])||{};Object.keys(D).forEach(ue=>{const et=Number(D[ue]||0);et>0&&l.push({year:s,month:ue,department:d,section:"Payment",payment_row:Je($),amount:et})})})}return l}function Ct(){ct(Te({},h.value)),E.value=!1}function Pt(){E.value=!1}function Me(l){if(!v.value)return l.preventDefault(),l.returnValue="You have unsaved changes that may be discarded if not saved. Are you sure you want to leave?",l.returnValue}function Ge(){localStorage.setItem("showRefreshSuccess","true"),window.location.reload()}function pe(l,o){var d,e;const s=((e=(d=l.currentTarget)==null?void 0:d.closest)==null?void 0:e.call(d,'td[contenteditable="true"]'))||l.currentTarget||l.target;if(s&&s.querySelector){const i=s.querySelector("span");i&&(i.textContent=o)}}function jt(l,o,s){const d=z.value[l]||{month:0,following:0,second:0},e=$=>{const D=Number($)||0;return D>1?D/100:D},i=e(o==="month"?s:d.month),y=e(o==="following"?s:d.following),T=e(o==="second"?s:d.second);return i+y+T}function Be(l,o,s){const d=parseFloat(s.target.textContent.replace("%","")),e=O(l);L(e),!isNaN(d)&&d>=0&&d<=100&&(z.value[e][o]=d,v.value=!1)}function Ye({type:l,period:o,event:s}){}function Oe({type:l,period:o,event:s}){const d=parseFloat(s.target.textContent.replace("%","")),e=O(l);if(L(e),!isNaN(d)&&d>=0&&d<=100){const i=jt(e,o,d);if(i>1){const y=Number(z.value[e][o])||0;pe(s,y.toFixed(2)+"%"),le.error(`Collection percentages cannot exceed 100%. Current total would be ${(i*100).toFixed(2)}%.`);return}z.value[e][o]=d,v.value=!1}else pe(s,(Number(z.value[e][o])||0).toFixed(2)+"%")}function Xe(l,o,s,d){const e=p.value[l]&&p.value[l][o]||{month:0,following:0,second:0},i=s==="month"?d:Number(e.month)||0,y=s==="following"?d:Number(e.following)||0,T=s==="second"?d:Number(e.second)||0;return i+y+T}function se(l,o,s,d){const e=parseFloat(d.target.textContent.replace("%","")),i=O(l);if(L(i),!isNaN(e)&&e>=0&&e<=100){const y=Xe(i,o,s,e);if(y>100){const T=Number(p.value[i][o][s])||0;pe(d,T.toFixed(2)+"%"),le.error(`Payment percentages for ${o} cannot exceed 100%. Current total would be ${y.toFixed(2)}%.`);return}p.value[i][o][s]=e,v.value=!1}}function ne({type:l,category:o,period:s,event:d}){}function re({type:l,category:o,period:s,event:d}){const e=parseFloat(d.target.textContent.replace("%","")),i=O(l);if(L(i),!isNaN(e)&&e>=0&&e<=100){const y=Xe(i,o,s,e);if(y>100){const T=Number(p.value[i][o][s])||0;pe(d,T.toFixed(2)+"%"),le.error(`Payment percentages for ${o} cannot exceed 100%. Current total would be ${y.toFixed(2)}%.`);return}p.value[i][o][s]=e,v.value=!1}else pe(d,(Number(p.value[i][o][s])||0).toFixed(2)+"%")}function Ze(){return ie(this,null,function*(){try{if(fe.value){const l=yield Dt(fe.value.name);l&&l.data&&l.data.data?(F.value=l.data.data,de(F.value)):Array.isArray(l)?(F.value=l,de(F.value)):F.value=[]}else F.value=[]}catch(l){console.error("Error loading departments:",l),F.value=[]}})}function St(){x.value=!0}function Rt(){x.value=!1}return(l,o)=>(n(),r(a,null,[t("div",ko,[W(zt,{onOpenSettings:St}),t("div",Fo,[t("div",Co,[t("div",{class:It(["bg-gradient-to-b from-white to-gray-50 border-r border-gray-200 min-h-screen flex flex-col shadow-sm transition-all duration-300",V.value?"w-14 p-2":"w-80 p-6"])},[t("button",{onClick:o[0]||(o[0]=s=>V.value=!V.value),class:"mb-4 flex items-center gap-2 px-2 py-1 bg-violet-100 hover:bg-violet-200 rounded transition-all"},[V.value?(n(),ve(c(rt),{key:1,class:"w-5 h-5 text-violet-700"})):(n(),ve(c(to),{key:0,class:"w-5 h-5 text-violet-700"})),V.value?ae("",!0):(n(),r("span",Po,"Collapse"))]),W(st,{name:"fade"},{default:Ve(()=>[Pe(t("div",null,[t("div",jo,[t("div",So,[t("div",Ro,[W(c(Ne),{class:"w-7 h-7 mx-2 text-white"})]),o[23]||(o[23]=t("h1",{class:"text-2xl font-bold text-gray-900"},"Receipts & Payments",-1))]),o[24]||(o[24]=t("p",{class:"text-sm text-gray-500"},"Manage and configure your receipts and payments data",-1))]),t("div",Mo,[t("div",Bo,[t("div",Yo,[v.value?(n(),r("div",To,o[26]||(o[26]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1),Z(" All Saved ")]))):(n(),r("div",Oo,o[25]||(o[25]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})],-1),Z(" Unsaved ")])))]),!q.value&&!v.value?(n(),r("button",{key:0,disabled:q.value,onClick:wt,class:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-violet-600 to-violet-700 text-white rounded-lg hover:from-violet-700 hover:to-violet-800 transition-all duration-200 shadow-md hover:shadow-lg transform hover:scale-105"},o[27]||(o[27]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"})],-1),Z(" Save ")]),8,Ao)):ae("",!0),q.value?(n(),r("button",Eo,o[28]||(o[28]=[t("svg",{class:"w-4 h-4 animate-spin",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1),Z(" Saving... ")]))):ae("",!0)]),S.value?(n(),r("span",No,[o[29]||(o[29]=t("svg",{class:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),Z(" "+u(S.value),1)])):ae("",!0)]),t("div",Vo,[o[31]||(o[31]=t("h3",{class:"text-sm font-semibold text-gray-700 mb-3 flex items-center gap-2"},[t("svg",{class:"w-4 h-4 text-violet-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})]),Z(" Quick Actions ")],-1)),t("div",Do,[t("button",{onClick:Ge,class:"w-full flex items-center justify-center gap-2 px-3 py-2 bg-white border border-violet-200 text-violet-700 rounded-lg hover:bg-violet-50 transition-all text-sm font-medium"},[W(c(Ht),{class:"w-4 h-4"}),o[30]||(o[30]=Z(" Refresh "))])])]),t("div",Io,[t("div",$o,[o[38]||(o[38]=t("h3",{class:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2"},[t("svg",{class:"w-5 h-5 text-violet-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})]),Z(" Year Range Filter ")],-1)),t("div",Ko,[t("div",Lo,[t("div",null,[o[33]||(o[33]=t("label",{class:"text-sm font-medium text-gray-700 mb-2 flex items-center gap-1"},[t("svg",{class:"w-3 h-3 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})]),Z(" From Year ")],-1)),Pe(t("select",{disabled:"","onUpdate:modelValue":o[1]||(o[1]=s=>nt(be)?be.value=s:null),class:"w-full px-3 py-2.5 rounded-lg border border-gray-300 focus:border-violet-500 focus:ring-2 focus:ring-violet-200 transition-all bg-gray-100 text-sm"},[o[32]||(o[32]=t("option",{value:""},"Select Year",-1)),(n(!0),r(a,null,b(R.value,s=>(n(),r("option",{key:"from-"+s,value:s},u(s),9,qo))),128))],512),[[Ee,c(be)]])]),t("div",null,[o[35]||(o[35]=t("label",{class:"text-sm font-medium text-gray-700 mb-2 flex items-center gap-1"},[t("svg",{class:"w-3 h-3 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})]),Z(" To Year ")],-1)),Pe(t("select",{disabled:"","onUpdate:modelValue":o[2]||(o[2]=s=>nt(ge)?ge.value=s:null),class:"w-full px-3 py-2.5 rounded-lg border border-gray-300 focus:border-violet-500 focus:ring-2 focus:ring-violet-200 transition-all bg-gray-100 text-sm"},[o[34]||(o[34]=t("option",{value:""},"Select Year",-1)),(n(!0),r(a,null,b(xt.value,s=>(n(),r("option",{key:"to-"+s,value:s},u(s),9,zo))),128))],512),[[Ee,c(ge)]])])]),t("div",Ho,[t("button",{onClick:_t,class:"flex-1 flex items-center justify-center gap-2 px-3 py-2.5 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-all duration-200 text-sm font-medium"},o[36]||(o[36]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1),Z(" Clear ")])),t("button",{onClick:o[3]||(o[3]=s=>E.value=!0),class:"flex-1 flex items-center justify-center gap-2 px-3 py-2.5 bg-white border border-violet-500 text-violet-700 rounded-lg hover:bg-violet-50 transition-all duration-200 text-sm font-medium"},o[37]||(o[37]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})],-1),Z(" Advanced ")]))])])])])],512),[[$t,!V.value]])]),_:1})],2),t("div",Uo,[w.value.status==="no_project_selected"?(n(),r("div",Qo,[W(Zt)])):w.value.status==="error"?(n(),r("div",Jo,[W(Xt,{message:w.value.message,onRetry:Ge},null,8,["message"])])):C.value.length?(n(),r(a,{key:2},[t("div",Wo,[t("div",Go,[t("div",Xo,[W(c(oo),{class:"w-3 h-3 text-white"})]),o[39]||(o[39]=t("h2",{class:"text-lg font-bold text-gray-800"},"Receipts & Payments Overview",-1))])]),t("div",Zo,[t("div",es,[t("div",ts,[t("table",os,[t("thead",ss,[t("tr",null,[o[40]||(o[40]=t("th",{rowspan:"2",class:"px-3 py-2 text-left align-middle border-r border-violet-400 font-semibold text-sm"},[t("div",{class:"flex items-center gap-1"}," Collections ")],-1)),o[41]||(o[41]=t("th",{rowspan:"2",class:"px-3 py-2 text-left align-middle border-r border-violet-400 font-semibold text-sm"},[t("div",{class:"flex items-center gap-1"}," Collection % ")],-1)),(n(!0),r(a,null,b(C.value,s=>(n(),r("th",{key:"header-"+s,colspan:c(A)(s)?1:j(s).length+1,class:"px-2 py-2 text-center border-x-2 border-white cursor-pointer select-none hover:bg-violet-700 transition-all duration-200 group text-sm",onClick:d=>c(no)(s),title:"Click to collapse/expand"},[t("div",rs,[t("span",ls,u(s),1),c(A)(s)?(n(),ve(c(rt),{key:1,class:"w-3 h-3 transition-transform group-hover:scale-110"})):(n(),ve(c(Ut),{key:0,class:"w-3 h-3 transition-transform group-hover:scale-110"}))])],8,ns))),128))]),t("tr",ds,[(n(!0),r(a,null,b(C.value,s=>(n(),r(a,{key:"months-"+s},[c(A)(s)?(n(),r("th",cs,[t("div",us,[W(c(Ne),{class:"w-2 h-2"}),o[43]||(o[43]=Z(" Total "))])])):(n(),r(a,{key:0},[(n(!0),r(a,null,b(j(s),d=>(n(),r("th",{key:s+"-"+d,class:"px-2 py-1 text-center border border-violet-300 min-w-[100px] font-medium"},u(d),1))),128)),t("th",is,[t("div",as,[W(c(Ne),{class:"w-2 h-2"}),o[42]||(o[42]=Z(" Total "))])])],64))],64))),128))])]),t("tbody",fs,[(n(!0),r(a,null,b(F.value,(s,d)=>(n(),r(a,{key:"dept-"+d},[t("tr",xs,[t("td",ps,[t("div",bs,u(s),1)]),(n(!0),r(a,null,b(C.value,e=>(n(),r(a,{key:"dept-header-"+d+"-"+e},[c(A)(e)?(n(),r("td",gs)):(n(),r(a,{key:0},[(n(!0),r(a,null,b(j(e),i=>(n(),r("td",{key:"dept-header-cell-"+d+"-"+e+"-"+i,class:"px-1 py-1 text-center border border-violet-500 bg-violet-600/30 text-white/90"}))),128)),o[44]||(o[44]=t("td",{class:"px-1 py-1 text-center border border-violet-500 bg-violet-600/30"},null,-1))],64))],64))),128))]),t("tr",hs,[o[46]||(o[46]=t("td",{colspan:"2",class:"px-3 py-2 font-semibold text-violet-800 border-r border-violet-200"},[t("div",{class:"flex items-center gap-2"}," Revenue ")],-1)),(n(!0),r(a,null,b(C.value,e=>(n(),r(a,{key:"dept-revenue-subheader-"+d+"-"+e},[c(A)(e)?(n(),r("td",ms)):(n(),r(a,{key:0},[(n(!0),r(a,null,b(j(e),i=>(n(),r("td",{key:"dept-revenue-subheader-cell-"+d+"-"+e+"-"+i,class:"px-1 py-1 text-center border border-violet-200 bg-violet-100"}))),128)),o[45]||(o[45]=t("td",{class:"px-1 py-1 text-center border border-violet-200 bg-violet-100"},null,-1))],64))],64))),128))]),t("tr",vs,[t("td",ys,[t("div",_s," Total monthly "+u(s)+" Revenue ",1)]),(n(!0),r(a,null,b(C.value,e=>(n(),r(a,{key:"dept-revenue-"+d+"-"+e},[c(A)(e)?(n(),r("td",Cs,[t("span",Ps,u(m(Qe(s,e))),1)])):(n(),r(a,{key:0},[(n(!0),r(a,null,b(j(e),i=>(n(),r("td",{key:"dept-revenue-cell-"+d+"-"+e+"-"+i,class:"px-2 py-1 text-right border border-violet-200 bg-violet-50"},[t("span",ws,u(m(Re(s,e,i))),1)]))),128)),t("td",ks,[t("span",Fs,u(m(Qe(s,e))),1)])],64))],64))),128))]),t("tr",js,[t("td",Ss,[t("div",Rs," Collection- "+u(z.value[f(s)].month.toFixed(0))+"% in the month of Revenue ",1)]),t("td",{class:"px-3 py-2 font-medium border-r border-violet-200 text-violet-900 hover:bg-violet-100 focus:bg-white focus:outline-none focus:ring-1 focus:ring-violet-500 focus:border-transparent transition-all duration-200",contenteditable:"true",onKeypress:o[4]||(o[4]=e=>c(G)(e)),onInput:e=>Be(f(s),"month",e),onFocus:e=>Ye({type:f(s),period:"month",event:e}),onBlur:e=>Oe({type:f(s),period:"month",event:e})},[t("div",Bs,[t("span",Ys,u(z.value[f(s)].month.toFixed(2))+"%",1)])],40,Ms),(n(!0),r(a,null,b(C.value,e=>(n(),r(a,{key:"dept-collection-80-"+d+"-"+e},[c(A)(e)?(n(),r("td",Es,[t("span",Ns,u(m(xe(s,e,"sameMonth"))),1)])):(n(),r(a,{key:0},[(n(!0),r(a,null,b(j(e),i=>(n(),r("td",{key:"dept-collection-80-cell-"+d+"-"+e+"-"+i,class:"px-2 py-1 text-right border border-violet-200 bg-violet-50"},[t("span",Os,u(m(we(s,e,i,"sameMonth"))),1)]))),128)),t("td",Ts,[t("span",As,u(m(xe(s,e,"sameMonth"))),1)])],64))],64))),128))]),t("tr",Vs,[t("td",Ds,[t("div",Is," Collection- "+u(z.value[f(s)].following.toFixed(0))+"% in the month following Revenue ",1)]),t("td",{class:"px-3 py-2 font-medium border-r border-violet-200 text-violet-900 hover:bg-violet-100 focus:bg-white focus:outline-none focus:ring-1 focus:ring-violet-500 focus:border-transparent transition-all duration-200",contenteditable:"true",onKeypress:o[5]||(o[5]=e=>c(G)(e)),onInput:e=>Be(f(s),"following",e),onFocus:e=>Ye({type:f(s),period:"following",event:e}),onBlur:e=>Oe({type:f(s),period:"following",event:e})},[t("div",Ks,[t("span",Ls,u(z.value[f(s)].following.toFixed(2))+"%",1)])],40,$s),(n(!0),r(a,null,b(C.value,e=>(n(),r(a,{key:"dept-collection-15-"+d+"-"+e},[c(A)(e)?(n(),r("td",Us,[t("span",Qs,u(m(xe(s,e,"following"))),1)])):(n(),r(a,{key:0},[(n(!0),r(a,null,b(j(e),i=>(n(),r("td",{key:"dept-collection-15-cell-"+d+"-"+e+"-"+i,class:"px-2 py-1 text-right border border-violet-200 bg-violet-100"},[t("span",qs,u(m(we(s,e,i,"following"))),1)]))),128)),t("td",zs,[t("span",Hs,u(m(xe(s,e,"following"))),1)])],64))],64))),128))]),t("tr",Js,[t("td",Ws,[t("div",Gs," Collection- "+u(z.value[f(s)].second.toFixed(0))+"% in the Second month following Revenue ",1)]),t("td",{class:"px-3 py-2 font-medium border-r border-violet-200 text-violet-900 hover:bg-violet-100 focus:bg-white focus:outline-none focus:ring-1 focus:ring-violet-500 focus:border-transparent transition-all duration-200",contenteditable:"true",onKeypress:o[6]||(o[6]=e=>c(G)(e)),onInput:e=>Be(f(s),"second",e),onFocus:e=>Ye({type:f(s),period:"second",event:e}),onBlur:e=>Oe({type:f(s),period:"second",event:e})},[t("div",Zs,[t("span",en,u(z.value[f(s)].second.toFixed(2))+"%",1)])],40,Xs),(n(!0),r(a,null,b(C.value,e=>(n(),r(a,{key:"dept-collection-5-"+d+"-"+e},[c(A)(e)?(n(),r("td",nn,o[47]||(o[47]=[t("span",{class:"font-mono text-xs text-violet-700"},"0.00",-1)]))):(n(),r(a,{key:0},[(n(!0),r(a,null,b(j(e),i=>(n(),r("td",{key:"dept-collection-5-cell-"+d+"-"+e+"-"+i,class:"px-2 py-1 text-right border border-violet-200 bg-violet-50"},[t("span",tn,u(m(we(s,e,i,"second"))),1)]))),128)),t("td",on,[t("span",sn,u(m(xe(s,e,"second"))),1)])],64))],64))),128))]),t("tr",rn,[o[49]||(o[49]=t("td",{colspan:"2",class:"px-3 py-2 font-bold border-r border-violet-300 text-violet-900 text-right"},[t("div",{class:"flex items-center gap-1 justify-end"}," Cash Inflow ")],-1)),(n(!0),r(a,null,b(C.value,e=>(n(),r(a,{key:"dept-cash-inflow-"+d+"-"+e},[c(A)(e)?(n(),r("td",cn,o[48]||(o[48]=[t("span",{class:"font-mono text-xs"},"0.00",-1)]))):(n(),r(a,{key:0},[(n(!0),r(a,null,b(j(e),i=>(n(),r("td",{key:"dept-cash-inflow-cell-"+d+"-"+e+"-"+i,class:"px-2 py-1 text-right border border-violet-300 bg-violet-200 font-bold text-violet-900"},[t("span",ln,u(m(we(s,e,i,"cashInflow"))),1)]))),128)),t("td",dn,[t("span",an,u(m(xe(s,e,"cashInflow"))),1)])],64))],64))),128))]),t("tr",un,[t("td",fn,[t("div",xn,u(s)+" Accounts Receivables ",1)]),(n(!0),r(a,null,b(C.value,e=>(n(),r(a,{key:"dept-accounts-receivables-"+d+"-"+e},[c(A)(e)?(n(),r("td",hn,o[50]||(o[50]=[t("span",{class:"font-mono text-xs"},"0.00",-1)]))):(n(),r(a,{key:0},[(n(!0),r(a,null,b(j(e),i=>(n(),r("td",{key:"dept-accounts-receivables-cell-"+d+"-"+e+"-"+i,class:"px-2 py-1 text-right border border-violet-300 bg-violet-200 font-bold text-violet-900"},[t("span",pn,u(m(bt(s,e,i))),1)]))),128)),t("td",bn,[t("span",gn,u(m(gt(s,e))),1)])],64))],64))),128))]),t("tr",mn,[o[52]||(o[52]=t("td",{colspan:"2",class:"px-3 py-2 font-semibold text-red-800 border-r border-red-200"},[t("div",{class:"flex items-center gap-2"}," Payments ")],-1)),(n(!0),r(a,null,b(C.value,e=>(n(),r(a,{key:"dept-payments-subheader-"+d+"-"+e},[c(A)(e)?(n(),r("td",vn)):(n(),r(a,{key:0},[(n(!0),r(a,null,b(j(e),i=>(n(),r("td",{key:"dept-payments-subheader-cell-"+d+"-"+e+"-"+i,class:"px-1 py-1 text-center border border-red-200 bg-red-100"}))),128)),o[51]||(o[51]=t("td",{class:"px-1 py-1 text-center border border-red-200 bg-red-100"},null,-1))],64))],64))),128))]),t("tr",yn,[o[54]||(o[54]=t("td",{colspan:"2",class:"px-3 py-2 font-medium border-r border-red-200"},[t("div",{class:"flex items-center gap-1"}," Net Salary & Wages ")],-1)),(n(!0),r(a,null,b(C.value,e=>(n(),r(a,{key:"dept-salary-wages-"+d+"-"+e},[c(A)(e)?(n(),r("td",Cn,o[53]||(o[53]=[t("span",{class:"font-mono text-xs text-red-700"},"0.00",-1)]))):(n(),r(a,{key:0},[(n(!0),r(a,null,b(j(e),i=>(n(),r("td",{key:"dept-salary-wages-cell-"+d+"-"+e+"-"+i,class:"px-2 py-1 text-right border border-red-200 bg-red-50",contenteditable:"true",onKeypress:o[7]||(o[7]=y=>c(G)(y)),onInput:y=>J(s,"salary",e,i,y),onBlur:y=>U(s,"salary",e,i,y)},[t("span",wn,u(m(P(s,"salary",e,i))),1)],40,_n))),128)),t("td",kn,[t("span",Fn,u(m(H(s,"salary",e))),1)])],64))],64))),128))]),t("tr",Pn,[t("td",jn,[t("div",Sn," Payment- "+u(p.value[f(s)].salary.month.toFixed(0))+"% in the month of Payroll run ",1)]),t("td",{class:"px-3 py-2 font-medium border-r border-red-200 text-red-900 hover:bg-red-100 focus:bg-white focus:outline-none focus:ring-1 focus:ring-red-500 focus:border-transparent transition-all duration-200",contenteditable:"true",onKeypress:o[8]||(o[8]=e=>c(G)(e)),onInput:e=>se(f(s),"salary","month",e),onFocus:e=>ne({type:f(s),category:"salary",period:"month",event:e}),onBlur:e=>re({type:f(s),category:"salary",period:"month",event:e})},[t("div",Mn,[t("span",Bn,u((p.value[f(s)].salary.month||0).toFixed(2))+"%",1)])],40,Rn),(n(!0),r(a,null,b(C.value,e=>(n(),r(a,{key:"dept-salary-payment-80-"+d+"-"+e},[c(A)(e)?(n(),r("td",An,o[55]||(o[55]=[t("span",{class:"font-mono text-xs text-red-700"},"0.00",-1)]))):(n(),r(a,{key:0},[(n(!0),r(a,null,b(j(e),i=>(n(),r("td",{key:"dept-salary-payment-80-cell-"+d+"-"+e+"-"+i,class:"px-2 py-1 text-right border border-red-200 bg-red-50"},[t("span",Yn,u(m(c(ee)(s,"salary",e,i,"sameMonth"))),1)]))),128)),t("td",On,[t("span",Tn,u(m(c(te)(s,"salary",e,"sameMonth"))),1)])],64))],64))),128))]),t("tr",En,[t("td",Nn,[t("div",Vn," Payment- "+u(p.value[f(s)].salary.following.toFixed(0))+"% in the month of Payroll run ",1)]),t("td",{class:"px-3 py-2 font-medium border-r border-red-200 text-red-900 hover:bg-red-100 focus:bg-white focus:outline-none focus:ring-1 focus:ring-red-500 focus:border-transparent transition-all duration-200",contenteditable:"true",onKeypress:o[9]||(o[9]=e=>c(G)(e)),onInput:e=>se(f(s),"salary","following",e),onFocus:e=>ne({type:f(s),category:"salary",period:"following",event:e}),onBlur:e=>re({type:f(s),category:"salary",period:"following",event:e})},[t("div",In,[t("span",$n,u(p.value[f(s)].salary.following.toFixed(2))+"%",1)])],40,Dn),(n(!0),r(a,null,b(C.value,e=>(n(),r(a,{key:"dept-"+d+"-salary-payment-15-"+e},[c(A)(e)?(n(),r("td",zn,o[56]||(o[56]=[t("span",{class:"font-mono text-xs text-red-700"},"0.00",-1)]))):(n(),r(a,{key:0},[(n(!0),r(a,null,b(j(e),i=>(n(),r("td",{key:"dept-"+d+"-salary-payment-15-cell-"+e+"-"+i,class:"px-2 py-1 text-right border border-red-200 bg-red-50"},[t("span",Kn,u(m(c(ee)(s,"salary",e,i,"following"))),1)]))),128)),t("td",Ln,[t("span",qn,u(m(c(te)(s,"salary",e,"following"))),1)])],64))],64))),128))]),t("tr",Hn,[t("td",Un,[t("div",Qn," Payment- "+u(p.value[f(s)].salary.second.toFixed(0))+"% in the month of Payroll run ",1)]),t("td",{class:"px-3 py-2 font-medium border-r border-red-200 text-red-900 hover:bg-red-100 focus:bg-white focus:outline-none focus:ring-1 focus:ring-red-500 focus:border-transparent transition-all duration-200",contenteditable:"true",onKeypress:o[10]||(o[10]=e=>c(G)(e)),onInput:e=>se(f(s),"salary","second",e),onFocus:e=>ne({type:f(s),category:"salary",period:"second",event:e}),onBlur:e=>re({type:f(s),category:"salary",period:"second",event:e})},[t("div",Wn,[t("span",Gn,u(p.value[f(s)].salary.second.toFixed(2))+"%",1)])],40,Jn),(n(!0),r(a,null,b(C.value,e=>(n(),r(a,{key:"dept-"+d+"-salary-payment-5-"+e},[c(A)(e)?(n(),r("td",tr,o[57]||(o[57]=[t("span",{class:"font-mono text-xs text-red-700"},"0.00",-1)]))):(n(),r(a,{key:0},[(n(!0),r(a,null,b(j(e),i=>(n(),r("td",{key:"dept-"+d+"-salary-payment-5-cell-"+e+"-"+i,class:"px-2 py-1 text-right border border-red-200 bg-red-50"},[t("span",Xn,u(m(c(ee)(s,"salary",e,i,"second"))),1)]))),128)),t("td",Zn,[t("span",er,u(m(c(te)(s,"salary",e,"second"))),1)])],64))],64))),128))]),t("tr",or,[o[59]||(o[59]=t("td",{colspan:"2",class:"px-3 py-2 font-bold border-r border-red-300 text-red-900 text-right"},[t("div",{class:"flex items-center gap-1 justify-end"}," Cash Outflow ")],-1)),(n(!0),r(a,null,b(C.value,e=>(n(),r(a,{key:"dept-"+d+"-salary-cash-outflow-"+e},[c(A)(e)?(n(),r("td",lr,o[58]||(o[58]=[t("span",{class:"font-mono text-xs"},"0.00",-1)]))):(n(),r(a,{key:0},[(n(!0),r(a,null,b(j(e),i=>(n(),r("td",{key:"dept-"+d+"-salary-cash-outflow-cell-"+e+"-"+i,class:"px-2 py-1 text-right border border-red-300 bg-red-200 font-bold text-red-900"},[t("span",sr,u(m(c(ee)(s,"salary",e,i,"cashOutflow"))),1)]))),128)),t("td",nr,[t("span",rr,u(m(c(te)(s,"salary",e,"cashOutflow"))),1)])],64))],64))),128))]),t("tr",dr,[t("td",ir,[t("div",ar,u(s)+" Net Salaries & Wages Payables ",1)]),(n(!0),r(a,null,b(C.value,e=>(n(),r(a,{key:"dept-"+d+"-salary-payables-"+e},[c(A)(e)?(n(),r("td",xr,o[60]||(o[60]=[t("span",{class:"font-mono text-xs"},"0.00",-1)]))):(n(),r(a,{key:0},[(n(!0),r(a,null,b(j(e),i=>(n(),r("td",{key:"dept-"+d+"-salary-payables-cell-"+e+"-"+i,class:"px-2 py-1 text-right border border-red-300 bg-red-200 font-bold text-red-900"},[t("span",cr,u(m(c(ke)(s,"salary",e,i))),1)]))),128)),t("td",ur,[t("span",fr,u(m(c(Fe)(s,"salary",e))),1)])],64))],64))),128))]),t("tr",pr,[o[62]||(o[62]=t("td",{colspan:"2",class:"px-3 py-2 font-medium border-r border-red-200"},[t("div",{class:"flex items-center gap-1"}," Bonus ")],-1)),(n(!0),r(a,null,b(C.value,e=>(n(),r(a,{key:"dept-"+d+"-bonus-"+e},[c(A)(e)?(n(),r("td",vr,o[61]||(o[61]=[t("span",{class:"font-mono text-xs text-red-700"},"0.00",-1)]))):(n(),r(a,{key:0},[(n(!0),r(a,null,b(j(e),i=>(n(),r("td",{key:"dept-"+d+"-bonus-cell-"+e+"-"+i,class:"px-2 py-1 text-right border border-red-200 bg-red-50",contenteditable:"true",onKeypress:o[11]||(o[11]=y=>c(G)(y)),onInput:y=>J(s,"bonus",e,i,y),onBlur:y=>U(s,"bonus",e,i,y)},[t("span",gr,u(m(P(s,"bonus",e,i))),1)],40,br))),128)),t("td",hr,[t("span",mr,u(m(H(s,"bonus",e))),1)])],64))],64))),128))]),t("tr",yr,[t("td",_r,[t("div",wr," Payment- "+u(p.value[f(s)].bonus.month.toFixed(0))+"% in the month of Payroll run ",1)]),t("td",{class:"px-3 py-2 font-medium border-r border-red-200 text-red-900 hover:bg-red-100 focus:bg-white focus:outline-none focus:ring-1 focus:ring-red-500 focus:border-transparent transition-all duration-200",contenteditable:"true",onKeypress:o[12]||(o[12]=e=>c(G)(e)),onInput:e=>se(f(s),"bonus","month",e),onFocus:e=>ne({type:f(s),category:"bonus",period:"month",event:e}),onBlur:e=>re({type:f(s),category:"bonus",period:"month",event:e})},[t("div",Fr,[t("span",Cr,u(p.value[f(s)].bonus.month.toFixed(2))+"%",1)])],40,kr),(n(!0),r(a,null,b(C.value,e=>(n(),r(a,{key:"dept-"+d+"-bonus-payment-80-"+e},[c(A)(e)?(n(),r("td",Rr,o[63]||(o[63]=[t("span",{class:"font-mono text-xs text-red-700"},"0.00",-1)]))):(n(),r(a,{key:0},[(n(!0),r(a,null,b(j(e),i=>(n(),r("td",{key:"dept-"+d+"-bonus-payment-80-cell-"+e+"-"+i,class:"px-2 py-1 text-right border border-red-200 bg-red-50"},[t("span",Pr,u(m(c(ee)(s,"bonus",e,i,"sameMonth"))),1)]))),128)),t("td",jr,[t("span",Sr,u(m(c(te)(s,"bonus",e,"sameMonth"))),1)])],64))],64))),128))]),t("tr",Mr,[t("td",Br,[t("div",Yr," Payment- "+u(p.value[f(s)].bonus.following.toFixed(0))+"% in the month of Payroll run ",1)]),t("td",{class:"px-3 py-2 font-medium border-r border-red-200 text-red-900 hover:bg-red-100 focus:bg-white focus:outline-none focus:ring-1 focus:ring-red-500 focus:border-transparent transition-all duration-200",contenteditable:"true",onKeypress:o[13]||(o[13]=e=>c(G)(e)),onInput:e=>se(f(s),"bonus","following",e),onFocus:e=>ne({type:f(s),category:"bonus",period:"following",event:e}),onBlur:e=>re({type:f(s),category:"bonus",period:"following",event:e})},[t("div",Tr,[t("span",Ar,u(p.value[f(s)].bonus.following.toFixed(2))+"%",1)])],40,Or),(n(!0),r(a,null,b(C.value,e=>(n(),r(a,{key:"dept-"+d+"-bonus-payment-15-"+e},[c(A)(e)?(n(),r("td",Dr,o[64]||(o[64]=[t("span",{class:"font-mono text-xs text-red-700"},"0.00",-1)]))):(n(),r(a,{key:0},[(n(!0),r(a,null,b(j(e),i=>(n(),r("td",{key:"dept-"+d+"-bonus-payment-15-cell-"+e+"-"+i,class:"px-2 py-1 text-right border border-red-200 bg-red-50"},[t("span",Er,u(m(c(ee)(s,"bonus",e,i,"following"))),1)]))),128)),t("td",Nr,[t("span",Vr,u(m(c(te)(s,"bonus",e,"following"))),1)])],64))],64))),128))]),t("tr",Ir,[t("td",$r,[t("div",Kr," Payment- "+u(p.value[f(s)].bonus.second.toFixed(0))+"% in the month of Payroll run ",1)]),t("td",{class:"px-3 py-2 font-medium border-r border-red-200 text-red-900 hover:bg-red-100 focus:bg-white focus:outline-none focus:ring-1 focus:ring-red-500 focus:border-transparent transition-all duration-200",contenteditable:"true",onKeypress:o[14]||(o[14]=e=>c(G)(e)),onInput:e=>se(f(s),"bonus","second",e),onFocus:e=>ne({type:f(s),category:"bonus",period:"second",event:e}),onBlur:e=>re({type:f(s),category:"bonus",period:"second",event:e})},[t("div",qr,[t("span",zr,u(p.value[f(s)].bonus.second.toFixed(2))+"%",1)])],40,Lr),(n(!0),r(a,null,b(C.value,e=>(n(),r(a,{key:"dept-"+d+"-bonus-payment-5-"+e},[c(A)(e)?(n(),r("td",Jr,o[65]||(o[65]=[t("span",{class:"font-mono text-xs text-red-700"},"0.00",-1)]))):(n(),r(a,{key:0},[(n(!0),r(a,null,b(j(e),i=>(n(),r("td",{key:"dept-"+d+"-bonus-payment-5-cell-"+e+"-"+i,class:"px-2 py-1 text-right border border-red-200 bg-red-50"},[t("span",Hr,u(m(c(ee)(s,"bonus",e,i,"second"))),1)]))),128)),t("td",Ur,[t("span",Qr,u(m(c(te)(s,"bonus",e,"second"))),1)])],64))],64))),128))]),t("tr",Wr,[o[67]||(o[67]=t("td",{colspan:"2",class:"px-3 py-2 font-bold border-r border-red-300 text-red-900 text-right"},[t("div",{class:"flex items-center gap-1 justify-end"}," Cash Outflow ")],-1)),(n(!0),r(a,null,b(C.value,e=>(n(),r(a,{key:"rooms-bonus-cash-outflow-"+e},[c(A)(e)?(n(),r("td",el,o[66]||(o[66]=[t("span",{class:"font-mono text-xs"},"0.00",-1)]))):(n(),r(a,{key:0},[(n(!0),r(a,null,b(j(e),i=>(n(),r("td",{key:"rooms-bonus-cash-outflow-cell-"+e+"-"+i,class:"px-2 py-1 text-right border border-red-300 bg-red-200 font-bold text-red-900"},[t("span",Gr,u(m(c(ee)(s,"bonus",e,i,"cashOutflow"))),1)]))),128)),t("td",Xr,[t("span",Zr,u(m(c(te)(s,"bonus",e,"cashOutflow"))),1)])],64))],64))),128))]),t("tr",tl,[t("td",ol,[t("div",sl,u(s)+" Bonus Payables ",1)]),(n(!0),r(a,null,b(C.value,e=>(n(),r(a,{key:"rooms-bonus-payables-"+e},[c(A)(e)?(n(),r("td",dl,o[68]||(o[68]=[t("span",{class:"font-mono text-xs"},"0.00",-1)]))):(n(),r(a,{key:0},[(n(!0),r(a,null,b(j(e),i=>(n(),r("td",{key:"rooms-bonus-payables-cell-"+e+"-"+i,class:"px-2 py-1 text-right border border-red-300 bg-red-200 font-bold text-red-900"},[t("span",nl,u(m(c(ke)(s,"bonus",e,i))),1)]))),128)),t("td",rl,[t("span",ll,u(m(c(Fe)(s,"bonus",e))),1)])],64))],64))),128))]),t("tr",il,[o[70]||(o[70]=t("td",{colspan:"2",class:"px-3 py-2 font-medium border-r border-red-200"},[t("div",{class:"flex items-center gap-1"}," Payroll Related ")],-1)),(n(!0),r(a,null,b(C.value,e=>(n(),r(a,{key:"rooms-payroll-related-"+e},[c(A)(e)?(n(),r("td",xl,o[69]||(o[69]=[t("span",{class:"font-mono text-xs text-red-700"},"0.00",-1)]))):(n(),r(a,{key:0},[(n(!0),r(a,null,b(j(e),i=>(n(),r("td",{key:"rooms-payroll-related-cell-"+e+"-"+i,class:"px-2 py-1 text-right border border-red-200 bg-red-50",contenteditable:"true",onKeypress:o[15]||(o[15]=y=>c(G)(y)),onInput:y=>J(s,"payroll",e,i,y),onBlur:y=>U(s,"payroll",e,i,y)},[t("span",cl,u(m(P(s,"payroll",e,i))),1)],40,al))),128)),t("td",ul,[t("span",fl,u(m(H(s,"payroll",e))),1)])],64))],64))),128))]),t("tr",pl,[t("td",bl,[t("div",gl," Payment- "+u(p.value[f(s)].payroll.month.toFixed(0))+"% in the month of Payroll run ",1)]),t("td",{class:"px-3 py-2 font-medium border-r border-red-200 text-red-900 hover:bg-red-100 focus:bg-white focus:outline-none focus:ring-1 focus:ring-red-500 focus:border-transparent transition-all duration-200",contenteditable:"true",onKeypress:o[16]||(o[16]=e=>c(G)(e)),onInput:e=>se(f(s),"payroll","month",e),onFocus:e=>ne({type:f(s),category:"payroll",period:"month",event:e}),onBlur:e=>re({type:f(s),category:"payroll",period:"month",event:e})},[t("div",ml,[t("span",vl,u(p.value[f(s)].payroll.month.toFixed(2))+"%",1)])],40,hl),(n(!0),r(a,null,b(C.value,e=>(n(),r(a,{key:"rooms-payroll-payment-80-"+e},[c(A)(e)?(n(),r("td",kl,o[71]||(o[71]=[t("span",{class:"font-mono text-xs text-red-700"},"0.00",-1)]))):(n(),r(a,{key:0},[(n(!0),r(a,null,b(j(e),i=>(n(),r("td",{key:"rooms-payroll-payment-80-cell-"+e+"-"+i,class:"px-2 py-1 text-right border border-red-200 bg-red-50"},[t("span",yl,u(m(c(ee)(s,"payroll",e,i,"sameMonth"))),1)]))),128)),t("td",_l,[t("span",wl,u(m(c(te)(s,"payroll",e,"sameMonth"))),1)])],64))],64))),128))]),t("tr",Fl,[t("td",Cl,[t("div",Pl," Payment- "+u(p.value[f(s)].payroll.following.toFixed(0))+"% in the month of Payroll run ",1)]),t("td",{class:"px-3 py-2 font-medium border-r border-red-200 text-red-900 hover:bg-red-100 focus:bg-white focus:outline-none focus:ring-1 focus:ring-red-500 focus:border-transparent transition-all duration-200",contenteditable:"true",onKeypress:o[17]||(o[17]=e=>c(G)(e)),onInput:e=>se(f(s),"payroll","following",e),onFocus:e=>ne({type:f(s),category:"payroll",period:"following",event:e}),onBlur:e=>re({type:f(s),category:"payroll",period:"following",event:e})},[t("div",Sl,[t("span",Rl,u(p.value[f(s)].payroll.following.toFixed(2))+"%",1)])],40,jl),(n(!0),r(a,null,b(C.value,e=>(n(),r(a,{key:"rooms-payroll-payment-15-"+e},[c(A)(e)?(n(),r("td",Ol,o[72]||(o[72]=[t("span",{class:"font-mono text-xs text-red-700"},"0.00",-1)]))):(n(),r(a,{key:0},[(n(!0),r(a,null,b(j(e),i=>(n(),r("td",{key:"rooms-payroll-payment-15-cell-"+e+"-"+i,class:"px-2 py-1 text-right border border-red-200 bg-red-50"},[t("span",Ml,u(m(c(ee)(s,"payroll",e,i,"following"))),1)]))),128)),t("td",Bl,[t("span",Yl,u(m(c(te)(s,"payroll",e,"following"))),1)])],64))],64))),128))]),t("tr",Tl,[t("td",Al,[t("div",El," Payment- "+u(p.value[f(s)].payroll.second.toFixed(0))+"% in the month of Payroll run ",1)]),t("td",{class:"px-3 py-2 font-medium border-r border-red-200 text-red-900 hover:bg-red-100 focus:bg-white focus:outline-none focus:ring-1 focus:ring-red-500 focus:border-transparent transition-all duration-200",contenteditable:"true",onKeypress:o[18]||(o[18]=e=>c(G)(e)),onInput:e=>se(f(s),"payroll","second",e),onFocus:e=>ne({type:f(s),category:"payroll",period:"second",event:e}),onBlur:e=>re({type:f(s),category:"payroll",period:"second",event:e})},[t("div",Vl,[t("span",Dl,u(p.value[f(s)].payroll.second.toFixed(2))+"%",1)])],40,Nl),(n(!0),r(a,null,b(C.value,e=>(n(),r(a,{key:"rooms-payroll-payment-5-"+e},[c(A)(e)?(n(),r("td",Ll,o[73]||(o[73]=[t("span",{class:"font-mono text-xs text-red-700"},"0.00",-1)]))):(n(),r(a,{key:0},[(n(!0),r(a,null,b(j(e),i=>(n(),r("td",{key:"rooms-payroll-payment-5-cell-"+e+"-"+i,class:"px-2 py-1 text-right border border-red-200 bg-red-50"},[t("span",Il,u(m(c(ee)(s,"payroll",e,i,"second"))),1)]))),128)),t("td",$l,[t("span",Kl,u(m(c(te)(s,"payroll",e,"second"))),1)])],64))],64))),128))]),t("tr",ql,[o[75]||(o[75]=t("td",{colspan:"2",class:"px-3 py-2 font-bold border-r border-red-300 text-red-900 text-right"},[t("div",{class:"flex items-center gap-1 justify-end"}," Cash Outflow ")],-1)),(n(!0),r(a,null,b(C.value,e=>(n(),r(a,{key:"rooms-payroll-cash-outflow-"+e},[c(A)(e)?(n(),r("td",Ql,o[74]||(o[74]=[t("span",{class:"font-mono text-xs"},"0.00",-1)]))):(n(),r(a,{key:0},[(n(!0),r(a,null,b(j(e),i=>(n(),r("td",{key:"rooms-payroll-cash-outflow-cell-"+e+"-"+i,class:"px-2 py-1 text-right border border-red-300 bg-red-200 font-bold text-red-900"},[t("span",zl,u(m(c(ee)(s,"payroll",e,i,"cashOutflow"))),1)]))),128)),t("td",Hl,[t("span",Ul,u(m(c(te)(s,"payroll",e,"cashOutflow"))),1)])],64))],64))),128))]),t("tr",Jl,[t("td",Wl,[t("div",Gl,u(s)+" Payroll Related Payables ",1)]),(n(!0),r(a,null,b(C.value,e=>(n(),r(a,{key:"rooms-payroll-payables-"+e},[c(A)(e)?(n(),r("td",td,o[76]||(o[76]=[t("span",{class:"font-mono text-xs"},"0.00",-1)]))):(n(),r(a,{key:0},[(n(!0),r(a,null,b(j(e),i=>(n(),r("td",{key:"rooms-payroll-payables-cell-"+e+"-"+i,class:"px-2 py-1 text-right border border-red-300 bg-red-200 font-bold text-red-900"},[t("span",Xl,u(m(c(ke)(s,"payroll",e,i))),1)]))),128)),t("td",Zl,[t("span",ed,u(m(c(Fe)(s,"payroll",e))),1)])],64))],64))),128))]),t("tr",od,[o[78]||(o[78]=t("td",{colspan:"2",class:"px-3 py-2 font-medium border-r border-red-200"},[t("div",{class:"flex items-center gap-1"}," Expenses ")],-1)),(n(!0),r(a,null,b(C.value,e=>(n(),r(a,{key:"rooms-expenses-"+e},[c(A)(e)?(n(),r("td",dd,o[77]||(o[77]=[t("span",{class:"font-mono text-xs text-red-700"},"0.00",-1)]))):(n(),r(a,{key:0},[(n(!0),r(a,null,b(j(e),i=>(n(),r("td",{key:"rooms-expenses-cell-"+e+"-"+i,class:"px-2 py-1 text-right border border-red-200 bg-red-50",contenteditable:"true",onKeypress:o[19]||(o[19]=y=>c(G)(y)),onInput:y=>J(s,"expenses",e,i,y),onBlur:y=>U(s,"expenses",e,i,y)},[t("span",nd,u(m(P(s,"expenses",e,i))),1)],40,sd))),128)),t("td",rd,[t("span",ld,u(m(H(s,"expenses",e))),1)])],64))],64))),128))]),t("tr",id,[t("td",ad,[t("div",cd," Payment- "+u(p.value[f(s)].expenses.month.toFixed(0))+"% in the month of Payroll run ",1)]),t("td",{class:"px-3 py-2 font-medium border-r border-red-200 text-red-900 hover:bg-red-100 focus:bg-white focus:outline-none focus:ring-1 focus:ring-red-500 focus:border-transparent transition-all duration-200",contenteditable:"true",onKeypress:o[20]||(o[20]=e=>c(G)(e)),onInput:e=>se(f(s),"expenses","month",e),onFocus:e=>ne({type:f(s),category:"expenses",period:"month",event:e}),onBlur:e=>re({type:f(s),category:"expenses",period:"month",event:e})},[t("div",fd,[t("span",xd,u(p.value[f(s)].expenses.month.toFixed(2))+"%",1)])],40,ud),(n(!0),r(a,null,b(C.value,e=>(n(),r(a,{key:"rooms-expenses-payment-80-"+e},[c(A)(e)?(n(),r("td",hd,o[79]||(o[79]=[t("span",{class:"font-mono text-xs text-red-700"},"0.00",-1)]))):(n(),r(a,{key:0},[(n(!0),r(a,null,b(j(e),i=>(n(),r("td",{key:"rooms-expenses-payment-80-cell-"+e+"-"+i,class:"px-2 py-1 text-right border border-red-200 bg-red-50"},[t("span",pd,u(m(c(ee)(s,"expenses",e,i,"sameMonth"))),1)]))),128)),t("td",bd,[t("span",gd,u(m(c(te)(s,"expenses",e,"sameMonth"))),1)])],64))],64))),128))]),t("tr",md,[t("td",vd,[t("div",yd," Payment- "+u(p.value[f(s)].expenses.following.toFixed(0))+"% in the month of Payroll run ",1)]),t("td",{class:"px-3 py-2 font-medium border-r border-red-200 text-red-900 hover:bg-red-100 focus:bg-white focus:outline-none focus:ring-1 focus:ring-red-500 focus:border-transparent transition-all duration-200",contenteditable:"true",onKeypress:o[21]||(o[21]=e=>c(G)(e)),onInput:e=>se(f(s),"expenses","following",e),onFocus:e=>ne({type:f(s),category:"expenses",period:"following",event:e}),onBlur:e=>re({type:f(s),category:"expenses",period:"following",event:e})},[t("div",wd,[t("span",kd,u(p.value[f(s)].expenses.following.toFixed(2))+"%",1)])],40,_d),(n(!0),r(a,null,b(C.value,e=>(n(),r(a,{key:"rooms-expenses-payment-15-"+e},[c(A)(e)?(n(),r("td",jd,o[80]||(o[80]=[t("span",{class:"font-mono text-xs text-red-700"},"0.00",-1)]))):(n(),r(a,{key:0},[(n(!0),r(a,null,b(j(e),i=>(n(),r("td",{key:"rooms-expenses-payment-15-cell-"+e+"-"+i,class:"px-2 py-1 text-right border border-red-200 bg-red-50"},[t("span",Fd,u(m(c(ee)(s,"expenses",e,i,"following"))),1)]))),128)),t("td",Cd,[t("span",Pd,u(m(c(te)(s,"expenses",e,"following"))),1)])],64))],64))),128))]),t("tr",Sd,[t("td",Rd,[t("div",Md," Payment- "+u(p.value[f(s)].expenses.second.toFixed(0))+"% in the month of Payroll run ",1)]),t("td",{class:"px-3 py-2 font-medium border-r border-red-200 text-red-900 hover:bg-red-100 focus:bg-white focus:outline-none focus:ring-1 focus:ring-red-500 focus:border-transparent transition-all duration-200",contenteditable:"true",onKeypress:o[22]||(o[22]=e=>c(G)(e)),onInput:e=>se(f(s),"expenses","second",e),onFocus:e=>ne({type:f(s),category:"expenses",period:"second",event:e}),onBlur:e=>re({type:f(s),category:"expenses",period:"second",event:e})},[t("div",Yd,[t("span",Od,u(p.value[f(s)].expenses.second.toFixed(2))+"%",1)])],40,Bd),(n(!0),r(a,null,b(C.value,e=>(n(),r(a,{key:"rooms-expenses-payment-5-"+e},[c(A)(e)?(n(),r("td",Nd,o[81]||(o[81]=[t("span",{class:"font-mono text-xs text-red-700"},"0.00",-1)]))):(n(),r(a,{key:0},[(n(!0),r(a,null,b(j(e),i=>(n(),r("td",{key:"rooms-expenses-payment-5-cell-"+e+"-"+i,class:"px-2 py-1 text-right border border-red-200 bg-red-50"},[t("span",Td,u(m(c(ee)(s,"expenses",e,i,"second"))),1)]))),128)),t("td",Ad,[t("span",Ed,u(m(c(te)(s,"expenses",e,"second"))),1)])],64))],64))),128))]),t("tr",Vd,[o[83]||(o[83]=t("td",{colspan:"2",class:"px-3 py-2 font-bold border-r border-red-300 text-red-900 text-right"},[t("div",{class:"flex items-center gap-1 justify-end"}," Cash Outflow ")],-1)),(n(!0),r(a,null,b(C.value,e=>(n(),r(a,{key:"rooms-expenses-cash-outflow-"+e},[c(A)(e)?(n(),r("td",Kd,o[82]||(o[82]=[t("span",{class:"font-mono text-xs"},"0.00",-1)]))):(n(),r(a,{key:0},[(n(!0),r(a,null,b(j(e),i=>(n(),r("td",{key:"rooms-expenses-cash-outflow-cell-"+e+"-"+i,class:"px-2 py-1 text-right border border-red-300 bg-red-200 font-bold text-red-900"},[t("span",Dd,u(m(c(ee)(s,"expenses",e,i,"cashOutflow"))),1)]))),128)),t("td",Id,[t("span",$d,u(m(c(te)(s,"expenses",e,"cashOutflow"))),1)])],64))],64))),128))]),t("tr",Ld,[t("td",qd,[t("div",zd,u(s)+" Expenses Payables ",1)]),(n(!0),r(a,null,b(C.value,e=>(n(),r(a,{key:"rooms-expenses-payables-"+e},[c(A)(e)?(n(),r("td",Jd,o[84]||(o[84]=[t("span",{class:"font-mono text-xs"},"0.00",-1)]))):(n(),r(a,{key:0},[(n(!0),r(a,null,b(j(e),i=>(n(),r("td",{key:"rooms-expenses-payables-cell-"+e+"-"+i,class:"px-2 py-1 text-right border border-red-300 bg-red-200 font-bold text-red-900"},[t("span",Hd,u(m(c(ke)(s,"expenses",e,i))),1)]))),128)),t("td",Ud,[t("span",Qd,u(m(c(Fe)(s,"expenses",e))),1)])],64))],64))),128))])],64))),128))])])])])])],64)):(n(),ve(bo,{key:3,"from-year":c(be),"to-year":c(ge)},null,8,["from-year","to-year"]))])])])]),W(st,{name:"fade"},{default:Ve(()=>[E.value?(n(),r("div",Wd,[t("div",Gd,[t("div",Xd,[W(c(Qt),{class:"w-4 h-4 text-white"}),o[85]||(o[85]=t("h2",{class:"text-xl font-bold text-white"},"Advanced Display Mode Settings",-1))]),t("div",Zd,[C.value.length?ae("",!0):(n(),r("div",e0,[W(c(Jt),{class:"w-4 h-4 text-red-600"}),o[86]||(o[86]=t("span",{class:"text-yellow-800 font-medium"},'Please select both "From Year" and "To Year" to configure advanced settings.',-1))])),C.value.length?(n(),r("div",t0,[(n(!0),r(a,null,b(C.value,s=>(n(),r("div",{key:"adv-"+s,class:"flex justify-between items-center border-b pb-2"},[t("span",o0,[W(c(it),{class:"w-3 h-3 text-gray-500"}),Z(" "+u(s),1)]),Pe(t("select",{"onUpdate:modelValue":d=>h.value[s]=d,class:"px-6 py-2 border rounded-md focus:ring-violet-500"},o[87]||(o[87]=[t("option",{value:"monthly"},"Monthly",-1),t("option",{value:"quarterly"},"Quarterly",-1)]),8,s0),[[Ee,h.value[s]]])]))),128))])):ae("",!0)]),t("div",n0,[t("button",{onClick:Pt,class:"px-4 py-2 rounded-md bg-gray-100 hover:bg-gray-200 text-gray-700 flex items-center gap-2"},[W(c(Wt),{class:"w-4 h-4"}),o[88]||(o[88]=Z(" Cancel "))]),C.value.length?(n(),r("button",{key:0,onClick:Ct,class:"px-4 py-2 rounded-md bg-violet-600 text-white hover:bg-violet-700 flex items-center gap-2"},[W(c(Gt),{class:"w-4 h-4 text-green-600"}),o[89]||(o[89]=Z(" Apply "))])):ae("",!0)])])])):ae("",!0)]),_:1}),W(qt,{"is-visible":x.value,onClose:Rt},null,8,["is-visible"])],64))}},_0=Tt(r0,[["__scopeId","data-v-96e0a5c8"]]);export{_0 as default};
