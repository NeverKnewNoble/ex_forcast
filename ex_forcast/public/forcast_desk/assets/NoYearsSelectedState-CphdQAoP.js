import{_ as M,r as x,c as L,o as R,b as m,e as g,u as y,t as S,w as T}from"./index-BwGj6WF3.js";import{C as b}from"./circle-alert-CNXa3P42.js";import{A as w}from"./SettingsModal-CjiElTAA.js";import{C as Y}from"./useCalculationCache-CShkTzc7.js";function O(e,a,n,o){let t=0;return!n||!Array.isArray(n)?(console.warn("calculatePayrollTotal: months parameter is undefined or not an array"),0):(n.forEach(c=>{const l=o(e,"salary",a,c);t+=l}),t)}function G(e,a,n){return e.filter(t=>t.category===a&&t.departmentLocation===n&&t.position==="Manager").reduce((t,c)=>t+c.count,0)}function J(e,a,n){return e.filter(t=>t.category===a&&t.departmentLocation===n&&t.position==="Manager").reduce((t,c)=>t+c.count,0)}function K(e,a,n,o,t,c){return e.filter(r=>r.category===a&&r.departmentLocation===n&&r.position==="Manager").reduce((r,i)=>{const s=c(i.id,"count",o,t);return r+s},0)}function Q(e,a,n,o,t,c){return e.filter(r=>r.category===a&&r.departmentLocation===n&&r.position==="Manager").reduce((r,i)=>{const s=c(i.id,"salary",o,t);return r+s},0)}function W(e,a,n,o,t){return e.filter(l=>l.category===a&&l.departmentLocation===n&&l.position==="Manager").reduce((l,r)=>l+t(r.id,o),0)}function X(e,a,n){return e.filter(t=>t.category===a&&t.departmentLocation===n&&t.position==="Non-manager").reduce((t,c)=>t+c.count,0)}function Z(e,a,n){return e.filter(t=>t.category===a&&t.departmentLocation===n&&t.position==="Non-manager").reduce((t,c)=>t+c.count,0)}function $(e,a,n,o,t,c){return e.filter(r=>r.category===a&&r.departmentLocation===n&&r.position==="Non-manager").reduce((r,i)=>{const s=c(i.id,"count",o,t);return r+s},0)}function I(e,a,n,o,t,c){return e.filter(r=>r.category===a&&r.departmentLocation===n&&r.position==="Non-manager").reduce((r,i)=>{const s=c(i.id,"salary",o,t);return r+s},0)}function tt(e,a,n,o,t){return e.filter(l=>l.category===a&&l.departmentLocation===n&&l.position==="Non-manager").reduce((l,r)=>l+t(r.id,o),0)}function et(e,a,n){return e.filter(t=>t.category===a&&t.departmentLocation===n).reduce((t,c)=>t+c.count,0)}function nt(e,a,n){return e.filter(t=>t.category===a&&t.departmentLocation===n).reduce((t,c)=>t+c.count,0)}function at(e,a,n,o,t,c){return e.filter(r=>r.category===a&&r.departmentLocation===n).reduce((r,i)=>{const s=c(i.id,"count",o,t);return r+s},0)}function ot(e,a,n,o,t,c){return e.filter(r=>r.category===a&&r.departmentLocation===n).reduce((r,i)=>{const s=c(i.id,"salary",o,t);return r+s},0)}function rt(e,a,n,o,t){return e.filter(l=>l.category===a&&l.departmentLocation===n).reduce((l,r)=>l+t(r.id,o),0)}function C(e){return!e||e.length===0?0:[...new Set(e.map(o=>o.departmentLocation))].reduce((o,t)=>{const l=e.filter(r=>r.departmentLocation===t).reduce((r,i)=>r+(i.count||0),0);return o+l},0)}function v(e,a,n,o){return[...new Set(e.map(c=>c.departmentLocation))].reduce((c,l)=>{const r=e.filter(i=>i.departmentLocation===l);return c+r.reduce((i,s)=>{const d=o(s.id,"count",a,n);return i+d},0)},0)}function N(e,a,n,o){return[...new Set(e.map(c=>c.departmentLocation))].reduce((c,l)=>{const r=e.filter(i=>i.departmentLocation===l);return c+r.reduce((i,s)=>{const d=o(s.id,"salary",a,n);return i+d},0)},0)}function _(e,a,n){return[...new Set(e.map(t=>t.departmentLocation))].reduce((t,c)=>{const l=e.filter(r=>r.departmentLocation===c);return t+l.reduce((r,i)=>r+n(i.id,a),0)},0)}function ct(e,a=100){const n=C(e);return a>0?(n/a).toFixed(2):0}function lt(e,a,n,o,t=100){const c=v(e,a,n,o);return t>0?(c/t).toFixed(2):0}function it(e,a,n,o,t=100){const c=N(e,a,n,o);return t>0?c/t:0}function st(e,a,n,o=100){const t=_(e,a,n);return o>0?t/o:0}function ut(e){const a=new Set;return e.forEach(n=>{a.add(n.category)}),Array.from(a)}function mt(e,a){const n=new Set;return e.filter(o=>o.category===a).forEach(o=>{n.add(o.departmentLocation)}),Array.from(n)}function dt(e,a,n){return e.filter(t=>t.category===a&&t.departmentLocation===n).sort((t,c)=>t.position==="Manager"&&c.position!=="Manager"?-1:c.position==="Manager"&&t.position!=="Manager"?1:0)}function F(e,a,n,o,t,c){var r,i,s,d,p,h;const l=e.find(u=>u.id===n);if(!l)return 0;if(o==="count"){if(c){const u=(i=(r=a[t])==null?void 0:r[n])==null?void 0:i[o];if(u&&typeof u=="object"&&u!==null&&!Array.isArray(u)){const f=u[c];if(f!=null)return f}return l.count||0}return l.count||0}else if(o==="salary"){const u=(d=(s=a[t])==null?void 0:s[n])==null?void 0:d[o];if(u!=null)return u;const f=F(e,a,n,"count",t,c);return(l.salary||0)*f}else if(o==="annual")return((h=(p=a[t])==null?void 0:p[n])==null?void 0:h[o])||0;return 0}function ft(e,a,n,o,t,c){const l=parseFloat(c.target.textContent)||0;(n==="salary"||n==="annual")&&(isNaN(l)?c.target.textContent="0.00":c.target.textContent=l.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}));const r={rowId:a,fieldType:n,year:o,month:t,newValue:l,isOverride:n==="count"&&t},i=e.findIndex(s=>s.rowId===a&&s.fieldType===n&&s.year===o&&s.month===t);return i>=0?e[i]=r:e.push(r),e}function gt(e){return e.length>0}const A={class:"flex flex-col items-center justify-center min-h-[400px] bg-white border-2 border-dashed border-violet-300 rounded-xl shadow-sm"},E={class:"w-16 h-16 bg-violet-100 rounded-full flex items-center justify-center mb-4"},P={class:"text-lg text-violet-700 font-semibold mb-2"},V={class:"text-gray-500 text-center max-w-md leading-relaxed text-sm"},k={class:"mt-4 flex items-center gap-2 text-xs text-violet-600"},q={class:"mt-6"},j={__name:"NoYearsSelectedState",props:{fromYear:{type:String,default:""},toYear:{type:String,default:""}},setup(e){return(a,n)=>{const o=x("router-link");return R(),L("div",A,[m("div",E,[g(y(b),{class:"w-8 h-8 text-violet-500"})]),m("h3",P,S(e.fromYear&&!e.toYear?'Select "To Year"':!e.fromYear&&e.toYear?'Select "From Year"':"No Years Selected"),1),m("p",V,S(e.fromYear&&!e.toYear?"You have selected a From Year, now please select a To Year to display the payroll table.":!e.fromYear&&e.toYear?"You have selected a To Year, now please select a From Year to display the payroll table.":'Please select both "From Year" and "To Year" in the left panel to display the payroll table.'),1),m("div",k,[g(y(w),{class:"w-3 h-3"}),n[0]||(n[0]=m("span",null,"Use the filters on the left to get started",-1))]),m("div",q,[g(o,{to:"/expense_estimate",class:"inline-flex items-center gap-2 px-4 py-2 rounded-lg bg-gradient-to-r from-violet-600 to-violet-700 text-white hover:from-violet-700 hover:to-violet-800 shadow"},{default:T(()=>[g(y(Y),{class:"w-4 h-4"}),n[1]||(n[1]=m("span",null,"Set Years in Expense",-1))]),_:1,__:[1]})])])}}},yt=M(j,[["__scopeId","data-v-3ca0644f"]]);export{st as A,J as B,Z as C,nt as D,yt as N,mt as a,dt as b,ft as c,O as d,G as e,K as f,F as g,gt as h,Q as i,W as j,X as k,$ as l,I as m,tt as n,et as o,at as p,ot as q,rt as r,ut as s,C as t,v as u,N as v,_ as w,ct as x,lt as y,it as z};
