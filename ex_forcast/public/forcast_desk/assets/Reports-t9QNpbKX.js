var Ht=Object.defineProperty;var Pt=Object.getOwnPropertySymbols;var Wt=Object.prototype.hasOwnProperty,Kt=Object.prototype.propertyIsEnumerable;var Dt=(k,x,y)=>x in k?Ht(k,x,{enumerable:!0,configurable:!0,writable:!0,value:y}):k[x]=y,$t=(k,x)=>{for(var y in x||(x={}))Wt.call(x,y)&&Dt(k,y,x[y]);if(Pt)for(var y of Pt(x))Kt.call(x,y)&&Dt(k,y,x[y]);return k};var G=(k,x,y)=>new Promise((C,m)=>{var f=v=>{try{h(y.next(v))}catch(p){m(p)}},F=v=>{try{h(y.throw(v))}catch(p){m(p)}},h=v=>v.done?C(v.value):Promise.resolve(v.value).then(f,F);h((y=y.apply(k,x)).next())});import{_ as _t,c as r,o as t,b as e,e as P,u as D,Y as Qt,J as St,l as ve,q as z,p as qe,m as Ft,h as I,v as c,F as l,x as g,j as ot,d as N,i as V,n as Xt,I as Zt,K as er,w as Vt,B as gt,M as vt,L as Bt,N as tr,T as Mt}from"./index-D_rjzJld.js";import{a as Rt,u as Ct,C as rr}from"./useCalculationCache-dafppauv.js";import{f as Ut,C as Yt,i as xt,c as se,_ as or,j as sr,R as Lt,a as nr,T as jt,D as lr,S as dr,X as ar,b as ir,d as ur}from"./SettingsModal-CXq_GQXV.js";import{N as br,E as cr}from"./ErrorState-DJnyck3y.js";import{F as kt,U as At}from"./utensils-vh0rlMul.js";import{B as gr}from"./building-CU2ywC_0.js";import{H as xr}from"./heart-CZJ59gBm.js";import{T as pr}from"./trending-up-DsLdEjZ2.js";import{c as Ot}from"./createLucideIcon-DCP_iQLd.js";import{D as Et}from"./dollar-sign-Bx0lY0Fr.js";import{b as fr,i as Nt,a as mr}from"./advanced_settings-Df5tIL6_.js";import{b as hr,c as vr}from"./data_service-C3TplO9w.js";import{a as qt,C as kr}from"./circle-alert-Dm_yBXMV.js";import{g as It}from"./get_restaurants-BKN9puJO.js";import{C as yr}from"./coffee-DwPne9d1.js";import{U as _r}from"./users-CwWEQ9uG.js";import"./payroll_data_service-BfE6S0Jr.js";import{D as Jt}from"./zap-CemnWSUC.js";import{L as Rr}from"./loader-circle-BxA4pgvt.js";import{P as wr}from"./plus-B5E5nD9c.js";import"./folder-open-COElByeF.js";/**
 * @license lucide-vue-next v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $r=Ot("printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);/**
 * @license lucide-vue-next v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ar=Ot("scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-vue-next v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Er=Ot("wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]),Sr={class:"bg-white/90 rounded-xl p-6 border border-violet-100 shadow-sm"},Fr={class:"text-center mb-6"},Cr={class:"w-16 h-16 bg-gradient-to-r from-violet-500 to-purple-600 rounded-full flex items-center justify-center mx-auto mb-4"},Yr={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},Or={class:"flex items-center gap-3 mb-3"},Tr={class:"w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center group-hover:scale-110 transition-transform"},Pr={class:"flex items-center gap-3 mb-3"},Dr={class:"w-10 h-10 bg-green-500 rounded-lg flex items-center justify-center group-hover:scale-110 transition-transform"},Vr={class:"flex items-center gap-3 mb-3"},Br={class:"w-10 h-10 bg-purple-500 rounded-lg flex items-center justify-center group-hover:scale-110 transition-transform"},Mr={class:"flex items-center gap-3 mb-3"},Lr={class:"w-10 h-10 bg-orange-500 rounded-lg flex items-center justify-center group-hover:scale-110 transition-transform"},jr={class:"flex items-center gap-3 mb-3"},Nr={class:"w-10 h-10 bg-yellow-500 rounded-lg flex items-center justify-center group-hover:scale-110 transition-transform"},Ir={class:"flex items-center gap-3 mb-3"},Jr={class:"w-10 h-10 bg-teal-500 rounded-lg flex items-center justify-center group-hover:scale-110 transition-transform"},Ur={class:"flex items-center gap-3 mb-3"},qr={class:"w-10 h-10 bg-red-500 rounded-lg flex items-center justify-center group-hover:scale-110 transition-transform"},Gr={__name:"ReportSelector",emits:["report-selected"],setup(k,{emit:x}){const y=x,C=m=>{y("report-selected",m)};return(m,f)=>(t(),r("div",Sr,[e("div",Fr,[e("div",Cr,[P(D(kt),{class:"w-8 h-8 text-white"})]),f[7]||(f[7]=e("h3",{class:"text-xl font-bold text-gray-800 mb-2"},"Select a Report",-1)),f[8]||(f[8]=e("p",{class:"text-gray-600"},"Choose the financial report you'd like to view and analyze",-1))]),e("div",Yr,[e("div",{onClick:f[0]||(f[0]=F=>C("room-pnl")),class:"group cursor-pointer bg-gradient-to-br from-blue-50 to-blue-100 border-2 border-blue-200 rounded-xl p-4 hover:border-blue-400 hover:shadow-lg transition-all duration-300 hover:scale-105"},[e("div",Or,[e("div",Tr,[P(D(gr),{class:"w-5 h-5 text-white"})]),f[9]||(f[9]=e("div",null,[e("h4",{class:"font-semibold text-blue-800"},"Room Profit & Loss"),e("p",{class:"text-xs text-blue-600"},"Room department financials")],-1))]),f[10]||(f[10]=e("p",{class:"text-sm text-blue-700"},"Analyze room revenue, expenses, and profitability by month and year.",-1))]),e("div",{onClick:f[1]||(f[1]=F=>C("fnb-pnl")),class:"group cursor-pointer bg-gradient-to-br from-green-50 to-green-100 border-2 border-green-200 rounded-xl p-4 hover:border-green-400 hover:shadow-lg transition-all duration-300 hover:scale-105"},[e("div",Pr,[e("div",Dr,[P(D(At),{class:"w-5 h-5 text-white"})]),f[11]||(f[11]=e("div",null,[e("h4",{class:"font-semibold text-green-800"},"Food & Beverage P&L"),e("p",{class:"text-xs text-green-600"},"Restaurant & bar financials")],-1))]),f[12]||(f[12]=e("p",{class:"text-sm text-green-700"},"Review F&B revenue, costs, and profit margins across all outlets.",-1))]),e("div",{onClick:f[2]||(f[2]=F=>C("ood-pnl")),class:"group cursor-pointer bg-gradient-to-br from-purple-50 to-purple-100 border-2 border-purple-200 rounded-xl p-4 hover:border-purple-400 hover:shadow-lg transition-all duration-300 hover:scale-105"},[e("div",Vr,[e("div",Br,[P(D(xr),{class:"w-5 h-5 text-white"})]),f[13]||(f[13]=e("div",null,[e("h4",{class:"font-semibold text-purple-800"},"Other Operating Departments"),e("p",{class:"text-xs text-purple-600"},"Spa, gym, pool, etc.")],-1))]),f[14]||(f[14]=e("p",{class:"text-sm text-purple-700"},"Examine performance of spa, health club, and recreational facilities.",-1))]),e("div",{onClick:f[3]||(f[3]=F=>C("pl-statement")),class:"group cursor-pointer bg-gradient-to-br from-orange-50 to-orange-100 border-2 border-orange-200 rounded-xl p-4 hover:border-orange-400 hover:shadow-lg transition-all duration-300 hover:scale-105"},[e("div",Mr,[e("div",Lr,[P(D(pr),{class:"w-5 h-5 text-white"})]),f[15]||(f[15]=e("div",null,[e("h4",{class:"font-semibold text-orange-800"},"Profit & Loss Statement"),e("p",{class:"text-xs text-orange-600"},"Consolidated hotel P&L")],-1))]),f[16]||(f[16]=e("p",{class:"text-sm text-orange-700"},"Complete hotel financial performance overview with all departments.",-1))]),e("div",{onClick:f[4]||(f[4]=F=>C("balance-sheet")),class:"group cursor-pointer bg-gradient-to-br from-yellow-50 to-yellow-100 border-2 border-yellow-200 rounded-xl p-4 hover:border-yellow-400 hover:shadow-lg transition-all duration-300 hover:scale-105"},[e("div",jr,[e("div",Nr,[P(D(Ar),{class:"w-5 h-5 text-white"})]),f[17]||(f[17]=e("div",null,[e("h4",{class:"font-semibold text-yellow-800"},"Balance Sheet"),e("p",{class:"text-xs text-yellow-600"},"Assets, liabilities & equity")],-1))]),f[18]||(f[18]=e("p",{class:"text-sm text-yellow-700"},"View hotel's financial position, assets, liabilities, and equity.",-1))]),e("div",{onClick:f[5]||(f[5]=F=>C("cashflow")),class:"group cursor-pointer bg-gradient-to-br from-teal-50 to-teal-100 border-2 border-teal-200 rounded-xl p-4 hover:border-teal-400 hover:shadow-lg transition-all duration-300 hover:scale-105"},[e("div",Ir,[e("div",Jr,[P(D(Et),{class:"w-5 h-5 text-white"})]),f[19]||(f[19]=e("div",null,[e("h4",{class:"font-semibold text-teal-800"},"Cashflow"),e("p",{class:"text-xs text-teal-600"},"Cash movement analysis")],-1))]),f[20]||(f[20]=e("p",{class:"text-sm text-teal-700"},"Track cash inflows and outflows for operational and investment activities.",-1))]),e("div",{onClick:f[6]||(f[6]=F=>C("capex-schedule")),class:"group cursor-pointer bg-gradient-to-br from-red-50 to-red-100 border-2 border-red-200 rounded-xl p-4 hover:border-red-400 hover:shadow-lg transition-all duration-300 hover:scale-105"},[e("div",Ur,[e("div",qr,[P(D(Er),{class:"w-5 h-5 text-white"})]),f[21]||(f[21]=e("div",null,[e("h4",{class:"font-semibold text-rose-800"},"Capex Schedule"),e("p",{class:"text-xs text-rose-600"},"Capital expenditure planning")],-1))]),f[22]||(f[22]=e("p",{class:"text-sm text-rose-700"},"Plan and track capital expenditures for property improvements and equipment.",-1))])])]))}},zr=_t(Gr,[["__scopeId","data-v-c7e43cfb"]]);class Hr{constructor(){this.calculationCache=Rt(),this.unifiedCacheService=Qt}debugCache(x){try{const y=this.calculationCache.cache[x]||{},C=Object.keys(y),m={};return C.forEach(f=>{const F=y[f]||{},h=Object.keys(F);m[f]={rowCodes:h,sampleData:{}},h.slice(0,3).forEach(v=>{const p=F[v]||{},A=Object.keys(p);if(A.length>0){const R=A[0],j=p[R]||{},q=Object.keys(j);m[f].sampleData[v]={years:A,sampleYear:R,months:q.slice(0,3),sampleValues:q.slice(0,3).map(K=>j[K])}}})}),m}catch(y){return console.error("[REPORT SERVICE DEBUG] Error inspecting cache:",y),{}}}getReportData(x,y){return G(this,null,function*(){try{const C=this.debugCache(x);this.unifiedCacheService.isInitialized.value||(yield this.unifiedCacheService.initialize()),yield this.unifiedCacheService.loadProjectCache();const m={metadata:{projectName:x,years:y,timestamp:new Date().toISOString(),dataCompleteness:0,cacheInspection:C},roomRevenue:{},fnbRevenue:{},oodRevenue:{},expenseData:{},payrollData:{},payrollRelatedData:{},bonusData:{},marketSegmentation:{},roomPackages:{}};let f=0,F=0;for(const h of y)m.roomRevenue[h]=yield this.loadRoomRevenueData(x,h),f+=this.countDataPoints(m.roomRevenue[h]),F+=this.countPopulatedDataPoints(m.roomRevenue[h]);for(const h of y)m.fnbRevenue[h]=yield this.loadFnBRevenueData(x,h),f+=this.countDataPoints(m.fnbRevenue[h]),F+=this.countPopulatedDataPoints(m.fnbRevenue[h]);for(const h of y)m.oodRevenue[h]=yield this.loadOODRevenueData(x,h),f+=this.countDataPoints(m.oodRevenue[h]),F+=this.countPopulatedDataPoints(m.oodRevenue[h]);for(const h of y)m.expenseData[h]=yield this.loadExpenseData(x,h),f+=this.countDataPoints(m.expenseData[h]),F+=this.countPopulatedDataPoints(m.expenseData[h]);for(const h of y)m.payrollData[h]=yield this.loadPayrollData(x,h),f+=this.countDataPoints(m.payrollData[h]),F+=this.countPopulatedDataPoints(m.payrollData[h]);for(const h of y)m.payrollRelatedData[h]=yield this.loadPayrollRelatedData(x,h),f+=this.countDataPoints(m.payrollRelatedData[h]),F+=this.countPopulatedDataPoints(m.payrollRelatedData[h]);for(const h of y)m.bonusData[h]=yield this.loadBonusData(x,h),f+=this.countDataPoints(m.bonusData[h]),F+=this.countPopulatedDataPoints(m.bonusData[h]);for(const h of y)m.marketSegmentation[h]=yield this.loadMarketSegmentationData(x,h),f+=this.countDataPoints(m.marketSegmentation[h]),F+=this.countPopulatedDataPoints(m.marketSegmentation[h]);for(const h of y)m.roomPackages[h]=yield this.loadRoomPackagesData(x,h),f+=this.countDataPoints(m.roomPackages[h]),F+=this.countPopulatedDataPoints(m.roomPackages[h]);return m.metadata.dataCompleteness=f>0?Math.round(F/f*100):0,m}catch(C){throw console.error("[REPORT SERVICE] Error loading unified data:",C),new Error(`Failed to load report data: ${C.message}`)}})}getReportSpecificData(x,y,C){return G(this,null,function*(){try{const m={};switch(x){case"room-pnl":for(const f of C)m[f]={roomRevenue:yield this.loadRoomRevenueData(y,f),expenses:yield this.loadExpenseData(y,f),payroll:yield this.loadPayrollData(y,f),payrollRelated:yield this.loadPayrollRelatedData(y,f),bonus:yield this.loadBonusData(y,f)};break;case"fnb-pnl":for(const f of C)m[f]={fnbRevenue:yield this.loadFnBRevenueData(y,f),roomStats:yield this.loadRoomRevenueData(y,f)};break;case"ood-pnl":for(const f of C)m[f]={oodRevenue:yield this.loadOODRevenueData(y,f),expenses:yield this.loadExpenseData(y,f)};break;default:throw new Error(`Unsupported report type: ${x}`)}return m}catch(m){throw console.error("[REPORT SERVICE] Error loading specific report data:",m),new Error(`Failed to load ${x} data: ${m.message}`)}})}loadRoomRevenueData(x,y){return G(this,null,function*(){try{const C=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],m={};for(const f of C)m[f]={totalRooms:this.calculationCache.getValue(x,"Room Revenue Assumptions","Total Rooms",y,f),totalRoomRevenue:this.calculationCache.getValue(x,"Room Revenue Assumptions","Total Room Revenue",y,f),corporate:this.calculationCache.getValue(x,"Room Revenue Assumptions","Corporate",y,f),ota:this.calculationCache.getValue(x,"Room Revenue Assumptions","OTA",y,f),travelAgent:this.calculationCache.getValue(x,"Room Revenue Assumptions","Travel Agent",y,f),directRetail:this.calculationCache.getValue(x,"Room Revenue Assumptions","Direct Retail",y,f)};return m.ALL={totalRooms:this.calculationCache.getValue(x,"Room Revenue Assumptions","Total Rooms",y,"ALL"),totalRoomRevenue:this.calculationCache.getValue(x,"Room Revenue Assumptions","Total Room Revenue",y,"ALL")},m}catch(C){return console.error("[REPORT SERVICE] Error loading room revenue data:",C),{}}})}loadFnBRevenueData(x,y){return G(this,null,function*(){try{const C=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],m={};for(const f of C)m[f]={roomsAvailable:this.calculationCache.getValue(x,"F&B Revenue Assumptions","Number of rooms available",y,f),roomsSold:this.calculationCache.getValue(x,"F&B Revenue Assumptions","Number of rooms sold (excl.)",y,f),occupancy:this.calculationCache.getValue(x,"F&B Revenue Assumptions","Occupancy (excl.) %",y,f),numberOfGuests:this.calculationCache.getValue(x,"F&B Revenue Assumptions","Number of guests",y,f),totalCovers:this.calculationCache.getValue(x,"F&B Revenue Assumptions","Total Covers",y,f),averageSpent:this.calculationCache.getValue(x,"F&B Revenue Assumptions","Average Spent Per F&B Customer",y,f),averageRoomRate:this.calculationCache.getValue(x,"F&B Revenue Assumptions","Average Room Rate",y,f),revenuePerRoom:this.calculationCache.getValue(x,"F&B Revenue Assumptions","Revenue Per Available Room",y,f),totalFnBRevenue:this.calculationCache.getValue(x,"F&B Revenue Assumptions","Total F&B Revenue",y,f),totalFoodRevenue:this.calculationCache.getValue(x,"F&B Revenue Assumptions","Total Food Revenue",y,f),totalBeverageRevenue:this.calculationCache.getValue(x,"F&B Revenue Assumptions","Total Beverage Revenue",y,f)};return m}catch(C){return console.error("[REPORT SERVICE] Error loading F&B revenue data:",C),{}}})}loadOODRevenueData(x,y){return G(this,null,function*(){try{const C=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],m={};for(const f of C)m[f]={laundryRevenue:this.calculationCache.getValue(x,"OOD Revenue Assumptions","Total Laundry Revenue",y,f),healthClubRevenue:this.calculationCache.getValue(x,"OOD Revenue Assumptions","Total Health Club Rev Including SC",y,f)};return m}catch(C){return console.error("[REPORT SERVICE] Error loading OOD revenue data:",C),{}}})}loadExpenseData(x,y){return G(this,null,function*(){try{return{}}catch(C){return console.error("[REPORT SERVICE] Error loading expense data:",C),{}}})}loadPayrollData(x,y){return G(this,null,function*(){var C;try{const m=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],f={},F=((C=this.calculationCache.cache[x])==null?void 0:C.Payroll)||{};for(const h of m)f[h]={},Object.keys(F).forEach(v=>{if(v.startsWith("MonthlySalary|")){const p=this.calculationCache.getValue(x,"Payroll",v,y,h);p!=null&&(f[h][v]=p)}});return f}catch(m){return console.error("[REPORT SERVICE] Error loading payroll data:",m),{}}})}loadPayrollRelatedData(x,y){return G(this,null,function*(){try{const C=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],m={};for(const f of C)m[f]={nssit:this.calculationCache.getValue(x,"Payroll Taxes","NSSIT",y,f),vacation:this.calculationCache.getValue(x,"Payroll Related","hotel | vacation",y,f),relocation:this.calculationCache.getValue(x,"Payroll Related","hotel | relocation",y,f),severence:this.calculationCache.getValue(x,"Payroll Related","hotel | severence & indemnity",y,f),other:this.calculationCache.getValue(x,"Payroll Related","hotel | other",y,f),medical:this.calculationCache.getValue(x,"Payroll Related","category: Rooms | medical",y,f),uniforms:this.calculationCache.getValue(x,"Payroll Related","category: Rooms | uniforms",y,f),employeeMeal:this.calculationCache.getValue(x,"Payroll Related","category: Rooms | employee_meal",y,f),transport:this.calculationCache.getValue(x,"Payroll Related","category: Rooms | transport",y,f),telephone:this.calculationCache.getValue(x,"Payroll Related","category: Rooms | telephone",y,f),airTicket:this.calculationCache.getValue(x,"Payroll Related","category: Rooms | air_ticket",y,f),otherBenefits:this.calculationCache.getValue(x,"Payroll Related","category: Rooms | other_benefits",y,f)};return m}catch(C){return console.error("[REPORT SERVICE] Error loading payroll related data:",C),{}}})}loadBonusData(x,y){return G(this,null,function*(){try{const C=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],m={};for(const f of C)m[f]={totalHotel:this.calculationCache.getValue(x,"Bonus","Total Hotel",y,f)};return m.Total={totalHotel:this.calculationCache.getValue(x,"Bonus","Total Hotel",y,"Total")},m}catch(C){return console.error("[REPORT SERVICE] Error loading bonus data:",C),{}}})}loadMarketSegmentationData(x,y){return G(this,null,function*(){var C;try{const m=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],f={},F=((C=this.calculationCache.cache[x])==null?void 0:C["Market Segmentation"])||{};for(const h of m)f[h]={},Object.keys(F).forEach(v=>{if(v.startsWith("Room Revenue:")){const p=this.calculationCache.getValue(x,"Market Segmentation",v,y,h);p!=null&&(f[h][v]=p)}});return f}catch(m){return console.error("[REPORT SERVICE] Error loading market segmentation data:",m),{}}})}loadRoomPackagesData(x,y){return G(this,null,function*(){var C;try{const m=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],f={},F=((C=this.calculationCache.cache[x])==null?void 0:C["Room Revenue Assumptions"])||{};for(const h of m)f[h]={},Object.keys(F).forEach(v=>{if(v.startsWith("Room Type:")){const p=this.calculationCache.getValue(x,"Room Revenue Assumptions",v,y,h);p!=null&&(f[h][v]=p)}});return f}catch(m){return console.error("[REPORT SERVICE] Error loading room packages data:",m),{}}})}countDataPoints(x){if(!x||typeof x!="object")return 0;let y=0;return Object.values(x).forEach(C=>{typeof C=="object"&&C!==null?y+=this.countDataPoints(C):y++}),y}countPopulatedDataPoints(x){if(!x||typeof x!="object")return 0;let y=0;return Object.values(x).forEach(C=>{typeof C=="object"&&C!==null?y+=this.countPopulatedDataPoints(C):C!=null&&C!==0&&y++}),y}validateData(x){try{if(!x||typeof x!="object")return{valid:!1,errors:["Data is not an object"]};const y=[];return x.metadata||y.push("Missing metadata"),x.metadata.projectName||y.push("Missing project name"),Array.isArray(x.metadata.years)||y.push("Missing or invalid years array"),{valid:y.length===0,errors:y}}catch(y){return{valid:!1,errors:[y.message]}}}exportData(x,y="report-data-export.json"){try{const C=JSON.stringify(x,null,2),m=new Blob([C],{type:"application/json"}),f=URL.createObjectURL(m),F=document.createElement("a");return F.href=f,F.download=y,F.click(),URL.revokeObjectURL(f),!0}catch(C){return console.error("[REPORT SERVICE] Error exporting data:",C),!1}}clearProjectData(x){try{return this.calculationCache.clearCache(x),console.log("[REPORT SERVICE] Cleared all cached data for project:",x),!0}catch(y){return console.error("[REPORT SERVICE] Error clearing project data:",y),!1}}}const yt=new Hr;typeof window!="undefined"&&(window.debugReportCache=k=>yt.debugCache(k),window.reportDataService=yt);const Wr={class:"bg-white rounded-lg border border-blue-200 dark:border-blue-700 shadow-sm overflow-hidden"},Kr={class:"overflow-x-auto"},Qr={class:"min-w-full w-max"},Xr={class:"w-full"},Zr={class:"bg-gradient-to-r from-blue-600 to-blue-700 text-white"},eo={class:"bg-gradient-to-r from-blue-600 via-blue-700 to-blue-800 text-white"},to=["colspan"],ro={class:"flex items-center justify-center gap-3"},oo={class:"text-3xl font-bold tracking-tight"},so={class:"bg-gradient-to-r from-blue-500 via-blue-600 to-blue-700 text-white"},no=["colspan"],lo=["colspan","onClick"],ao={class:"flex items-center justify-center gap-1"},io={class:"font-semibold"},uo={class:"bg-blue-50 dark:bg-blue-900/200/90 text-xs"},bo={class:"px-2 py-1 text-center border border-blue-300 min-w-[100px] font-medium"},co={class:"px-2 py-1 text-center border border-blue-300 min-w-[110px] font-semibold"},go={class:"flex items-center justify-center gap-1"},xo={key:1,class:"px-2 py-1 text-center border border-blue-300 min-w-[110px] font-semibold"},po={class:"flex items-center justify-center gap-1"},fo={class:"text-gray-700 bg-white text-sm dark:text-gray-200 dark:bg-gray-800"},mo={class:"bg-blue-800 border-b-2 border-blue-900"},ho={key:1,class:"px-1 py-1 text-center border border-blue-700 bg-blue-800"},vo={key:0,class:"bg-blue-50 dark:bg-blue-900/20 border-b border-blue-200 dark:border-blue-700"},ko={class:"px-2 py-1 text-right border border-blue-200 dark:border-blue-700 bg-blue-50 dark:bg-blue-900/20"},yo={class:"font-mono text-xs"},_o={class:"px-2 py-1 text-right border border-blue-200 dark:border-blue-700 font-semibold bg-blue-100 dark:bg-blue-800/30"},Ro={class:"font-mono text-xs text-blue-700 dark:text-blue-300"},wo={key:1,class:"px-2 py-1 text-right border border-blue-200 dark:border-blue-700 font-semibold bg-blue-100 dark:bg-blue-800/30"},$o={class:"font-mono text-xs text-blue-700 dark:text-blue-300"},Ao={key:1,class:"bg-blue-50 dark:bg-blue-900/20 border-b border-blue-200 dark:border-blue-700"},Eo={class:"px-2 py-1 text-right border border-blue-200 dark:border-blue-700 bg-blue-50 dark:bg-blue-900/20"},So={class:"font-mono text-xs"},Fo={class:"px-2 py-1 text-right border border-blue-200 dark:border-blue-700 font-semibold bg-blue-100 dark:bg-blue-800/30"},Co={class:"font-mono text-xs text-blue-700 dark:text-blue-300"},Yo={key:1,class:"px-2 py-1 text-right border border-blue-200 dark:border-blue-700 font-semibold bg-blue-100 dark:bg-blue-800/30"},Oo={class:"font-mono text-xs text-blue-700 dark:text-blue-300"},To={key:2,class:"bg-blue-50 dark:bg-blue-900/20 border-b border-blue-200 dark:border-blue-700"},Po={class:"px-2 py-1 text-right border border-blue-200 dark:border-blue-700 bg-blue-50 dark:bg-blue-900/20"},Do={class:"font-mono text-xs"},Vo={class:"px-2 py-1 text-right border border-blue-200 dark:border-blue-700 font-semibold bg-blue-100 dark:bg-blue-800/30"},Bo={class:"font-mono text-xs text-blue-700 dark:text-blue-300"},Mo={key:1,class:"px-2 py-1 text-right border border-blue-200 dark:border-blue-700 font-semibold bg-blue-100 dark:bg-blue-800/30"},Lo={class:"font-mono text-xs text-blue-700 dark:text-blue-300"},jo={key:3,class:"bg-blue-50 dark:bg-blue-900/20 border-b border-blue-200 dark:border-blue-700"},No={class:"px-2 py-1 text-right border border-blue-200 dark:border-blue-700 bg-blue-50 dark:bg-blue-900/20"},Io={class:"font-mono text-xs"},Jo={class:"px-2 py-1 text-right border border-blue-200 dark:border-blue-700 font-semibold bg-blue-100 dark:bg-blue-800/30"},Uo={class:"font-mono text-xs text-blue-700 dark:text-blue-300"},qo={key:1,class:"px-2 py-1 text-right border border-blue-200 dark:border-blue-700 font-semibold bg-blue-100 dark:bg-blue-800/30"},Go={class:"font-mono text-xs text-blue-700 dark:text-blue-300"},zo={key:4,class:"bg-blue-50 dark:bg-blue-900/20 border-b border-blue-200 dark:border-blue-700"},Ho={class:"px-2 py-1 text-right border border-blue-200 dark:border-blue-700 bg-blue-50 dark:bg-blue-900/20"},Wo={class:"font-mono text-xs"},Ko={class:"px-2 py-1 text-right border border-blue-200 dark:border-blue-700 font-semibold bg-blue-100 dark:bg-blue-800/30"},Qo={class:"font-mono text-xs text-blue-700 dark:text-blue-300"},Xo={key:1,class:"px-2 py-1 text-right border border-blue-200 dark:border-blue-700 font-semibold bg-blue-100 dark:bg-blue-800/30"},Zo={class:"font-mono text-xs text-blue-700 dark:text-blue-300"},es={key:5,class:"bg-blue-50 dark:bg-blue-900/20 border-b border-blue-200 dark:border-blue-700"},ts={class:"px-2 py-1 text-right border border-blue-200 dark:border-blue-700 bg-blue-50 dark:bg-blue-900/20"},rs={class:"font-mono text-xs"},os={class:"px-2 py-1 text-right border border-blue-200 dark:border-blue-700 font-semibold bg-blue-100 dark:bg-blue-800/30"},ss={class:"font-mono text-xs text-blue-700 dark:text-blue-300"},ns={key:1,class:"px-2 py-1 text-right border border-blue-200 dark:border-blue-700 font-semibold bg-blue-100 dark:bg-blue-800/30"},ls={class:"font-mono text-xs text-blue-700 dark:text-blue-300"},ds={key:6,class:"bg-blue-50 dark:bg-blue-900/20 border-b border-blue-200 dark:border-blue-700"},as={class:"px-2 py-1 text-right border border-blue-200 dark:border-blue-700 bg-blue-50 dark:bg-blue-900/20"},is={class:"font-mono text-xs"},us={class:"px-2 py-1 text-right border border-blue-200 dark:border-blue-700 font-semibold bg-blue-100 dark:bg-blue-800/30"},bs={class:"font-mono text-xs text-blue-700 dark:text-blue-300"},cs={key:1,class:"px-2 py-1 text-right border border-blue-200 dark:border-blue-700 font-semibold bg-blue-100 dark:bg-blue-800/30"},gs={class:"font-mono text-xs text-blue-700 dark:text-blue-300"},xs={key:7,class:"bg-blue-50 dark:bg-blue-900/20 border-b border-blue-200 dark:border-blue-700"},ps={class:"px-2 py-1 text-right border border-blue-200 dark:border-blue-700 bg-blue-50 dark:bg-blue-900/20"},fs={class:"font-mono text-xs"},ms={class:"px-2 py-1 text-right border border-blue-200 dark:border-blue-700 font-semibold bg-blue-100 dark:bg-blue-800/30"},hs={class:"font-mono text-xs text-blue-700 dark:text-blue-300"},vs={key:1,class:"px-2 py-1 text-right border border-blue-200 dark:border-blue-700 font-semibold bg-blue-100 dark:bg-blue-800/30"},ks={class:"font-mono text-xs text-blue-700 dark:text-blue-300"},ys={key:8,class:"bg-blue-50 dark:bg-blue-900/20 border-b border-blue-200 dark:border-blue-700"},_s={class:"px-2 py-1 text-right border border-blue-200 dark:border-blue-700 bg-blue-50 dark:bg-blue-900/20"},Rs={class:"font-mono text-xs"},ws={class:"px-2 py-1 text-right border border-blue-200 dark:border-blue-700 font-semibold bg-blue-100 dark:bg-blue-800/30"},$s={class:"font-mono text-xs text-blue-700 dark:text-blue-300"},As={key:1,class:"px-2 py-1 text-right border border-blue-200 dark:border-blue-700 font-semibold bg-blue-100 dark:bg-blue-800/30"},Es={class:"font-mono text-xs text-blue-700 dark:text-blue-300"},Ss={key:9,class:"bg-blue-50 dark:bg-blue-900/20 border-b border-blue-200 dark:border-blue-700"},Fs={class:"px-2 py-1 text-right border border-blue-200 dark:border-blue-700 bg-blue-50 dark:bg-blue-900/20"},Cs={class:"font-mono text-xs"},Ys={class:"px-2 py-1 text-right border border-blue-200 dark:border-blue-700 font-semibold bg-blue-100 dark:bg-blue-800/30"},Os={class:"font-mono text-xs text-blue-700 dark:text-blue-300"},Ts={key:1,class:"px-2 py-1 text-right border border-blue-200 dark:border-blue-700 font-semibold bg-blue-100 dark:bg-blue-800/30"},Ps={class:"font-mono text-xs text-blue-700 dark:text-blue-300"},Ds={class:"bg-gray-100 border-b border-gray-200"},Vs={key:1,class:"px-2 py-1 text-center border border-gray-200 bg-gray-100"},Bs={class:"bg-gray-100 border-b border-gray-200"},Ms={key:1,class:"px-2 py-1 text-center border border-gray-200 bg-gray-100"},Ls={class:"bg-blue-800 border-b-2 border-blue-900"},js={key:1,class:"px-1 py-1 text-center border border-blue-700 bg-blue-800"},Ns={key:0,class:"bg-blue-50 dark:bg-blue-900/20 border-b border-blue-200 dark:border-blue-700"},Is={class:"px-3 py-2 font-medium border-r border-blue-200 dark:border-blue-700"},Js={class:"flex items-center gap-1"},Us={class:"px-2 py-1 text-right border border-blue-200 dark:border-blue-700 bg-blue-50 dark:bg-blue-900/20"},qs={class:"font-mono text-xs"},Gs={class:"px-2 py-1 text-right border border-blue-200 dark:border-blue-700 bg-blue-50 dark:bg-blue-900/20"},zs={class:"font-mono text-xs text-blue-600"},Hs={class:"px-2 py-1 text-right border border-blue-200 dark:border-blue-700 font-semibold bg-blue-100 dark:bg-blue-800/30"},Ws={class:"font-mono text-xs text-blue-700 dark:text-blue-300"},Ks={key:1,class:"px-2 py-1 text-right border border-blue-200 dark:border-blue-700 font-semibold bg-blue-100 dark:bg-blue-800/30"},Qs={class:"font-mono text-xs text-blue-700 dark:text-blue-300"},Xs={class:"bg-blue-50 dark:bg-blue-900/200 border-b-2 border-blue-600"},Zs={class:"px-2 py-1 text-right border border-blue-600 font-semibold bg-blue-50 dark:bg-blue-900/200"},en={class:"font-mono text-xs text-white"},tn={class:"px-2 py-1 text-right border border-blue-600 font-bold bg-blue-50 dark:bg-blue-900/200"},rn={class:"font-mono text-xs text-white"},on={key:1,class:"px-2 py-1 text-right border border-blue-600 font-bold bg-blue-50 dark:bg-blue-900/200"},sn={class:"font-mono text-xs text-white"},nn={class:"bg-gray-100 border-b border-gray-200"},ln={key:1,class:"px-2 py-1 text-center border border-gray-200 bg-gray-100"},dn={class:"bg-gray-100 border-b border-gray-200"},an={key:1,class:"px-2 py-1 text-center border border-gray-200 bg-gray-100"},un={key:0,class:"bg-blue-50 dark:bg-blue-900/20 border-b border-blue-200 dark:border-blue-700"},bn={class:"px-3 py-2 font-medium border-r border-blue-200 dark:border-blue-700"},cn={class:"flex items-center gap-1"},gn={class:"px-2 py-1 text-right border border-blue-200 dark:border-blue-700 bg-blue-50 dark:bg-blue-900/20"},xn={class:"font-mono text-xs"},pn={class:"px-2 py-1 text-right border border-blue-200 dark:border-blue-700 bg-blue-50 dark:bg-blue-900/20"},fn={class:"font-mono text-xs text-blue-600"},mn={class:"px-2 py-1 text-right border border-blue-200 dark:border-blue-700 font-semibold bg-blue-100 dark:bg-blue-800/30"},hn={class:"font-mono text-xs text-blue-700 dark:text-blue-300"},vn={key:1,class:"px-2 py-1 text-right border border-blue-200 dark:border-blue-700 font-semibold bg-blue-100 dark:bg-blue-800/30"},kn={class:"font-mono text-xs text-blue-700 dark:text-blue-300"},yn={class:"bg-blue-50 dark:bg-blue-900/200 border-b-2 border-blue-600"},_n={class:"px-2 py-1 text-right border border-blue-600 font-semibold bg-blue-50 dark:bg-blue-900/200"},Rn={class:"font-mono text-xs text-white"},wn={class:"px-2 py-1 text-right border border-blue-600 font-bold bg-blue-50 dark:bg-blue-900/200"},$n={class:"font-mono text-xs text-white"},An={key:1,class:"px-2 py-1 text-right border border-blue-600 font-bold bg-blue-50 dark:bg-blue-900/200"},En={class:"font-mono text-xs text-white"},Sn={class:"bg-blue-800 border-b-2 border-blue-900"},Fn={key:1,class:"px-1 py-1 text-center border border-blue-700 bg-blue-800"},Cn={class:"bg-[#5FA8AF] border-b border-[#5FA8AF]"},Yn={key:1,class:"px-2 py-1 text-center border border-[#5FA8AF] bg-[#5FA8AF]"},On={key:0,class:"bg-white border-b border-blue-200 dark:border-blue-700"},Tn={class:"px-3 py-2 border-r border-blue-200 dark:border-blue-700"},Pn={class:"flex items-center gap-1"},Dn={class:"px-2 py-1 text-right border border-blue-200 dark:border-blue-700 bg-white"},Vn={class:"font-mono text-xs"},Bn={class:"px-2 py-1 text-right border border-blue-200 dark:border-blue-700 font-semibold bg-blue-50 dark:bg-blue-900/20"},Mn={class:"font-mono text-xs text-blue-700 dark:text-blue-300"},Ln={key:1,class:"px-2 py-1 text-right border border-blue-200 dark:border-blue-700 font-semibold bg-blue-50 dark:bg-blue-900/20"},jn={class:"font-mono text-xs text-blue-700 dark:text-blue-300"},Nn={class:"bg-blue-50 dark:bg-blue-900/200 border-b-2 border-blue-600"},In={class:"px-2 py-1 text-right border border-blue-600 font-semibold bg-blue-50 dark:bg-blue-900/200"},Jn={class:"font-mono text-xs text-white"},Un={class:"px-2 py-1 text-right border border-blue-600 font-semibold bg-blue-50 dark:bg-blue-900/200"},qn={class:"font-mono text-xs text-white"},Gn={class:"px-2 py-1 text-right border border-blue-600 font-bold bg-blue-50 dark:bg-blue-900/200"},zn={class:"font-mono text-xs text-white"},Hn={key:1,class:"px-2 py-1 text-right border border-blue-600 font-bold bg-blue-50 dark:bg-blue-900/200"},Wn={class:"font-mono text-xs text-white"},Kn={class:"bg-[#5FA8AF] border-b border-[#5FA8AF]"},Qn={key:1,class:"px-2 py-1 text-center border border-[#5FA8AF] bg-[#5FA8AF]"},Xn={key:12,class:"bg-blue-50 dark:bg-blue-900/20 border-b border-blue-200 dark:border-blue-700"},Zn={key:1,class:"px-2 py-1 text-center border border-blue-200 dark:border-blue-700 bg-blue-100 dark:bg-blue-800/30"},el={class:"px-3 py-2 border-r border-blue-200 dark:border-blue-700"},tl={class:"flex items-center gap-1"},rl={class:"px-2 py-1 text-right border border-blue-200 dark:border-blue-700 bg-white"},ol={class:"font-mono text-xs"},sl={class:"px-2 py-1 text-right border border-blue-200 dark:border-blue-700 font-semibold bg-blue-50 dark:bg-blue-900/20"},nl={class:"font-mono text-xs text-blue-700 dark:text-blue-300"},ll={key:1,class:"px-2 py-1 text-right border border-blue-200 dark:border-blue-700 font-semibold bg-blue-50 dark:bg-blue-900/20"},dl={class:"font-mono text-xs text-blue-700 dark:text-blue-300"},al={key:13,class:"bg-blue-50 dark:bg-blue-900/20 border-b border-blue-200 dark:border-blue-700"},il={key:1,class:"px-2 py-1 text-center border border-blue-200 dark:border-blue-700 bg-blue-100 dark:bg-blue-800/30"},ul={class:"px-3 py-2 border-r border-blue-200 dark:border-blue-700"},bl={class:"flex items-center gap-1"},cl={class:"px-2 py-1 text-right border border-blue-200 dark:border-blue-700 bg-white"},gl={class:"font-mono text-xs"},xl={class:"px-2 py-1 text-right border border-blue-200 dark:border-blue-700 font-semibold bg-blue-50 dark:bg-blue-900/20"},pl={class:"font-mono text-xs text-blue-700 dark:text-blue-300"},fl={key:1,class:"px-2 py-1 text-right border border-blue-200 dark:border-blue-700 font-semibold bg-blue-50 dark:bg-blue-900/20"},ml={class:"font-mono text-xs text-blue-700 dark:text-blue-300"},hl={class:"bg-blue-50 dark:bg-blue-900/200 border-b-2 border-blue-600"},vl={class:"px-2 py-1 text-right border border-blue-600 font-semibold bg-blue-50 dark:bg-blue-900/200"},kl={class:"font-mono text-xs text-white"},yl={class:"px-2 py-1 text-right border border-blue-600 font-semibold bg-blue-50 dark:bg-blue-900/200"},_l={class:"font-mono text-xs text-white"},Rl={class:"px-2 py-1 text-right border border-blue-600 font-bold bg-blue-50 dark:bg-blue-900/200"},wl={class:"font-mono text-xs text-white"},$l={key:1,class:"px-2 py-1 text-right border border-blue-600 font-bold bg-blue-50 dark:bg-blue-900/200"},Al={class:"font-mono text-xs text-white"},El={class:"bg-[#5FA8AF] border-b border-[#5FA8AF]"},Sl={key:1,class:"px-2 py-1 text-center border border-[#5FA8AF] bg-[#5FA8AF]"},Fl={key:14,class:"bg-white border-b border-blue-200 dark:border-blue-700"},Cl={class:"px-2 py-1 text-right border border-blue-200 dark:border-blue-700 bg-white"},Yl={class:"font-mono text-xs"},Ol={class:"px-2 py-1 text-right border border-blue-200 dark:border-blue-700 font-semibold bg-blue-50 dark:bg-blue-900/20"},Tl={class:"font-mono text-xs text-blue-700 dark:text-blue-300"},Pl={key:1,class:"px-2 py-1 text-right border border-blue-200 dark:border-blue-700 font-semibold bg-blue-50 dark:bg-blue-900/20"},Dl={class:"font-mono text-xs text-blue-700 dark:text-blue-300"},Vl={key:15,class:"bg-white border-b border-blue-200 dark:border-blue-700"},Bl={class:"px-2 py-1 text-right border border-blue-200 dark:border-blue-700 bg-white"},Ml={class:"font-mono text-xs"},Ll={class:"px-2 py-1 text-right border border-blue-200 dark:border-blue-700 font-semibold bg-blue-50 dark:bg-blue-900/20"},jl={class:"font-mono text-xs text-blue-700 dark:text-blue-300"},Nl={key:1,class:"px-2 py-1 text-right border border-blue-200 dark:border-blue-700 font-semibold bg-blue-50 dark:bg-blue-900/20"},Il={class:"font-mono text-xs text-blue-700 dark:text-blue-300"},Jl={key:16,class:"bg-white border-b border-blue-200 dark:border-blue-700"},Ul={class:"px-2 py-1 text-right border border-blue-200 dark:border-blue-700 bg-white"},ql={class:"font-mono text-xs"},Gl={class:"px-2 py-1 text-right border border-blue-200 dark:border-blue-700 font-semibold bg-blue-50 dark:bg-blue-900/20"},zl={class:"font-mono text-xs text-blue-700 dark:text-blue-300"},Hl={key:1,class:"px-2 py-1 text-right border border-blue-200 dark:border-blue-700 font-semibold bg-blue-50 dark:bg-blue-900/20"},Wl={class:"font-mono text-xs text-blue-700 dark:text-blue-300"},Kl={key:17,class:"bg-white border-b border-blue-200 dark:border-blue-700"},Ql={class:"px-2 py-1 text-right border border-blue-200 dark:border-blue-700 bg-white"},Xl={class:"font-mono text-xs"},Zl={class:"px-2 py-1 text-right border border-blue-200 dark:border-blue-700 font-semibold bg-blue-50 dark:bg-blue-900/20"},e0={class:"font-mono text-xs text-blue-700 dark:text-blue-300"},t0={key:1,class:"px-2 py-1 text-right border border-blue-200 dark:border-blue-700 font-semibold bg-blue-50 dark:bg-blue-900/20"},r0={class:"font-mono text-xs text-blue-700 dark:text-blue-300"},o0={key:18,class:"bg-white border-b border-blue-200 dark:border-blue-700"},s0={class:"px-2 py-1 text-right border border-blue-200 dark:border-blue-700 bg-white"},n0={class:"font-mono text-xs"},l0={class:"px-2 py-1 text-right border border-blue-200 dark:border-blue-700 font-semibold bg-blue-50 dark:bg-blue-900/20"},d0={class:"font-mono text-xs text-blue-700 dark:text-blue-300"},a0={key:1,class:"px-2 py-1 text-right border border-blue-200 dark:border-blue-700 font-semibold bg-blue-50 dark:bg-blue-900/20"},i0={class:"font-mono text-xs text-blue-700 dark:text-blue-300"},u0={key:19,class:"bg-white border-b border-blue-200 dark:border-blue-700"},b0={class:"px-2 py-1 text-right border border-blue-200 dark:border-blue-700 bg-white"},c0={class:"font-mono text-xs"},g0={class:"px-2 py-1 text-right border border-blue-200 dark:border-blue-700 font-semibold bg-blue-50 dark:bg-blue-900/20"},x0={class:"font-mono text-xs text-blue-700 dark:text-blue-300"},p0={key:1,class:"px-2 py-1 text-right border border-blue-200 dark:border-blue-700 font-semibold bg-blue-50 dark:bg-blue-900/20"},f0={class:"font-mono text-xs text-blue-700 dark:text-blue-300"},m0={key:20,class:"bg-white border-b border-blue-200 dark:border-blue-700"},h0={class:"px-2 py-1 text-right border border-blue-200 dark:border-blue-700 bg-white"},v0={class:"font-mono text-xs"},k0={class:"px-2 py-1 text-right border border-blue-200 dark:border-blue-700 font-semibold bg-blue-50 dark:bg-blue-900/20"},y0={class:"font-mono text-xs text-blue-700 dark:text-blue-300"},_0={key:1,class:"px-2 py-1 text-right border border-blue-200 dark:border-blue-700 font-semibold bg-blue-50 dark:bg-blue-900/20"},R0={class:"font-mono text-xs text-blue-700 dark:text-blue-300"},w0={key:21,class:"bg-white border-b border-blue-200 dark:border-blue-700"},$0={class:"px-2 py-1 text-right border border-blue-200 dark:border-blue-700 bg-white"},A0={class:"font-mono text-xs"},E0={class:"px-2 py-1 text-right border border-blue-200 dark:border-blue-700 font-semibold bg-blue-50 dark:bg-blue-900/20"},S0={class:"font-mono text-xs text-blue-700 dark:text-blue-300"},F0={key:1,class:"px-2 py-1 text-right border border-blue-200 dark:border-blue-700 font-semibold bg-blue-50 dark:bg-blue-900/20"},C0={class:"font-mono text-xs text-blue-700 dark:text-blue-300"},Y0={key:22,class:"bg-white border-b border-blue-200 dark:border-blue-700"},O0={class:"px-2 py-1 text-right border border-blue-200 dark:border-blue-700 bg-white"},T0={class:"font-mono text-xs"},P0={class:"px-2 py-1 text-right border border-blue-200 dark:border-blue-700 font-semibold bg-blue-50 dark:bg-blue-900/20"},D0={class:"font-mono text-xs text-blue-700 dark:text-blue-300"},V0={key:1,class:"px-2 py-1 text-right border border-blue-200 dark:border-blue-700 font-semibold bg-blue-50 dark:bg-blue-900/20"},B0={class:"font-mono text-xs text-blue-700 dark:text-blue-300"},M0={key:23,class:"bg-white border-b border-blue-200 dark:border-blue-700"},L0={class:"px-2 py-1 text-right border border-blue-200 dark:border-blue-700 bg-white"},j0={class:"font-mono text-xs"},N0={class:"px-2 py-1 text-right border border-blue-200 dark:border-blue-700 font-semibold bg-blue-50 dark:bg-blue-900/20"},I0={class:"font-mono text-xs text-blue-700 dark:text-blue-300"},J0={key:1,class:"px-2 py-1 text-right border border-blue-200 dark:border-blue-700 font-semibold bg-blue-50 dark:bg-blue-900/20"},U0={class:"font-mono text-xs text-blue-700 dark:text-blue-300"},q0={key:24,class:"bg-white border-b border-blue-200 dark:border-blue-700"},G0={class:"px-2 py-1 text-right border border-blue-200 dark:border-blue-700 bg-white"},z0={class:"font-mono text-xs"},H0={class:"px-2 py-1 text-right border border-blue-200 dark:border-blue-700 font-semibold bg-blue-50 dark:bg-blue-900/20"},W0={class:"font-mono text-xs text-blue-700 dark:text-blue-300"},K0={key:1,class:"px-2 py-1 text-right border border-blue-200 dark:border-blue-700 font-semibold bg-blue-50 dark:bg-blue-900/20"},Q0={class:"font-mono text-xs text-blue-700 dark:text-blue-300"},X0={key:25,class:"bg-white border-b border-blue-200 dark:border-blue-700"},Z0={class:"px-2 py-1 text-right border border-blue-200 dark:border-blue-700 bg-white"},ed={class:"font-mono text-xs"},td={class:"px-2 py-1 text-right border border-blue-200 dark:border-blue-700 font-semibold bg-blue-50 dark:bg-blue-900/20"},rd={class:"font-mono text-xs text-blue-700 dark:text-blue-300"},od={key:1,class:"px-2 py-1 text-right border border-blue-200 dark:border-blue-700 font-semibold bg-blue-50 dark:bg-blue-900/20"},sd={class:"font-mono text-xs text-blue-700 dark:text-blue-300"},nd={class:"bg-blue-50 dark:bg-blue-900/200 border-b-2 border-blue-600"},ld={class:"px-2 py-1 text-right border border-blue-600 font-semibold bg-blue-50 dark:bg-blue-900/200"},dd={class:"font-mono text-xs text-white"},ad={class:"px-2 py-1 text-right border border-blue-600 font-semibold bg-blue-50 dark:bg-blue-900/200"},id={class:"font-mono text-xs text-white"},ud={class:"px-2 py-1 text-right border border-blue-600 font-bold bg-blue-50 dark:bg-blue-900/200"},bd={class:"font-mono text-xs text-white"},cd={key:1,class:"px-2 py-1 text-right border border-blue-600 font-bold bg-blue-50 dark:bg-blue-900/200"},gd={class:"font-mono text-xs text-white"},xd={class:"bg-[#5FA8AF] border-b border-[#5FA8AF]"},pd={key:1,class:"px-2 py-1 text-center border border-[#5FA8AF] bg-[#5FA8AF]"},fd={key:26,class:"bg-white border-b border-blue-200 dark:border-blue-700"},md={class:"px-2 py-1 text-right border border-blue-200 dark:border-blue-700 bg-white"},hd={class:"font-mono text-xs"},vd={class:"px-2 py-1 text-right border border-blue-200 dark:border-blue-700 bg-white"},kd={class:"font-mono text-xs text-blue-600"},yd={class:"px-2 py-1 text-right border border-blue-200 dark:border-blue-700 font-semibold bg-blue-50 dark:bg-blue-900/20"},_d={class:"font-mono text-xs text-blue-700 dark:text-blue-300"},Rd={key:1,class:"px-2 py-1 text-right border border-blue-200 dark:border-blue-700 bg-white"},wd={class:"font-mono text-xs text-blue-700 dark:text-blue-300"},$d={class:"bg-gray-100 border-b border-gray-200"},Ad={key:1,class:"px-2 py-1 text-center border border-gray-200 bg-gray-100"},Ed={class:"bg-red-600 border-b-2 border-red-700"},Sd={class:"px-2 py-1 text-right border border-red-700 font-semibold bg-red-600"},Fd={class:"font-mono text-xs text-white"},Cd={class:"px-2 py-1 text-right border border-red-700 font-semibold bg-red-600"},Yd={class:"font-mono text-xs text-red-200"},Od={class:"px-2 py-1 text-right border border-red-700 font-bold bg-red-600"},Td={class:"font-mono text-xs text-white"},Pd={key:1,class:"px-2 py-1 text-right border border-red-700 font-bold bg-red-600"},Dd={class:"font-mono text-xs text-white"},Vd={class:"bg-blue-50 dark:bg-blue-900/200 border-b-2 border-blue-600"},Bd={class:"px-2 py-1 text-right border border-blue-600 font-semibold bg-blue-50 dark:bg-blue-900/200"},Md={class:"font-mono text-xs text-white"},Ld={class:"px-2 py-1 text-right border border-blue-600 font-semibold bg-blue-50 dark:bg-blue-900/200"},jd={class:"font-mono text-xs text-blue-200"},Nd={class:"px-2 py-1 text-right border border-blue-600 font-bold bg-blue-50 dark:bg-blue-900/200"},Id={class:"font-mono text-xs text-white"},Jd={key:1,class:"px-2 py-1 text-right border border-blue-600 font-bold bg-blue-50 dark:bg-blue-900/200"},Ud={class:"font-mono text-xs text-white"},qd={__name:"RoomProfitLoss",props:{visibleYears:{type:Array,required:!0}},setup(k){const x=k,y=Ct(),{advancedModes:C}=St(y),m=Rt();function f(){try{return localStorage.getItem("marketSegmentation")==="true"}catch(b){return!1}}const F=ve(()=>{var n;return((n=z.value)==null?void 0:n.project_name)||"Project Name"});qe(z,()=>{A()},{deep:!0}),Ft(()=>{var b;A(),console.log("Room P&L: Component mounted, data should be loaded by parent component"),(b=z.value)!=null&&b.project_name&&(console.log("Room P&L: Debugging cache access for project:",z.value.project_name),console.log("Room P&L: Available cache pages:",Object.keys(m.cache[z.value.project_name]||{})))});const h=I({}),v=ve(()=>{try{const b=new Set;if(F.value){const s=m.getRowValues(F.value,"Expense Assumptions:Room");if(s&&Object.keys(s).length>0&&(Object.values(s).forEach(u=>{Object.values(u).forEach(w=>{Object.keys(w).forEach(S=>{S&&b.add(S)})})}),b.size>0))return console.log("[ROOM P&L] Found",b.size,"room expenses in calculation cache"),Array.from(b)}const n=h.value||{};for(const[s,u]of Object.entries(n))for(const[w,S]of Object.entries(u))(S||[]).forEach(a=>{const d=(a.department||"").toLowerCase();if(d==="room"||d==="rooms"){const o=a.expense;o&&b.add(o)}});return Array.from(b)}catch(b){return[]}});function p(b){const n=Number(b);return isNaN(n)?0:n}function A(){return G(this,null,function*(){try{if(F.value){const n=m.getRowValues(F.value,"Expense Assumptions:Room");if(n&&Object.keys(n).length>0){console.log("[ROOM P&L] Using cached expense data for room department");const s={};Object.entries(n).forEach(([u,w])=>{s[u]={},Object.entries(w).forEach(([S,a])=>{s[u][S]=Object.entries(a).map(([d,o])=>({expense:d,amount:o,department:"Room"}))})}),h.value=s;return}}console.log("[ROOM P&L] No cached data found, loading from API");const b=yield hr();b&&!b.status?h.value=b:h.value={}}catch(b){h.value={}}})}function R(b){return p(b).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}function j(b){return p(b).toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:0})}function q(b){return p(b).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}function K(b){y.toggleCollapse(b)}function Y(b){return y.isYearCollapsed(b)}function E(b){const n=C.value[b]||"monthly";return n==="monthly"?["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]:n==="quarterly"?["Jan-Mar","Apr-Jun","Jul-Sep","Oct-Dec"]:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}function ee(b,n,s){var u,w;try{const S=J(n);let a=0;for(const d of S){const o=m.getValue(F.value,"Expense Assumptions:Room",s,b,d);if(o>0){a+=o;continue}const _=(((w=(u=h.value)==null?void 0:u[b])==null?void 0:w[d])||[]).filter(T=>{const U=(T.department||"").toLowerCase();return(U==="room"||U==="rooms")&&T.expense===s});a+=_.reduce((T,U)=>T+p(U.amount),0)}return a}catch(S){return 0}}function fe(b,n){try{return E(b).reduce((u,w)=>u+p(ee(b,w,n)),0)}catch(s){return 0}}function te(b){if(!x.visibleYears||x.visibleYears.length===0)return!1;for(const n of x.visibleYears){const s=E(n);for(const u of s)if(ee(n,u,b)>0)return!0}return!1}function be(b,n){try{let s=0;for(const u of v.value)s+=p(ee(b,n,u));return s}catch(s){return 0}}function ce(b){try{return E(b).reduce((s,u)=>s+p(be(b,u)),0)}catch(n){return 0}}function me(b,n){try{const s=be(b,n),u=ae(b,n);return u>0?Number((s/u*100).toFixed(2)):0}catch(s){return console.error("Error calculating gross room expenses percentage:",s),0}}function re(b,n){try{const s=localStorage.getItem("marketSegmentation")==="true",u=m.getValue(F.value,"Room Revenue Assumptions","Total Rooms",b,n);return u!=null?(console.log(`Room P&L: Retrieved room count for ${b}/${n}:`,u,"Market segmentation:",s),p(u)):(console.log(`Room P&L: No cached room count found for ${b}/${n}`),console.log(`Room P&L: Available cache for project ${F.value}:`,Object.keys(m.cache[F.value]||{})),console.log("Room P&L: Using default room count: 100"),100)}catch(s){return console.error("Error fetching room count:",s),100}}function Ge(b){try{const n=E(b);let s=0;for(const u of n){const w=re(b,u);s+=p(w)}return s}catch(n){return console.error("Error calculating total rooms:",n),0}}function ge(b,n){return n==="Jan"||n==="Mar"||n==="May"||n==="Jul"||n==="Aug"||n==="Oct"||n==="Dec"?31:n==="Apr"||n==="Jun"||n==="Sep"||n==="Nov"?30:n==="Feb"?28:n==="Jan-Mar"?90:n==="Apr-Jun"?91:n==="Jul-Sep"||n==="Oct-Dec"?92:30}function Pe(b){return E(b).reduce((s,u)=>s+p(ge(b,u)),0)}function ne(b,n){try{let s=m.getValue(F.value,"F&B Revenue Assumptions","Number of rooms available",b,n);if(console.log(`Room P&L: Available Rooms cache lookup for ${b}/${n}:`,{projectName:F.value,cacheKey:"Number of rooms available",cachedValue:s,cacheExists:s!=null}),s!=null)return p(s);if(localStorage.getItem("marketSegmentation")==="true"){const d=m.getValue(F.value,"Room Revenue Assumptions","Total Rooms",b,n);if(d!=null){const o=ge(b,n),i=p(d)*o;return console.log("Room P&L: Calculated from Room Revenue Total Rooms:",{totalRooms:d,days:o,calculatedValue:i}),i}}const w=re(b,n),S=ge(b,n),a=w*S;return console.log("Room P&L: Using fallback calculation for available rooms:",{rooms:w,days:S,fallbackValue:a}),a}catch(s){console.error("Error fetching available rooms:",s);const u=re(b,n),w=ge(b,n);return u*w}}function De(b){return E(b).reduce((s,u)=>s+p(ne(b,u)),0)}function M(b,n){try{const s=m.getValue(F.value,"F&B Revenue Assumptions","Number of rooms sold (excl.)",b,n);if(console.log(`Room P&L: Sold Rooms cache lookup for ${b}/${n}:`,{projectName:F.value,cacheKey:"Number of rooms sold (excl.)",cachedValue:s,cacheExists:s!=null}),s!=null)return p(s);const u=m.getValue(F.value,"F&B Revenue Assumptions","Occupancy (excl.) %",b,n);if(u!=null){const a=ne(b,n),d=Math.round(p(u)/100*a);return console.log("Room P&L: Calculated sold rooms from occupancy:",{occupancy:u,availableRooms:a,calculatedSoldRooms:d}),d}const w=ne(b,n),S=Math.round(w*.75);return console.log("Room P&L: Using placeholder 75% occupancy for sold rooms:",{availableRooms:w,placeholderSoldRooms:S}),S}catch(s){return console.error("Error fetching sold rooms:",s),0}}function Ve(b){return E(b).reduce((s,u)=>s+p(M(b,u)),0)}function Fe(b,n){try{const s=m.getValue(F.value,"F&B Revenue Assumptions","Occupancy (excl.) %",b,n);if(s!=null)return p(s);const u=M(b,n),w=ne(b,n);return w>0?Number((u/w*100).toFixed(2)):0}catch(s){return console.error("Error fetching occupancy percentage:",s),0}}function ke(b){const n=E(b),s=n.reduce((w,S)=>w+p(M(b,S)),0),u=n.reduce((w,S)=>w+p(ne(b,S)),0);return u>0?Number((s/u*100).toFixed(2)):0}function Be(b,n){try{const s=m.getValue(F.value,"F&B Revenue Assumptions","Number of guests",b,n);return s!=null?p(s):0}catch(s){return console.error("Error fetching number of guests:",s),0}}function xe(b){return E(b).reduce((s,u)=>s+p(Be(b,u)),0)}function Me(b,n){try{const s=m.getValue(F.value,"F&B Revenue Assumptions","Total Covers",b,n);return s!=null?p(s):0}catch(s){return console.error("Error fetching number of covers:",s),0}}function ze(b){return E(b).reduce((s,u)=>s+p(Me(b,u)),0)}function ye(b,n){try{const s=m.getValue(F.value,"F&B Revenue Assumptions","Average Spent Per F&B Customer",b,n);return s!=null?p(s):0}catch(s){return console.error("Error fetching average F&B spent:",s),0}}function He(b){const n=E(b),s=n.reduce((u,w)=>u+p(ye(b,w)),0);return s>0?s/n.length:0}function Ce(b,n){try{const s=m.getValue(F.value,"F&B Revenue Assumptions","Average Room Rate",b,n);return s!=null?p(s):0}catch(s){return console.error("Error fetching average room rate:",s),0}}function Le(b){const n=E(b),s=n.reduce((u,w)=>u+p(Ce(b,w)),0);return s>0?s/n.length:0}function je(b,n){try{const s=m.getValue(F.value,"F&B Revenue Assumptions","Revenue Per Available Room",b,n);if(s!=null)return p(s);const u=M(b,n),w=Ce(b,n),S=ne(b,n);return S>0?u*w/S:0}catch(s){return console.error("Error fetching revenue per available room:",s),0}}function We(b){const n=E(b),s=n.reduce((u,w)=>u+p(je(b,w)),0);return s>0?s/n.length:0}function _e(){if(!x.visibleYears||x.visibleYears.length===0)return!1;for(const b of x.visibleYears){const n=E(b);for(const s of n)if(re(b,s)>0)return!0}return!1}function Ye(){if(!x.visibleYears||x.visibleYears.length===0)return!1;for(const b of x.visibleYears){const n=E(b);for(const s of n)if(ge(b,s)>0)return!0}return!1}function Ne(){if(!x.visibleYears||x.visibleYears.length===0)return!1;for(const b of x.visibleYears){const n=E(b);for(const s of n)if(ne(b,s)>0)return!0}return!1}function Ke(){if(!x.visibleYears||x.visibleYears.length===0)return!1;for(const b of x.visibleYears){const n=E(b);for(const s of n)if(M(b,s)>0)return!0}return!1}function Oe(){if(!x.visibleYears||x.visibleYears.length===0)return!1;for(const b of x.visibleYears){const n=E(b);for(const s of n)if(Fe(b,s)>0)return!0}return!1}function O(){if(!x.visibleYears||x.visibleYears.length===0)return!1;for(const b of x.visibleYears){const n=E(b);for(const s of n)if(Be(b,s)>0)return!0}return!1}function $(){if(!x.visibleYears||x.visibleYears.length===0)return!1;for(const b of x.visibleYears){const n=E(b);for(const s of n)if(Me(b,s)>0)return!0}return!1}function B(){if(!x.visibleYears||x.visibleYears.length===0)return!1;for(const b of x.visibleYears){const n=E(b);for(const s of n)if(ye(b,s)>0)return!0}return!1}function H(){if(!x.visibleYears||x.visibleYears.length===0)return!1;for(const b of x.visibleYears){const n=E(b);for(const s of n)if(Ce(b,s)>0)return!0}return!1}function W(){if(!x.visibleYears||x.visibleYears.length===0)return!1;for(const b of x.visibleYears){const n=E(b);for(const s of n)if(je(b,s)>0)return!0}return!1}function J(b){return b==="Jan-Mar"?["Jan","Feb","Mar"]:b==="Apr-Jun"?["Apr","May","Jun"]:b==="Jul-Sep"?["Jul","Aug","Sep"]:b==="Oct-Dec"?["Oct","Nov","Dec"]:[b]}function le(b){try{if(!b||!b.startsWith("MonthlySalary|"))return null;const n=/^MonthlySalary\|position:(.*?)\|location:(.*?)\|designation:(.*)$/,s=b.match(n);return s?{position:(s[1]||"").trim(),location:(s[2]||"").trim(),designation:(s[3]||"").trim()}:null}catch(n){return null}}function Q(b){if(!b)return!1;const n=b.toLowerCase();return n.includes("manager")&&!n.includes("non-manager")||n.includes("director")||n.includes("supervisor")}const ie=ve(()=>{var b,n;try{const s=F.value,u="Payroll",w=((n=(b=m==null?void 0:m.cache)==null?void 0:b[s])==null?void 0:n[u])||{},S=new Set;return console.log(`Room P&L: Looking for payroll management data in page "${u}"`),console.log("Room P&L: Available row codes:",Object.keys(w)),Object.keys(w).forEach(a=>{const d=le(a);d&&Q(d.position)&&d.location&&S.add(d.location)}),console.log(`Room P&L: Found ${S.size} management locations:`,Array.from(S)),Array.from(S)}catch(s){return console.error("Room P&L: Error discovering payroll management locations:",s),[]}}),de=ve(()=>{var b,n;try{const s=F.value,u="Payroll",w=((n=(b=m==null?void 0:m.cache)==null?void 0:b[s])==null?void 0:n[u])||{},S=new Set;return console.log(`Room P&L: Looking for payroll non-management data in page "${u}"`),console.log("Room P&L: Available row codes:",Object.keys(w)),Object.keys(w).forEach(a=>{const d=le(a);d&&!Q(d.position)&&d.location&&S.add(d.location)}),console.log(`Room P&L: Found ${S.size} non-management locations:`,Array.from(S)),Array.from(S)}catch(s){return console.error("Room P&L: Error discovering payroll non-management locations:",s),[]}});function ue(b,n,s,u){var w,S;try{const a=F.value,d="Payroll",o=((S=(w=m==null?void 0:m.cache)==null?void 0:w[a])==null?void 0:S[d])||{},i=J(n);let _=0;return Object.keys(o).forEach(T=>{const U=le(T);if(!U||!U.location||U.location!==s)return;const Z=Q(U.position);if(!(u==="management"&&!Z||u==="non-management"&&Z))for(const Se of i){const Ue=m.getValue(a,d,T,b,Se);Ue!=null&&(_+=p(Ue))}}),_}catch(a){return 0}}function he(b,n,s){try{return E(b).reduce((w,S)=>w+p(ue(b,S,n,s)),0)}catch(u){return 0}}function st(b){try{const n=b==="management"?ie.value:de.value;if(!n||n.length===0)return!1;for(const s of Array.isArray(x.visibleYears)?x.visibleYears:[])for(const u of n){const w=he(s,u,b);if(p(w)>0)return!0}return!1}catch(n){return!1}}function Re(b,n){try{let s=0;for(const u of ie.value)s+=p(ue(b,n,u,"management"));for(const u of de.value)s+=p(ue(b,n,u,"non-management"));return s}catch(s){return console.error("Error calculating total payroll:",s),0}}function nt(b){try{return E(b).reduce((s,u)=>s+p(Re(b,u)),0)}catch(n){return console.error("Error calculating total payroll for year:",n),0}}function lt(b,n){try{const s=Re(b,n),u=ae(b,n);return u>0?Number((s/u*100).toFixed(2)):0}catch(s){return console.error("Error calculating total payroll percentage:",s),0}}const Qe=ve(()=>{var b,n;try{const s=F.value,u="Market Segmentation",w=((n=(b=m==null?void 0:m.cache)==null?void 0:b[s])==null?void 0:n[u])||{},S=new Set;return console.log(`Room P&L: Looking for market segmentation data in page "${u}"`),console.log("Room P&L: Available row codes:",Object.keys(w)),Object.keys(w).forEach(a=>{if(a.startsWith("Room Revenue:")){const d=a.replace("Room Revenue:","").trim();d&&S.add(d)}}),console.log(`Room P&L: Found ${S.size} market segments:`,Array.from(S)),Array.from(S)}catch(s){return console.error("Room P&L: Error discovering room revenue segments:",s),[]}});function pe(b,n,s){try{const u=F.value,w=J(n);let S=0;for(const a of w){const d=m.getValue(u,"Market Segmentation",`Room Revenue:${s}`,b,a);d!=null&&(S+=p(d))}return S}catch(u){return console.error("Error fetching segment revenue:",s,u),0}}function Ie(b,n){try{const s=F.value,u=m.getValue(s,"Market Segmentation",`Room Revenue Year:${n}`,b,"ALL");return u!=null?p(u):E(b).reduce((S,a)=>S+p(pe(b,a,n)),0)}catch(s){return E(b).reduce((w,S)=>w+p(pe(b,S,n)),0)}}function Xe(b,n,s){try{const u=pe(b,n,s),w=Ae(b);return w>0?Number((u/w*100).toFixed(2)):0}catch(u){return console.error("Error calculating segment revenue percentage:",u),0}}function dt(b){if(!x.visibleYears||x.visibleYears.length===0)return!1;for(const n of x.visibleYears){const s=E(n);for(const u of s)if(pe(n,u,b)>0)return!0}return!1}const Ze=ve(()=>{var b,n;try{const s=F.value,u="Room Revenue Assumptions",w=((n=(b=m==null?void 0:m.cache)==null?void 0:b[s])==null?void 0:n[u])||{},S=new Set;return console.log(`Room P&L: Looking for room type packages in page "${u}"`),console.log("Room P&L: Available row codes:",Object.keys(w)),Object.keys(w).forEach(a=>{if(a.startsWith("Room Type:")){const d=a.replace("Room Type:","").trim();d&&S.add(d)}}),console.log(`Room P&L: Found ${S.size} room type packages:`,Array.from(S)),Array.from(S)}catch(s){return console.error("Room P&L: Error discovering room type packages:",s),[]}});function we(b,n,s){try{const u=F.value,w=J(n);let S=0;for(const a of w){const d=m.getValue(u,"Room Revenue Assumptions",`Room Type:${s}`,b,a);d!=null&&(S+=p(d))}return S}catch(u){return console.error("Error fetching Room Type revenue:",s,u),0}}function $e(b,n){try{const s=F.value,u=m.getValue(s,"Room Revenue Assumptions",`Room Type Year:${n}`,b,"ALL");return u!=null?p(u):E(b).reduce((S,a)=>S+p(we(b,a,n)),0)}catch(s){return E(b).reduce((w,S)=>w+p(we(b,S,n)),0)}}function pt(b,n,s){try{const u=we(b,n,s),w=Ae(b);return w>0?Number((u/w*100).toFixed(2)):0}catch(u){return console.error("Error calculating room type revenue percentage:",u),0}}function at(b){if(!x.visibleYears||x.visibleYears.length===0)return!1;for(const n of x.visibleYears){const s=E(n);for(const u of s)if(we(n,u,b)>0)return!0}return!1}function ae(b,n){try{return f()?Qe.value.reduce((s,u)=>s+p(pe(b,n,u)),0):Ze.value.reduce((s,u)=>s+p(we(b,n,u)),0)}catch(s){return console.error("Error calculating total rooms revenue:",s),0}}function Ae(b){if(f()){const u=Qe.value.map(w=>Ie(b,w)).reduce((w,S)=>w+p(S),0);if(u>0)return u}else{const u=Ze.value.map(w=>$e(b,w)).reduce((w,S)=>w+p(S),0);if(u>0)return u}return E(b).reduce((s,u)=>s+p(ae(b,u)),0)}function X(b,n,s){try{const u=F.value,w=J(n);let S=0;const d={NSSIT:{page:"Payroll Taxes",rowCode:"NSSIT"},Vacation:{page:"Payroll Related",rowCode:"hotel | vacation"},Relocation:{page:"Payroll Related",rowCode:"hotel | relocation"},"Severence & Indemnity":{page:"Payroll Related",rowCode:"hotel | severence & indemnity"},Other:{page:"Payroll Related",rowCode:"hotel | other"},Medical:{page:"Payroll Related",rowCode:"category: Rooms | medical"},Uniforms:{page:"Payroll Related",rowCode:"category: Rooms | uniforms"},"Employee Meal":{page:"Payroll Related",rowCode:"category: Rooms | employee_meal"},Transport:{page:"Payroll Related",rowCode:"category: Rooms | transport"},Telephone:{page:"Payroll Related",rowCode:"category: Rooms | telephone"},"Air Ticket":{page:"Payroll Related",rowCode:"category: Rooms | air_ticket"},"Other Benefits":{page:"Payroll Related",rowCode:"category: Rooms | other_benefits"}}[s];if(!d)return 0;for(const o of w){const i=m.getValue(u,d.page,d.rowCode,b,o);i!=null&&(S+=p(i))}return S}catch(u){return console.error("Error fetching payroll related value:",s,u),0}}function L(b,n){try{return E(b).reduce((u,w)=>u+p(X(b,w,n)),0)}catch(s){return console.error("Error calculating payroll related total:",n,s),0}}function oe(b){if(!x.visibleYears||x.visibleYears.length===0)return!1;for(const n of x.visibleYears){const s=E(n);for(const u of s)if(X(n,u,b)>0)return!0}return!1}function Ee(b,n){try{const s=F.value,u=J(n);let w=0;for(const S of u){const a=m.getValue(s,"Bonus","Total Hotel",b,S);a!=null&&(w+=p(a))}return w}catch(s){return console.error("Error fetching bonus value:",s),0}}function it(b){try{const n=F.value,s=m.getValue(n,"Bonus","Total Hotel",b,"Total");return s!=null?p(s):E(b).reduce((w,S)=>w+p(Ee(b,S)),0)}catch(n){return console.error("Error calculating bonus total for year:",n),0}}function ut(b,n){try{const s=Ee(b,n),u=ae(b,n);return u>0?Number((s/u*100).toFixed(2)):0}catch(s){return console.error("Error calculating bonus percentage:",s),0}}function Je(b,n){try{const s=["NSSIT","Vacation","Relocation","Severence & Indemnity","Other","Medical","Uniforms","Employee Meal","Transport","Telephone","Air Ticket","Other Benefits"];let u=0;for(const w of s)u+=p(X(b,n,w));return u}catch(s){return console.error("Error calculating total payroll related expenses:",s),0}}function et(b){try{return E(b).reduce((s,u)=>s+p(Je(b,u)),0)}catch(n){return console.error("Error calculating total payroll related expenses for year:",n),0}}function ft(b,n){try{const s=Je(b,n),u=ae(b,n);return u>0?Number((s/u*100).toFixed(2)):0}catch(s){return console.error("Error calculating total payroll related expenses percentage:",s),0}}function Te(b,n){try{let s=0;return s+=p(be(b,n)),s+=p(Re(b,n)),s+=p(Je(b,n)),s+=p(Ee(b,n)),s}catch(s){return console.error("Error calculating total expenses:",s),0}}function bt(b){try{return E(b).reduce((s,u)=>s+p(Te(b,u)),0)}catch(n){return console.error("Error calculating total expenses for year:",n),0}}function ct(b,n){try{const s=Te(b,n),u=ae(b,n);return u>0?Number((s/u*100).toFixed(2)):0}catch(s){return console.error("Error calculating total expenses percentage:",s),0}}function tt(b,n){try{const s=p(ae(b,n)),u=p(Te(b,n));return s-u}catch(s){return console.error("Error calculating departmental income:",s),0}}function rt(b){try{return E(b).reduce((s,u)=>s+p(tt(b,u)),0)}catch(n){return console.error("Error calculating departmental income for year:",n),0}}function mt(b,n){try{const s=tt(b,n),u=ae(b,n);return u>0?Number((s/u*100).toFixed(2)):0}catch(s){return console.error("Error calculating departmental income percentage:",s),0}}function ht(){if(!x.visibleYears||x.visibleYears.length===0)return!1;for(const b of x.visibleYears){const n=E(b);for(const s of n)if(Ee(b,s)>0)return!0}return!1}return(b,n)=>(t(),r("div",Wr,[e("div",Kr,[e("div",Qr,[e("table",Xr,[e("thead",Zr,[e("tr",eo,[e("td",{colspan:1+k.visibleYears.reduce((s,u)=>s+(Y(u)?1:E(u).length*2+1),0),class:"px-6 py-4 text-center"},[e("div",ro,[P(D(Ut),{class:"w-6 h-6 text-blue-200"}),e("h1",oo,c(F.value),1)])],8,to)]),e("tr",so,[e("td",{colspan:1+k.visibleYears.reduce((s,u)=>s+(Y(u)?1:E(u).length*2+1),0),class:"px-6 py-4 text-center"},n[0]||(n[0]=[e("div",{class:"flex items-center justify-center gap-2"},[e("h2",{class:"text-xl font-semibold tracking-wide"},"Room Profit & Loss Report")],-1)]),8,no)]),e("tr",null,[n[1]||(n[1]=e("th",{rowspan:"2",class:"px-3 py-2 text-left align-middle border-r border-blue-400 font-semibold text-sm min-w-[200px]"},[e("div",{class:"flex items-center gap-1"}," Details ")],-1)),(t(!0),r(l,null,g(k.visibleYears,s=>(t(),r("th",{key:"header-"+s,colspan:Y(s)?1:E(s).length*2+1,class:"px-2 py-2 text-center border-x-2 border-white cursor-pointer select-none hover:bg-blue-700 transition-all duration-200 group text-sm",onClick:u=>K(s),title:"Click to collapse/expand"},[e("div",ao,[e("span",io,c(s),1),Y(s)?(t(),ot(D(qt),{key:1,class:"w-3 h-3 transition-transform group-hover:scale-110"})):(t(),ot(D(Yt),{key:0,class:"w-3 h-3 transition-transform group-hover:scale-110"}))])],8,lo))),128))]),e("tr",uo,[(t(!0),r(l,null,g(k.visibleYears,s=>(t(),r(l,{key:"months-"+s},[Y(s)?(t(),r("th",xo,[e("div",po,[P(D(xt),{class:"w-2 h-2"}),n[4]||(n[4]=N(" Total ",-1))])])):(t(),r(l,{key:0},[(t(!0),r(l,null,g(E(s),u=>(t(),r(l,{key:s+"-"+u},[e("th",bo,c(u),1),n[2]||(n[2]=e("th",{class:"px-2 py-1 text-center border border-blue-300 min-w-[80px] font-medium text-blue-200"}," % ",-1))],64))),128)),e("th",co,[e("div",go,[P(D(xt),{class:"w-2 h-2"}),n[3]||(n[3]=N(" Total ",-1))])])],64))],64))),128))])]),e("tbody",fo,[e("tr",mo,[n[8]||(n[8]=e("td",{colspan:"2",class:"px-3 py-3 font-bold text-white border-r border-blue-700"},[e("div",{class:"flex items-center gap-2"}," Statistics ")],-1)),(t(!0),r(l,null,g(k.visibleYears,s=>(t(),r(l,{key:"stats-divider-"+s},[Y(s)?(t(),r("td",ho)):(t(),r(l,{key:0},[(t(!0),r(l,null,g(E(s),u=>(t(),r(l,{key:"stats-divider-cell-"+s+"-"+u},[n[5]||(n[5]=e("td",{class:"px-1 py-1 text-center border border-blue-700 bg-blue-800"},null,-1)),n[6]||(n[6]=e("td",{class:"px-1 py-1 text-center border border-blue-700 bg-blue-800"},null,-1))],64))),128)),n[7]||(n[7]=e("td",{class:"px-1 py-1 text-center border border-blue-700 bg-blue-800"},null,-1))],64))],64))),128))]),_e()?(t(),r("tr",vo,[n[10]||(n[10]=e("td",{class:"px-3 py-2 font-medium border-r border-blue-200 dark:border-blue-700"},[e("div",{class:"flex items-center gap-1"}," NO OF ROOMS ")],-1)),(t(!0),r(l,null,g(k.visibleYears,s=>(t(),r(l,{key:"no-rooms-"+s},[Y(s)?(t(),r("td",wo,[e("span",$o,c(j(Ge(s))),1)])):(t(),r(l,{key:0},[(t(!0),r(l,null,g(E(s),u=>(t(),r(l,{key:"no-rooms-cell-"+s+"-"+u},[e("td",ko,[e("span",yo,c(j(re(s,u))),1)]),n[9]||(n[9]=e("td",{class:"px-2 py-1 text-right border border-blue-200 dark:border-blue-700 bg-blue-50 dark:bg-blue-900/20"},null,-1))],64))),128)),e("td",_o,[e("span",Ro,c(j(Ge(s))),1)])],64))],64))),128))])):V("",!0),Ye()?(t(),r("tr",Ao,[n[12]||(n[12]=e("td",{class:"px-3 py-2 font-medium border-r border-blue-200 dark:border-blue-700"},[e("div",{class:"flex items-center gap-1"}," NO OF DAYS ")],-1)),(t(!0),r(l,null,g(k.visibleYears,s=>(t(),r(l,{key:"no-days-"+s},[Y(s)?(t(),r("td",Yo,[e("span",Oo,c(j(Pe(s))),1)])):(t(),r(l,{key:0},[(t(!0),r(l,null,g(E(s),u=>(t(),r(l,{key:"no-days-cell-"+s+"-"+u},[e("td",Eo,[e("span",So,c(j(ge(s,u))),1)]),n[11]||(n[11]=e("td",{class:"px-2 py-1 text-right border border-blue-200 dark:border-blue-700 bg-blue-50 dark:bg-blue-900/20"},null,-1))],64))),128)),e("td",Fo,[e("span",Co,c(j(Pe(s))),1)])],64))],64))),128))])):V("",!0),Ne()?(t(),r("tr",To,[n[14]||(n[14]=e("td",{class:"px-3 py-2 font-medium border-r border-blue-200 dark:border-blue-700"},[e("div",{class:"flex items-center gap-1"}," AVAILABLE ROOMS ")],-1)),(t(!0),r(l,null,g(k.visibleYears,s=>(t(),r(l,{key:"available-rooms-"+s},[Y(s)?(t(),r("td",Mo,[e("span",Lo,c(j(De(s))),1)])):(t(),r(l,{key:0},[(t(!0),r(l,null,g(E(s),u=>(t(),r(l,{key:"available-rooms-cell-"+s+"-"+u},[e("td",Po,[e("span",Do,c(j(ne(s,u))),1)]),n[13]||(n[13]=e("td",{class:"px-2 py-1 text-right border border-blue-200 dark:border-blue-700 bg-blue-50 dark:bg-blue-900/20"},null,-1))],64))),128)),e("td",Vo,[e("span",Bo,c(j(De(s))),1)])],64))],64))),128))])):V("",!0),Ke()?(t(),r("tr",jo,[n[16]||(n[16]=e("td",{class:"px-3 py-2 font-medium border-r border-blue-200 dark:border-blue-700"},[e("div",{class:"flex items-center gap-1"}," SOLD ROOMS (excl. comp) ")],-1)),(t(!0),r(l,null,g(k.visibleYears,s=>(t(),r(l,{key:"sold-rooms-"+s},[Y(s)?(t(),r("td",qo,[e("span",Go,c(j(Ve(s))),1)])):(t(),r(l,{key:0},[(t(!0),r(l,null,g(E(s),u=>(t(),r(l,{key:"sold-rooms-cell-"+s+"-"+u},[e("td",No,[e("span",Io,c(j(M(s,u))),1)]),n[15]||(n[15]=e("td",{class:"px-2 py-1 text-right border border-blue-200 dark:border-blue-700 bg-blue-50 dark:bg-blue-900/20"},null,-1))],64))),128)),e("td",Jo,[e("span",Uo,c(j(Ve(s))),1)])],64))],64))),128))])):V("",!0),Oe()?(t(),r("tr",zo,[n[18]||(n[18]=e("td",{class:"px-3 py-2 font-medium border-r border-blue-200 dark:border-blue-700"},[e("div",{class:"flex items-center gap-1"}," ROOM OCCUPANCY % ")],-1)),(t(!0),r(l,null,g(k.visibleYears,s=>(t(),r(l,{key:"occupancy-"+s},[Y(s)?(t(),r("td",Xo,[e("span",Zo,c(q(ke(s)))+"%",1)])):(t(),r(l,{key:0},[(t(!0),r(l,null,g(E(s),u=>(t(),r(l,{key:"occupancy-cell-"+s+"-"+u},[e("td",Ho,[e("span",Wo,c(q(Fe(s,u)))+"%",1)]),n[17]||(n[17]=e("td",{class:"px-2 py-1 text-right border border-blue-200 dark:border-blue-700 bg-blue-50 dark:bg-blue-900/20"},null,-1))],64))),128)),e("td",Ko,[e("span",Qo,c(q(ke(s)))+"%",1)])],64))],64))),128))])):V("",!0),O()?(t(),r("tr",es,[n[20]||(n[20]=e("td",{class:"px-3 py-2 font-medium border-r border-blue-200 dark:border-blue-700"},[e("div",{class:"flex items-center gap-1"}," NUMBER OF GUESTS ")],-1)),(t(!0),r(l,null,g(k.visibleYears,s=>(t(),r(l,{key:"guests-"+s},[Y(s)?(t(),r("td",ns,[e("span",ls,c(j(xe(s))),1)])):(t(),r(l,{key:0},[(t(!0),r(l,null,g(E(s),u=>(t(),r(l,{key:"guests-cell-"+s+"-"+u},[e("td",ts,[e("span",rs,c(j(Be(s,u))),1)]),n[19]||(n[19]=e("td",{class:"px-2 py-1 text-right border border-blue-200 dark:border-blue-700 bg-blue-50 dark:bg-blue-900/20"},null,-1))],64))),128)),e("td",os,[e("span",ss,c(j(xe(s))),1)])],64))],64))),128))])):V("",!0),$()?(t(),r("tr",ds,[n[22]||(n[22]=e("td",{class:"px-3 py-2 font-medium border-r border-blue-200 dark:border-blue-700"},[e("div",{class:"flex items-center gap-1"}," NUMBER OF F&B COVERS ")],-1)),(t(!0),r(l,null,g(k.visibleYears,s=>(t(),r(l,{key:"covers-"+s},[Y(s)?(t(),r("td",cs,[e("span",gs,c(j(ze(s))),1)])):(t(),r(l,{key:0},[(t(!0),r(l,null,g(E(s),u=>(t(),r(l,{key:"covers-cell-"+s+"-"+u},[e("td",as,[e("span",is,c(j(Me(s,u))),1)]),n[21]||(n[21]=e("td",{class:"px-2 py-1 text-right border border-blue-200 dark:border-blue-700 bg-blue-50 dark:bg-blue-900/20"},null,-1))],64))),128)),e("td",us,[e("span",bs,c(j(ze(s))),1)])],64))],64))),128))])):V("",!0),B()?(t(),r("tr",xs,[n[24]||(n[24]=e("td",{class:"px-3 py-2 font-medium border-r border-blue-200 dark:border-blue-700"},[e("div",{class:"flex items-center gap-1"}," AVERAGE F&B SPENT PER COVER ")],-1)),(t(!0),r(l,null,g(k.visibleYears,s=>(t(),r(l,{key:"avg-fnb-"+s},[Y(s)?(t(),r("td",vs,[e("span",ks,c(R(He(s))),1)])):(t(),r(l,{key:0},[(t(!0),r(l,null,g(E(s),u=>(t(),r(l,{key:"avg-fnb-cell-"+s+"-"+u},[e("td",ps,[e("span",fs,c(R(ye(s,u))),1)]),n[23]||(n[23]=e("td",{class:"px-2 py-1 text-right border border-blue-200 dark:border-blue-700 bg-blue-50 dark:bg-blue-900/20"},null,-1))],64))),128)),e("td",ms,[e("span",hs,c(R(He(s))),1)])],64))],64))),128))])):V("",!0),H()?(t(),r("tr",ys,[n[26]||(n[26]=e("td",{class:"px-3 py-2 font-medium border-r border-blue-200 dark:border-blue-700"},[e("div",{class:"flex items-center gap-1"}," AVERAGE ROOM RATE ")],-1)),(t(!0),r(l,null,g(k.visibleYears,s=>(t(),r(l,{key:"avg-rate-"+s},[Y(s)?(t(),r("td",As,[e("span",Es,c(R(Le(s))),1)])):(t(),r(l,{key:0},[(t(!0),r(l,null,g(E(s),u=>(t(),r(l,{key:"avg-rate-cell-"+s+"-"+u},[e("td",_s,[e("span",Rs,c(R(Ce(s,u))),1)]),n[25]||(n[25]=e("td",{class:"px-2 py-1 text-right border border-blue-200 dark:border-blue-700 bg-blue-50 dark:bg-blue-900/20"},null,-1))],64))),128)),e("td",ws,[e("span",$s,c(R(Le(s))),1)])],64))],64))),128))])):V("",!0),W()?(t(),r("tr",Ss,[n[28]||(n[28]=e("td",{class:"px-3 py-2 font-medium border-r border-blue-200 dark:border-blue-700"},[e("div",{class:"flex items-center gap-1"}," REVENUE PER AVAILABLE ROOM ")],-1)),(t(!0),r(l,null,g(k.visibleYears,s=>(t(),r(l,{key:"rev-per-room-"+s},[Y(s)?(t(),r("td",Ts,[e("span",Ps,c(R(We(s))),1)])):(t(),r(l,{key:0},[(t(!0),r(l,null,g(E(s),u=>(t(),r(l,{key:"rev-per-room-cell-"+s+"-"+u},[e("td",Fs,[e("span",Cs,c(R(je(s,u))),1)]),n[27]||(n[27]=e("td",{class:"px-2 py-1 text-right border border-blue-200 dark:border-blue-700 bg-blue-50 dark:bg-blue-900/20"},null,-1))],64))),128)),e("td",Ys,[e("span",Os,c(R(We(s))),1)])],64))],64))),128))])):V("",!0),e("tr",Ds,[n[32]||(n[32]=e("td",{class:"px-3 py-2 border-r border-gray-200"},[e("div",{class:"flex items-center gap-1"})],-1)),(t(!0),r(l,null,g(k.visibleYears,s=>(t(),r(l,{key:"empty-stats-1-"+s},[Y(s)?(t(),r("td",Vs)):(t(),r(l,{key:0},[(t(!0),r(l,null,g(E(s),u=>(t(),r(l,{key:"empty-stats-1-cell-"+s+"-"+u},[n[29]||(n[29]=e("td",{class:"px-2 py-1 text-center border border-gray-200 bg-gray-100"},null,-1)),n[30]||(n[30]=e("td",{class:"px-2 py-1 text-center border border-gray-200 bg-gray-100"},null,-1))],64))),128)),n[31]||(n[31]=e("td",{class:"px-2 py-1 text-center border border-gray-200 bg-gray-100"},null,-1))],64))],64))),128))]),e("tr",Bs,[n[36]||(n[36]=e("td",{class:"px-3 py-2 border-r border-gray-200"},[e("div",{class:"flex items-center gap-1"})],-1)),(t(!0),r(l,null,g(k.visibleYears,s=>(t(),r(l,{key:"empty-stats-2-"+s},[Y(s)?(t(),r("td",Ms)):(t(),r(l,{key:0},[(t(!0),r(l,null,g(E(s),u=>(t(),r(l,{key:"empty-stats-2-cell-"+s+"-"+u},[n[33]||(n[33]=e("td",{class:"px-2 py-1 text-center border border-gray-200 bg-gray-100"},null,-1)),n[34]||(n[34]=e("td",{class:"px-2 py-1 text-center border border-gray-200 bg-gray-100"},null,-1))],64))),128)),n[35]||(n[35]=e("td",{class:"px-2 py-1 text-center border border-gray-200 bg-gray-100"},null,-1))],64))],64))),128))]),e("tr",Ls,[n[40]||(n[40]=e("td",{colspan:"2",class:"px-3 py-3 font-bold text-white border-r border-blue-700"},[e("div",{class:"flex items-center"}," Rooms Revenue ")],-1)),(t(!0),r(l,null,g(k.visibleYears,s=>(t(),r(l,{key:"rooms-revenue-divider-"+s},[Y(s)?(t(),r("td",js)):(t(),r(l,{key:0},[(t(!0),r(l,null,g(E(s),u=>(t(),r(l,{key:"rooms-revenue-divider-cell-"+s+"-"+u},[n[37]||(n[37]=e("td",{class:"px-1 py-1 text-center border border-blue-700 bg-blue-800"},null,-1)),n[38]||(n[38]=e("td",{class:"px-1 py-1 text-center border border-blue-700 bg-blue-800"},null,-1))],64))),128)),n[39]||(n[39]=e("td",{class:"px-1 py-1 text-center border border-blue-700 bg-blue-800"},null,-1))],64))],64))),128))]),f()?(t(),r(l,{key:10},[(t(!0),r(l,null,g(Qe.value,s=>(t(),r(l,{key:"segment-"+s},[dt(s)?(t(),r("tr",Ns,[e("td",Is,[e("div",Js,c(s),1)]),(t(!0),r(l,null,g(k.visibleYears,u=>(t(),r(l,{key:"segment-"+s+"-"+u},[Y(u)?(t(),r("td",Ks,[e("span",Qs,c(R(Ie(u,s))),1)])):(t(),r(l,{key:0},[(t(!0),r(l,null,g(E(u),w=>(t(),r(l,{key:"segment-cell-"+s+"-"+u+"-"+w},[e("td",Us,[e("span",qs,c(R(pe(u,w,s))),1)]),e("td",Gs,[e("span",zs,c(q(Xe(u,w,s)))+"%",1)])],64))),128)),e("td",Hs,[e("span",Ws,c(R(Ie(u,s))),1)])],64))],64))),128))])):V("",!0)],64))),128)),e("tr",Xs,[n[42]||(n[42]=e("td",{class:"px-2 py-1 font-bold border-r border-blue-600"},[e("div",{class:"flex items-center gap-1 text-white"}," TOTAL REVENUE ")],-1)),(t(!0),r(l,null,g(k.visibleYears,s=>(t(),r(l,{key:"total-rooms-revenue-"+s},[Y(s)?(t(),r("td",on,[e("span",sn,c(R(Ae(s))),1)])):(t(),r(l,{key:0},[(t(!0),r(l,null,g(E(s),u=>(t(),r(l,{key:"total-rooms-revenue-cell-"+s+"-"+u},[e("td",Zs,[e("span",en,c(R(ae(s,u))),1)]),n[41]||(n[41]=e("td",{class:"px-2 py-1 text-right border border-blue-600 font-semibold bg-blue-50 dark:bg-blue-900/200"},null,-1))],64))),128)),e("td",tn,[e("span",rn,c(R(Ae(s))),1)])],64))],64))),128))]),e("tr",nn,[n[46]||(n[46]=e("td",{class:"px-3 py-2 border-r border-gray-200"},[e("div",{class:"flex items-center gap-1"})],-1)),(t(!0),r(l,null,g(k.visibleYears,s=>(t(),r(l,{key:"empty-row-1-"+s},[Y(s)?(t(),r("td",ln)):(t(),r(l,{key:0},[(t(!0),r(l,null,g(E(s),u=>(t(),r(l,{key:"empty-row-1-cell-"+s+"-"+u},[n[43]||(n[43]=e("td",{class:"px-2 py-1 text-center border border-gray-200 bg-gray-100"},null,-1)),n[44]||(n[44]=e("td",{class:"px-2 py-1 text-center border border-gray-200 bg-gray-100"},null,-1))],64))),128)),n[45]||(n[45]=e("td",{class:"px-2 py-1 text-center border border-gray-200 bg-gray-100"},null,-1))],64))],64))),128))]),e("tr",dn,[n[50]||(n[50]=e("td",{class:"px-3 py-2 border-r border-gray-200"},[e("div",{class:"flex items-center gap-1"})],-1)),(t(!0),r(l,null,g(k.visibleYears,s=>(t(),r(l,{key:"empty-row-2-"+s},[Y(s)?(t(),r("td",an)):(t(),r(l,{key:0},[(t(!0),r(l,null,g(E(s),u=>(t(),r(l,{key:"empty-row-2-cell-"+s+"-"+u},[n[47]||(n[47]=e("td",{class:"px-2 py-1 text-center border border-gray-200 bg-gray-100"},null,-1)),n[48]||(n[48]=e("td",{class:"px-2 py-1 text-center border border-gray-200 bg-gray-100"},null,-1))],64))),128)),n[49]||(n[49]=e("td",{class:"px-2 py-1 text-center border border-gray-200 bg-gray-100"},null,-1))],64))],64))),128))])],64)):V("",!0),f()?V("",!0):(t(),r(l,{key:11},[(t(!0),r(l,null,g(Ze.value,s=>(t(),r(l,{key:"pkg-"+s},[at(s)?(t(),r("tr",un,[e("td",bn,[e("div",cn,c(s),1)]),(t(!0),r(l,null,g(k.visibleYears,u=>(t(),r(l,{key:"pkg-"+s+"-"+u},[Y(u)?(t(),r("td",vn,[e("span",kn,c(R($e(u,s))),1)])):(t(),r(l,{key:0},[(t(!0),r(l,null,g(E(u),w=>(t(),r(l,{key:"pkg-cell-"+s+"-"+u+"-"+w},[e("td",gn,[e("span",xn,c(R(we(u,w,s))),1)]),e("td",pn,[e("span",fn,c(q(pt(u,w,s)))+"%",1)])],64))),128)),e("td",mn,[e("span",hn,c(R($e(u,s))),1)])],64))],64))),128))])):V("",!0)],64))),128)),e("tr",yn,[n[52]||(n[52]=e("td",{class:"px-2 py-1 font-bold border-r border-blue-600"},[e("div",{class:"flex items-center gap-1 text-white"}," TOTAL ROOMS REVENUE ")],-1)),(t(!0),r(l,null,g(k.visibleYears,s=>(t(),r(l,{key:"total-rooms-revenue-"+s},[Y(s)?(t(),r("td",An,[e("span",En,c(R(Ae(s))),1)])):(t(),r(l,{key:0},[(t(!0),r(l,null,g(E(s),u=>(t(),r(l,{key:"total-rooms-revenue-cell-"+s+"-"+u},[e("td",_n,[e("span",Rn,c(R(ae(s,u))),1)]),n[51]||(n[51]=e("td",{class:"px-2 py-1 text-right border border-blue-600 font-semibold bg-blue-50 dark:bg-blue-900/200"},null,-1))],64))),128)),e("td",wn,[e("span",$n,c(R(Ae(s))),1)])],64))],64))),128))])],64)),e("tr",Sn,[n[56]||(n[56]=e("td",{colspan:"2",class:"px-3 py-3 font-bold text-white border-r border-blue-700"},[e("div",{class:"flex items-center"}," Room Expenses ")],-1)),(t(!0),r(l,null,g(k.visibleYears,s=>(t(),r(l,{key:"room-expenses-divider-"+s},[Y(s)?(t(),r("td",Fn)):(t(),r(l,{key:0},[(t(!0),r(l,null,g(E(s),u=>(t(),r(l,{key:"room-expenses-divider-cell-"+s+"-"+u},[n[53]||(n[53]=e("td",{class:"px-1 py-1 text-center border border-blue-700 bg-blue-800"},null,-1)),n[54]||(n[54]=e("td",{class:"px-1 py-1 text-center border border-blue-700 bg-blue-800"},null,-1))],64))),128)),n[55]||(n[55]=e("td",{class:"px-1 py-1 text-center border border-blue-700 bg-blue-800"},null,-1))],64))],64))),128))]),e("tr",Cn,[n[60]||(n[60]=e("td",{class:"px-3 py-2 font-semibold border-r border-[#5FA8AF]"},[e("div",{class:"flex items-center gap-1 text-white"}," Expense ")],-1)),(t(!0),r(l,null,g(k.visibleYears,s=>(t(),r(l,{key:"expense-subheader-"+s},[Y(s)?(t(),r("td",Yn)):(t(),r(l,{key:0},[(t(!0),r(l,null,g(E(s),u=>(t(),r(l,{key:"expense-subheader-cell-"+s+"-"+u},[n[57]||(n[57]=e("td",{class:"px-2 py-1 text-center border border-[#5FA8AF] bg-[#5FA8AF]"},null,-1)),n[58]||(n[58]=e("td",{class:"px-2 py-1 text-center border border-[#5FA8AF] bg-[#5FA8AF]"},null,-1))],64))),128)),n[59]||(n[59]=e("td",{class:"px-2 py-1 text-center border border-[#5FA8AF] bg-[#5FA8AF]"},null,-1))],64))],64))),128))]),(t(!0),r(l,null,g(v.value,s=>(t(),r(l,{key:"room-expense-"+s},[te(s)?(t(),r("tr",On,[e("td",Tn,[e("div",Pn,c(s),1)]),(t(!0),r(l,null,g(k.visibleYears,u=>(t(),r(l,{key:"room-expense-"+s+"-"+u},[Y(u)?(t(),r("td",Ln,[e("span",jn,c(R(fe(u,s))),1)])):(t(),r(l,{key:0},[(t(!0),r(l,null,g(E(u),w=>(t(),r(l,{key:"room-expense-cell-"+s+"-"+u+"-"+w},[e("td",Dn,[e("span",Vn,c(R(ee(u,w,s))),1)]),n[61]||(n[61]=e("td",{class:"px-2 py-1 text-right border border-blue-200 dark:border-blue-700 bg-white"},null,-1))],64))),128)),e("td",Bn,[e("span",Mn,c(R(fe(u,s))),1)])],64))],64))),128))])):V("",!0)],64))),128)),e("tr",Nn,[n[62]||(n[62]=e("td",{class:"px-3 py-2 font-bold border-r border-blue-600"},[e("div",{class:"flex items-center gap-1 text-white"}," Gross Total Expenses ")],-1)),(t(!0),r(l,null,g(k.visibleYears,s=>(t(),r(l,{key:"gross-expenses-"+s},[Y(s)?(t(),r("td",Hn,[e("span",Wn,c(R(ce(s))),1)])):(t(),r(l,{key:0},[(t(!0),r(l,null,g(E(s),u=>(t(),r(l,{key:"gross-expenses-cell-"+s+"-"+u},[e("td",In,[e("span",Jn,c(R(be(s,u))),1)]),e("td",Un,[e("span",qn,c(q(me(s,u)))+"%",1)])],64))),128)),e("td",Gn,[e("span",zn,c(R(ce(s))),1)])],64))],64))),128))]),e("tr",Kn,[n[66]||(n[66]=e("td",{class:"px-3 py-2 font-semibold border-r border-[#5FA8AF]"},[e("div",{class:"flex items-center gap-1 text-white"}," Payroll ")],-1)),(t(!0),r(l,null,g(k.visibleYears,s=>(t(),r(l,{key:"payroll-subheader-"+s},[Y(s)?(t(),r("td",Qn)):(t(),r(l,{key:0},[(t(!0),r(l,null,g(E(s),u=>(t(),r(l,{key:"payroll-subheader-cell-"+s+"-"+u},[n[63]||(n[63]=e("td",{class:"px-2 py-1 text-center border border-[#5FA8AF] bg-[#5FA8AF]"},null,-1)),n[64]||(n[64]=e("td",{class:"px-2 py-1 text-center border border-[#5FA8AF] bg-[#5FA8AF]"},null,-1))],64))),128)),n[65]||(n[65]=e("td",{class:"px-2 py-1 text-center border border-[#5FA8AF] bg-[#5FA8AF]"},null,-1))],64))],64))),128))]),st("management")?(t(),r("tr",Xn,[n[70]||(n[70]=e("td",{class:"px-3 py-2 font-medium border-r border-blue-200 dark:border-blue-700"},[e("div",{class:"flex items-center gap-1"}," Management ")],-1)),(t(!0),r(l,null,g(k.visibleYears,s=>(t(),r(l,{key:"mgmt-subheader-"+s},[Y(s)?(t(),r("td",Zn)):(t(),r(l,{key:0},[(t(!0),r(l,null,g(E(s),u=>(t(),r(l,{key:"mgmt-subheader-cell-"+s+"-"+u},[n[67]||(n[67]=e("td",{class:"px-2 py-1 text-center border border-blue-200 dark:border-blue-700 bg-blue-50 dark:bg-blue-900/20"},null,-1)),n[68]||(n[68]=e("td",{class:"px-2 py-1 text-center border border-blue-200 dark:border-blue-700 bg-blue-50 dark:bg-blue-900/20"},null,-1))],64))),128)),n[69]||(n[69]=e("td",{class:"px-2 py-1 text-center border border-blue-200 dark:border-blue-700 bg-blue-100 dark:bg-blue-800/30"},null,-1))],64))],64))),128))])):V("",!0),(t(!0),r(l,null,g(ie.value,s=>(t(),r("tr",{key:"mgmt-loc-"+s,class:"bg-white border-b border-blue-200 dark:border-blue-700"},[e("td",el,[e("div",tl,c(s),1)]),(t(!0),r(l,null,g(k.visibleYears,u=>(t(),r(l,{key:"mgmt-row-"+s+"-"+u},[Y(u)?(t(),r("td",ll,[e("span",dl,c(R(he(u,s,"management"))),1)])):(t(),r(l,{key:0},[(t(!0),r(l,null,g(E(u),w=>(t(),r(l,{key:"mgmt-cell-"+s+"-"+u+"-"+w},[e("td",rl,[e("span",ol,c(R(ue(u,w,s,"management"))),1)]),n[71]||(n[71]=e("td",{class:"px-2 py-1 text-right border border-blue-200 dark:border-blue-700 bg-white"},null,-1))],64))),128)),e("td",sl,[e("span",nl,c(R(he(u,s,"management"))),1)])],64))],64))),128))]))),128)),st("non-management")?(t(),r("tr",al,[n[75]||(n[75]=e("td",{class:"px-3 py-2 font-medium border-r border-blue-200 dark:border-blue-700"},[e("div",{class:"flex items-center gap-1"}," Non-Management ")],-1)),(t(!0),r(l,null,g(k.visibleYears,s=>(t(),r(l,{key:"nonmgmt-subheader-"+s},[Y(s)?(t(),r("td",il)):(t(),r(l,{key:0},[(t(!0),r(l,null,g(E(s),u=>(t(),r(l,{key:"nonmgmt-subheader-cell-"+s+"-"+u},[n[72]||(n[72]=e("td",{class:"px-2 py-1 text-center border border-blue-200 dark:border-blue-700 bg-blue-50 dark:bg-blue-900/20"},null,-1)),n[73]||(n[73]=e("td",{class:"px-2 py-1 text-center border border-blue-200 dark:border-blue-700 bg-blue-50 dark:bg-blue-900/20"},null,-1))],64))),128)),n[74]||(n[74]=e("td",{class:"px-2 py-1 text-center border border-blue-200 dark:border-blue-700 bg-blue-100 dark:bg-blue-800/30"},null,-1))],64))],64))),128))])):V("",!0),(t(!0),r(l,null,g(de.value,s=>(t(),r("tr",{key:"nonmgmt-loc-"+s,class:"bg-white border-b border-blue-200 dark:border-blue-700"},[e("td",ul,[e("div",bl,c(s),1)]),(t(!0),r(l,null,g(k.visibleYears,u=>(t(),r(l,{key:"nonmgmt-row-"+s+"-"+u},[Y(u)?(t(),r("td",fl,[e("span",ml,c(R(he(u,s,"non-management"))),1)])):(t(),r(l,{key:0},[(t(!0),r(l,null,g(E(u),w=>(t(),r(l,{key:"nonmgmt-cell-"+s+"-"+u+"-"+w},[e("td",cl,[e("span",gl,c(R(ue(u,w,s,"non-management"))),1)]),n[76]||(n[76]=e("td",{class:"px-2 py-1 text-right border border-blue-200 dark:border-blue-700 bg-white"},null,-1))],64))),128)),e("td",xl,[e("span",pl,c(R(he(u,s,"non-management"))),1)])],64))],64))),128))]))),128)),e("tr",hl,[n[77]||(n[77]=e("td",{class:"px-3 py-2 font-bold border-r border-blue-600"},[e("div",{class:"flex items-center gap-1 text-white"}," Total Payroll ")],-1)),(t(!0),r(l,null,g(k.visibleYears,s=>(t(),r(l,{key:"total-payroll-"+s},[Y(s)?(t(),r("td",$l,[e("span",Al,c(R(nt(s))),1)])):(t(),r(l,{key:0},[(t(!0),r(l,null,g(E(s),u=>(t(),r(l,{key:"total-payroll-cell-"+s+"-"+u},[e("td",vl,[e("span",kl,c(R(Re(s,u))),1)]),e("td",yl,[e("span",_l,c(q(lt(s,u)))+"%",1)])],64))),128)),e("td",Rl,[e("span",wl,c(R(nt(s))),1)])],64))],64))),128))]),e("tr",El,[n[81]||(n[81]=e("td",{class:"px-3 py-2 font-semibold border-r border-[#5FA8AF]"},[e("div",{class:"flex items-center gap-1 text-white"}," Payroll Related ")],-1)),(t(!0),r(l,null,g(k.visibleYears,s=>(t(),r(l,{key:"payroll-related-subheader-"+s},[Y(s)?(t(),r("td",Sl)):(t(),r(l,{key:0},[(t(!0),r(l,null,g(E(s),u=>(t(),r(l,{key:"payroll-related-subheader-cell-"+s+"-"+u},[n[78]||(n[78]=e("td",{class:"px-2 py-1 text-center border border-[#5FA8AF] bg-[#5FA8AF]"},null,-1)),n[79]||(n[79]=e("td",{class:"px-2 py-1 text-center border border-[#5FA8AF] bg-[#5FA8AF]"},null,-1))],64))),128)),n[80]||(n[80]=e("td",{class:"px-2 py-1 text-center border border-[#5FA8AF] bg-[#5FA8AF]"},null,-1))],64))],64))),128))]),oe("NSSIT")?(t(),r("tr",Fl,[n[83]||(n[83]=e("td",{class:"px-3 py-2 border-r border-blue-200 dark:border-blue-700"},[e("div",{class:"flex items-center gap-1"}," NSSIT ")],-1)),(t(!0),r(l,null,g(k.visibleYears,s=>(t(),r(l,{key:"nssit-row-"+s},[Y(s)?(t(),r("td",Pl,[e("span",Dl,c(R(L(s,"NSSIT"))),1)])):(t(),r(l,{key:0},[(t(!0),r(l,null,g(E(s),u=>(t(),r(l,{key:"nssit-cell-"+s+"-"+u},[e("td",Cl,[e("span",Yl,c(R(X(s,u,"NSSIT"))),1)]),n[82]||(n[82]=e("td",{class:"px-2 py-1 text-right border border-blue-200 dark:border-blue-700 bg-white"},null,-1))],64))),128)),e("td",Ol,[e("span",Tl,c(R(L(s,"NSSIT"))),1)])],64))],64))),128))])):V("",!0),oe("Vacation")?(t(),r("tr",Vl,[n[85]||(n[85]=e("td",{class:"px-3 py-2 border-r border-blue-200 dark:border-blue-700"},[e("div",{class:"flex items-center gap-1"}," Vacation ")],-1)),(t(!0),r(l,null,g(k.visibleYears,s=>(t(),r(l,{key:"vacation-row-"+s},[Y(s)?(t(),r("td",Nl,[e("span",Il,c(R(L(s,"Vacation"))),1)])):(t(),r(l,{key:0},[(t(!0),r(l,null,g(E(s),u=>(t(),r(l,{key:"vacation-cell-"+s+"-"+u},[e("td",Bl,[e("span",Ml,c(R(X(s,u,"Vacation"))),1)]),n[84]||(n[84]=e("td",{class:"px-2 py-1 text-right border border-blue-200 dark:border-blue-700 bg-white"},null,-1))],64))),128)),e("td",Ll,[e("span",jl,c(R(L(s,"Vacation"))),1)])],64))],64))),128))])):V("",!0),oe("Relocation")?(t(),r("tr",Jl,[n[87]||(n[87]=e("td",{class:"px-3 py-2 border-r border-blue-200 dark:border-blue-700"},[e("div",{class:"flex items-center gap-1"}," Relocation ")],-1)),(t(!0),r(l,null,g(k.visibleYears,s=>(t(),r(l,{key:"relocation-row-"+s},[Y(s)?(t(),r("td",Hl,[e("span",Wl,c(R(L(s,"Relocation"))),1)])):(t(),r(l,{key:0},[(t(!0),r(l,null,g(E(s),u=>(t(),r(l,{key:"relocation-cell-"+s+"-"+u},[e("td",Ul,[e("span",ql,c(R(X(s,u,"Relocation"))),1)]),n[86]||(n[86]=e("td",{class:"px-2 py-1 text-right border border-blue-200 dark:border-blue-700 bg-white"},null,-1))],64))),128)),e("td",Gl,[e("span",zl,c(R(L(s,"Relocation"))),1)])],64))],64))),128))])):V("",!0),oe("Severence & Indemnity")?(t(),r("tr",Kl,[n[89]||(n[89]=e("td",{class:"px-3 py-2 border-r border-blue-200 dark:border-blue-700"},[e("div",{class:"flex items-center gap-1"}," Severence & Indemnity ")],-1)),(t(!0),r(l,null,g(k.visibleYears,s=>(t(),r(l,{key:"severence-row-"+s},[Y(s)?(t(),r("td",t0,[e("span",r0,c(R(L(s,"Severence & Indemnity"))),1)])):(t(),r(l,{key:0},[(t(!0),r(l,null,g(E(s),u=>(t(),r(l,{key:"severence-cell-"+s+"-"+u},[e("td",Ql,[e("span",Xl,c(R(X(s,u,"Severence & Indemnity"))),1)]),n[88]||(n[88]=e("td",{class:"px-2 py-1 text-right border border-blue-200 dark:border-blue-700 bg-white"},null,-1))],64))),128)),e("td",Zl,[e("span",e0,c(R(L(s,"Severence & Indemnity"))),1)])],64))],64))),128))])):V("",!0),oe("Other")?(t(),r("tr",o0,[n[91]||(n[91]=e("td",{class:"px-3 py-2 border-r border-blue-200 dark:border-blue-700"},[e("div",{class:"flex items-center gap-1"}," Other ")],-1)),(t(!0),r(l,null,g(k.visibleYears,s=>(t(),r(l,{key:"other-row-"+s},[Y(s)?(t(),r("td",a0,[e("span",i0,c(R(L(s,"Other"))),1)])):(t(),r(l,{key:0},[(t(!0),r(l,null,g(E(s),u=>(t(),r(l,{key:"other-cell-"+s+"-"+u},[e("td",s0,[e("span",n0,c(R(X(s,u,"Other"))),1)]),n[90]||(n[90]=e("td",{class:"px-2 py-1 text-right border border-blue-200 dark:border-blue-700 bg-white"},null,-1))],64))),128)),e("td",l0,[e("span",d0,c(R(L(s,"Other"))),1)])],64))],64))),128))])):V("",!0),oe("Medical")?(t(),r("tr",u0,[n[93]||(n[93]=e("td",{class:"px-3 py-2 border-r border-blue-200 dark:border-blue-700"},[e("div",{class:"flex items-center gap-1"}," Medical ")],-1)),(t(!0),r(l,null,g(k.visibleYears,s=>(t(),r(l,{key:"medical-row-"+s},[Y(s)?(t(),r("td",p0,[e("span",f0,c(R(L(s,"Medical"))),1)])):(t(),r(l,{key:0},[(t(!0),r(l,null,g(E(s),u=>(t(),r(l,{key:"medical-cell-"+s+"-"+u},[e("td",b0,[e("span",c0,c(R(X(s,u,"Medical"))),1)]),n[92]||(n[92]=e("td",{class:"px-2 py-1 text-right border border-blue-200 dark:border-blue-700 bg-white"},null,-1))],64))),128)),e("td",g0,[e("span",x0,c(R(L(s,"Medical"))),1)])],64))],64))),128))])):V("",!0),oe("Uniforms")?(t(),r("tr",m0,[n[95]||(n[95]=e("td",{class:"px-3 py-2 border-r border-blue-200 dark:border-blue-700"},[e("div",{class:"flex items-center gap-1"}," Uniforms ")],-1)),(t(!0),r(l,null,g(k.visibleYears,s=>(t(),r(l,{key:"uniforms-row-"+s},[Y(s)?(t(),r("td",_0,[e("span",R0,c(R(L(s,"Uniforms"))),1)])):(t(),r(l,{key:0},[(t(!0),r(l,null,g(E(s),u=>(t(),r(l,{key:"uniforms-cell-"+s+"-"+u},[e("td",h0,[e("span",v0,c(R(X(s,u,"Uniforms"))),1)]),n[94]||(n[94]=e("td",{class:"px-2 py-1 text-right border border-blue-200 dark:border-blue-700 bg-white"},null,-1))],64))),128)),e("td",k0,[e("span",y0,c(R(L(s,"Uniforms"))),1)])],64))],64))),128))])):V("",!0),oe("Employee Meal")?(t(),r("tr",w0,[n[97]||(n[97]=e("td",{class:"px-3 py-2 border-r border-blue-200 dark:border-blue-700"},[e("div",{class:"flex items-center gap-1"}," Employee Meal ")],-1)),(t(!0),r(l,null,g(k.visibleYears,s=>(t(),r(l,{key:"employee-meal-row-"+s},[Y(s)?(t(),r("td",F0,[e("span",C0,c(R(L(s,"Employee Meal"))),1)])):(t(),r(l,{key:0},[(t(!0),r(l,null,g(E(s),u=>(t(),r(l,{key:"employee-meal-cell-"+s+"-"+u},[e("td",$0,[e("span",A0,c(R(X(s,u,"Employee Meal"))),1)]),n[96]||(n[96]=e("td",{class:"px-2 py-1 text-right border border-blue-200 dark:border-blue-700 bg-white"},null,-1))],64))),128)),e("td",E0,[e("span",S0,c(R(L(s,"Employee Meal"))),1)])],64))],64))),128))])):V("",!0),oe("Transport")?(t(),r("tr",Y0,[n[99]||(n[99]=e("td",{class:"px-3 py-2 border-r border-blue-200 dark:border-blue-700"},[e("div",{class:"flex items-center gap-1"}," Transport ")],-1)),(t(!0),r(l,null,g(k.visibleYears,s=>(t(),r(l,{key:"transport-row-"+s},[Y(s)?(t(),r("td",V0,[e("span",B0,c(R(L(s,"Transport"))),1)])):(t(),r(l,{key:0},[(t(!0),r(l,null,g(E(s),u=>(t(),r(l,{key:"transport-cell-"+s+"-"+u},[e("td",O0,[e("span",T0,c(R(X(s,u,"Transport"))),1)]),n[98]||(n[98]=e("td",{class:"px-2 py-1 text-right border border-blue-200 dark:border-blue-700 bg-white"},null,-1))],64))),128)),e("td",P0,[e("span",D0,c(R(L(s,"Transport"))),1)])],64))],64))),128))])):V("",!0),oe("Telephone")?(t(),r("tr",M0,[n[101]||(n[101]=e("td",{class:"px-3 py-2 border-r border-blue-200 dark:border-blue-700"},[e("div",{class:"flex items-center gap-1"}," Telephone ")],-1)),(t(!0),r(l,null,g(k.visibleYears,s=>(t(),r(l,{key:"telephone-row-"+s},[Y(s)?(t(),r("td",J0,[e("span",U0,c(R(L(s,"Telephone"))),1)])):(t(),r(l,{key:0},[(t(!0),r(l,null,g(E(s),u=>(t(),r(l,{key:"telephone-cell-"+s+"-"+u},[e("td",L0,[e("span",j0,c(R(X(s,u,"Telephone"))),1)]),n[100]||(n[100]=e("td",{class:"px-2 py-1 text-right border border-blue-200 dark:border-blue-700 bg-white"},null,-1))],64))),128)),e("td",N0,[e("span",I0,c(R(L(s,"Telephone"))),1)])],64))],64))),128))])):V("",!0),oe("Air Ticket")?(t(),r("tr",q0,[n[103]||(n[103]=e("td",{class:"px-3 py-2 border-r border-blue-200 dark:border-blue-700"},[e("div",{class:"flex items-center gap-1"}," Air Ticket ")],-1)),(t(!0),r(l,null,g(k.visibleYears,s=>(t(),r(l,{key:"air-ticket-row-"+s},[Y(s)?(t(),r("td",K0,[e("span",Q0,c(R(L(s,"Air Ticket"))),1)])):(t(),r(l,{key:0},[(t(!0),r(l,null,g(E(s),u=>(t(),r(l,{key:"air-ticket-cell-"+s+"-"+u},[e("td",G0,[e("span",z0,c(R(X(s,u,"Air Ticket"))),1)]),n[102]||(n[102]=e("td",{class:"px-2 py-1 text-right border border-blue-200 dark:border-blue-700 bg-white"},null,-1))],64))),128)),e("td",H0,[e("span",W0,c(R(L(s,"Air Ticket"))),1)])],64))],64))),128))])):V("",!0),oe("Other Benefits")?(t(),r("tr",X0,[n[105]||(n[105]=e("td",{class:"px-3 py-2 border-r border-blue-200 dark:border-blue-700"},[e("div",{class:"flex items-center gap-1"}," Other Benefits ")],-1)),(t(!0),r(l,null,g(k.visibleYears,s=>(t(),r(l,{key:"other-benefits-row-"+s},[Y(s)?(t(),r("td",od,[e("span",sd,c(R(L(s,"Other Benefits"))),1)])):(t(),r(l,{key:0},[(t(!0),r(l,null,g(E(s),u=>(t(),r(l,{key:"other-benefits-cell-"+s+"-"+u},[e("td",Z0,[e("span",ed,c(R(X(s,u,"Other Benefits"))),1)]),n[104]||(n[104]=e("td",{class:"px-2 py-1 text-right border border-blue-200 dark:border-blue-700 bg-white"},null,-1))],64))),128)),e("td",td,[e("span",rd,c(R(L(s,"Other Benefits"))),1)])],64))],64))),128))])):V("",!0),e("tr",nd,[n[106]||(n[106]=e("td",{class:"px-3 py-2 font-bold border-r border-blue-600"},[e("div",{class:"flex items-center gap-1 text-white"}," Total Payroll Related Expenses ")],-1)),(t(!0),r(l,null,g(k.visibleYears,s=>(t(),r(l,{key:"total-payroll-related-"+s},[Y(s)?(t(),r("td",cd,[e("span",gd,c(R(et(s))),1)])):(t(),r(l,{key:0},[(t(!0),r(l,null,g(E(s),u=>(t(),r(l,{key:"total-payroll-related-cell-"+s+"-"+u},[e("td",ld,[e("span",dd,c(R(Je(s,u))),1)]),e("td",ad,[e("span",id,c(q(ft(s,u)))+"%",1)])],64))),128)),e("td",ud,[e("span",bd,c(R(et(s))),1)])],64))],64))),128))]),e("tr",xd,[n[110]||(n[110]=e("td",{class:"px-3 py-2 font-semibold border-r border-[#5FA8AF]"},[e("div",{class:"flex items-center gap-1 text-white"}," Bonus ")],-1)),(t(!0),r(l,null,g(k.visibleYears,s=>(t(),r(l,{key:"bonus-subheader-"+s},[Y(s)?(t(),r("td",pd)):(t(),r(l,{key:0},[(t(!0),r(l,null,g(E(s),u=>(t(),r(l,{key:"bonus-subheader-cell-"+s+"-"+u},[n[107]||(n[107]=e("td",{class:"px-2 py-1 text-center border border-[#5FA8AF] bg-[#5FA8AF]"},null,-1)),n[108]||(n[108]=e("td",{class:"px-2 py-1 text-center border border-[#5FA8AF] bg-[#5FA8AF]"},null,-1))],64))),128)),n[109]||(n[109]=e("td",{class:"px-2 py-1 text-center border border-[#5FA8AF] bg-[#5FA8AF]"},null,-1))],64))],64))),128))]),ht()?(t(),r("tr",fd,[n[111]||(n[111]=e("td",{class:"px-3 py-2 border-r border-blue-200 dark:border-blue-700"},[e("div",{class:"flex items-center gap-1"}," Bonus Details ")],-1)),(t(!0),r(l,null,g(k.visibleYears,s=>(t(),r(l,{key:"bonus-details-row-"+s},[Y(s)?(t(),r("td",Rd,[e("span",wd,c(R(it(s))),1)])):(t(),r(l,{key:0},[(t(!0),r(l,null,g(E(s),u=>(t(),r(l,{key:"bonus-details-cell-"+s+"-"+u},[e("td",md,[e("span",hd,c(R(Ee(s,u))),1)]),e("td",vd,[e("span",kd,c(q(ut(s,u)))+"%",1)])],64))),128)),e("td",yd,[e("span",_d,c(R(it(s))),1)])],64))],64))),128))])):V("",!0),e("tr",$d,[n[115]||(n[115]=e("td",{class:"px-3 py-2 border-r border-gray-200"},[e("div",{class:"flex items-center gap-1"})],-1)),(t(!0),r(l,null,g(k.visibleYears,s=>(t(),r(l,{key:"empty-row-"+s},[Y(s)?(t(),r("td",Ad)):(t(),r(l,{key:0},[(t(!0),r(l,null,g(E(s),u=>(t(),r(l,{key:"empty-cell-"+s+"-"+u},[n[112]||(n[112]=e("td",{class:"px-2 py-1 text-center border border-gray-200 bg-gray-100"},null,-1)),n[113]||(n[113]=e("td",{class:"px-2 py-1 text-center border border-gray-200 bg-gray-100"},null,-1))],64))),128)),n[114]||(n[114]=e("td",{class:"px-2 py-1 text-center border border-gray-200 bg-gray-100"},null,-1))],64))],64))),128))]),e("tr",Ed,[n[116]||(n[116]=e("td",{class:"px-3 py-2 font-bold border-r border-red-700"},[e("div",{class:"flex items-center gap-1 text-white"}," TOTAL EXPENSES ")],-1)),(t(!0),r(l,null,g(k.visibleYears,s=>(t(),r(l,{key:"total-expenses-"+s},[Y(s)?(t(),r("td",Pd,[e("span",Dd,c(R(bt(s))),1)])):(t(),r(l,{key:0},[(t(!0),r(l,null,g(E(s),u=>(t(),r(l,{key:"total-expenses-cell-"+s+"-"+u},[e("td",Sd,[e("span",Fd,c(R(Te(s,u))),1)]),e("td",Cd,[e("span",Yd,c(q(ct(s,u)))+"%",1)])],64))),128)),e("td",Od,[e("span",Td,c(R(bt(s))),1)])],64))],64))),128))]),e("tr",Vd,[n[117]||(n[117]=e("td",{class:"px-3 py-2 font-bold border-r border-blue-600"},[e("div",{class:"flex items-center gap-1 text-white"}," DEPARTMENTAL INCOME (LOSS) ")],-1)),(t(!0),r(l,null,g(k.visibleYears,s=>(t(),r(l,{key:"departmental-income-"+s},[Y(s)?(t(),r("td",Jd,[e("span",Ud,c(R(rt(s))),1)])):(t(),r(l,{key:0},[(t(!0),r(l,null,g(E(s),u=>(t(),r(l,{key:"departmental-income-cell-"+s+"-"+u},[e("td",Bd,[e("span",Md,c(R(tt(s,u))),1)]),e("td",Ld,[e("span",jd,c(q(mt(s,u)))+"%",1)])],64))),128)),e("td",Nd,[e("span",Id,c(R(rt(s))),1)])],64))],64))),128))])])])])])]))}},Gd=_t(qd,[["__scopeId","data-v-b392ed11"]]),zd={class:"bg-white rounded-lg border border-green-200 dark:border-green-700 shadow-sm overflow-hidden"},Hd={class:"overflow-x-auto"},Wd={class:"min-w-full w-max"},Kd={class:"w-full"},Qd={class:"bg-gradient-to-r from-green-600 to-green-700 text-white"},Xd={class:"bg-gradient-to-r from-green-600 via-green-700 to-green-800 text-white"},Zd=["colspan"],ea={class:"flex items-center justify-center gap-3"},ta={class:"text-3xl font-bold tracking-tight"},ra={class:"bg-gradient-to-r from-green-500 via-green-600 to-green-700 text-white"},oa=["colspan"],sa=["colspan","onClick"],na={class:"flex items-center justify-center gap-1"},la={class:"font-semibold"},da={class:"bg-green-50 dark:bg-green-900/200/90 text-xs"},aa={class:"px-2 py-1 text-center border border-green-300 min-w-[110px] font-semibold"},ia={class:"flex items-center justify-center gap-1"},ua={key:1,class:"px-2 py-1 text-center border border-green-300 min-w-[110px] font-semibold"},ba={class:"flex items-center justify-center gap-1"},ca={class:"text-gray-700 bg-white text-sm dark:text-gray-200 dark:bg-gray-800"},ga={class:"bg-green-800 border-b-2 border-green-900"},xa=["colspan"],pa={key:1,class:"px-1 py-1 text-center border border-green-700 bg-green-800"},fa={key:0,class:"bg-green-50 dark:bg-green-900/20 border-b border-green-200 dark:border-green-700"},ma={class:"font-mono text-xs"},ha={class:"px-2 py-1 text-right border border-green-200 dark:border-green-700 font-semibold bg-green-100 dark:bg-green-800/30"},va={class:"font-mono text-xs text-green-700 dark:text-green-300"},ka={key:1,class:"px-2 py-1 text-right border border-green-200 dark:border-green-700 font-semibold bg-green-100 dark:bg-green-800/30"},ya={class:"font-mono text-xs text-green-700 dark:text-green-300"},_a={key:1,class:"bg-green-50 dark:bg-green-900/20 border-b border-green-200 dark:border-green-700"},Ra={class:"font-mono text-xs"},wa={class:"px-2 py-1 text-right border border-green-200 dark:border-green-700 font-semibold bg-green-100 dark:bg-green-800/30"},$a={class:"font-mono text-xs text-green-700 dark:text-green-300"},Aa={key:1,class:"px-2 py-1 text-right border border-green-200 dark:border-green-700 font-semibold bg-green-100 dark:bg-green-800/30"},Ea={class:"font-mono text-xs text-green-700 dark:text-green-300"},Sa={key:2,class:"bg-green-50 dark:bg-green-900/20 border-b border-green-200 dark:border-green-700"},Fa={class:"font-mono text-xs"},Ca={class:"px-2 py-1 text-right border border-green-200 dark:border-green-700 font-semibold bg-green-100 dark:bg-green-800/30"},Ya={class:"font-mono text-xs text-green-700 dark:text-green-300"},Oa={key:1,class:"px-2 py-1 text-right border border-green-200 dark:border-green-700 font-semibold bg-green-100 dark:bg-green-800/30"},Ta={class:"font-mono text-xs text-green-700 dark:text-green-300"},Pa={key:3,class:"bg-green-50 dark:bg-green-900/20 border-b border-green-200 dark:border-green-700"},Da={class:"font-mono text-xs"},Va={class:"px-2 py-1 text-right border border-green-200 dark:border-green-700 font-semibold bg-green-100 dark:bg-green-800/30"},Ba={class:"font-mono text-xs text-green-700 dark:text-green-300"},Ma={key:1,class:"px-2 py-1 text-right border border-green-200 dark:border-green-700 font-semibold bg-green-100 dark:bg-green-800/30"},La={class:"font-mono text-xs text-green-700 dark:text-green-300"},ja={key:4,class:"bg-green-50 dark:bg-green-900/20 border-b border-green-200 dark:border-green-700"},Na={class:"font-mono text-xs"},Ia={class:"px-2 py-1 text-right border border-green-200 dark:border-green-700 font-semibold bg-green-100 dark:bg-green-800/30"},Ja={class:"font-mono text-xs text-green-700 dark:text-green-300"},Ua={key:1,class:"px-2 py-1 text-right border border-green-200 dark:border-green-700 font-semibold bg-green-100 dark:bg-green-800/30"},qa={class:"font-mono text-xs text-green-700 dark:text-green-300"},Ga={key:5,class:"bg-green-50 dark:bg-green-900/20 border-b border-green-200 dark:border-green-700"},za={class:"font-mono text-xs"},Ha={class:"px-2 py-1 text-right border border-green-200 dark:border-green-700 font-semibold bg-green-100 dark:bg-green-800/30"},Wa={class:"font-mono text-xs text-green-700 dark:text-green-300"},Ka={key:1,class:"px-2 py-1 text-right border border-green-200 dark:border-green-700 font-semibold bg-green-100 dark:bg-green-800/30"},Qa={class:"font-mono text-xs text-green-700 dark:text-green-300"},Xa={key:6,class:"bg-green-50 dark:bg-green-900/20 border-b border-green-200 dark:border-green-700"},Za={class:"font-mono text-xs"},ei={class:"px-2 py-1 text-right border border-green-200 dark:border-green-700 font-semibold bg-green-100 dark:bg-green-800/30"},ti={class:"font-mono text-xs text-green-700 dark:text-green-300"},ri={key:1,class:"px-2 py-1 text-right border border-green-200 dark:border-green-700 font-semibold bg-green-100 dark:bg-green-800/30"},oi={class:"font-mono text-xs text-green-700 dark:text-green-300"},si={key:7,class:"bg-green-50 dark:bg-green-900/20 border-b border-green-200 dark:border-green-700"},ni={class:"font-mono text-xs"},li={class:"px-2 py-1 text-right border border-green-200 dark:border-green-700 font-semibold bg-green-100 dark:bg-green-800/30"},di={class:"font-mono text-xs text-green-700 dark:text-green-300"},ai={key:1,class:"px-2 py-1 text-right border border-green-200 dark:border-green-700 font-semibold bg-green-100 dark:bg-green-800/30"},ii={class:"font-mono text-xs text-green-700 dark:text-green-300"},ui={key:8,class:"bg-green-50 dark:bg-green-900/20 border-b border-green-200 dark:border-green-700"},bi={class:"font-mono text-xs"},ci={class:"px-2 py-1 text-right border border-green-200 dark:border-green-700 font-semibold bg-green-100 dark:bg-green-800/30"},gi={class:"font-mono text-xs text-green-700 dark:text-green-300"},xi={key:1,class:"px-2 py-1 text-right border border-green-200 dark:border-green-700 font-semibold bg-green-100 dark:bg-green-800/30"},pi={class:"font-mono text-xs text-green-700 dark:text-green-300"},fi={key:9,class:"bg-green-50 dark:bg-green-900/20 border-b border-green-200 dark:border-green-700"},mi={class:"font-mono text-xs"},hi={class:"px-2 py-1 text-right border border-green-200 dark:border-green-700 font-semibold bg-green-100 dark:bg-green-800/30"},vi={class:"font-mono text-xs text-green-700 dark:text-green-300"},ki={key:1,class:"px-2 py-1 text-right border border-green-200 dark:border-green-700 font-semibold bg-green-100 dark:bg-green-800/30"},yi={class:"font-mono text-xs text-green-700 dark:text-green-300"},_i={class:"bg-gray-100 border-b border-gray-200"},Ri={key:1,class:"px-2 py-1 text-center border border-gray-200 bg-gray-100"},wi={class:"bg-gray-100 border-b border-gray-200"},$i={key:1,class:"px-2 py-1 text-center border border-gray-200 bg-gray-100"},Ai={class:"bg-green-800 border-b-2 border-green-900"},Ei=["colspan"],Si={key:1,class:"px-1 py-1 text-center border border-green-700 bg-green-800"},Fi={class:"bg-green-600 border-b border-green-700"},Ci=["colspan"],Yi={class:"flex items-center gap-2"},Oi={key:1,class:"px-1 py-1 text-center border border-green-600 bg-green-600"},Ti={class:"px-3 py-2 font-medium border-r border-green-200 dark:border-green-700"},Pi={class:"flex items-center gap-1 text-green-800 dark:text-green-200"},Di={class:"font-mono text-xs text-green-700 dark:text-green-300"},Vi={class:"px-2 py-1 text-right border border-green-200 dark:border-green-700 font-semibold bg-green-200 dark:bg-green-700/30"},Bi={class:"font-mono text-xs text-green-800 dark:text-green-200"},Mi={key:1,class:"px-2 py-1 text-right border border-green-200 dark:border-green-700 font-semibold bg-green-200 dark:bg-green-700/30"},Li={class:"font-mono text-xs text-green-800 dark:text-green-200"},ji={class:"bg-green-100 dark:bg-green-800/30 border-b border-green-200 dark:border-green-700"},Ni={class:"font-mono text-xs text-green-700 dark:text-green-300"},Ii={class:"px-2 py-1 text-right border border-green-200 dark:border-green-700 font-semibold bg-green-200 dark:bg-green-700/30"},Ji={class:"font-mono text-xs text-green-800 dark:text-green-200"},Ui={key:1,class:"px-2 py-1 text-right border border-green-200 dark:border-green-700 font-semibold bg-green-200 dark:bg-green-700/30"},qi={class:"font-mono text-xs text-green-800 dark:text-green-200"},Gi={class:"bg-green-100 dark:bg-green-800/30 border-b border-green-200 dark:border-green-700"},zi={class:"font-mono text-xs text-green-700 dark:text-green-300"},Hi={class:"px-2 py-1 text-right border border-green-200 dark:border-green-700 font-semibold bg-green-200 dark:bg-green-700/30"},Wi={class:"font-mono text-xs text-green-800 dark:text-green-200"},Ki={key:1,class:"px-2 py-1 text-right border border-green-200 dark:border-green-700 font-semibold bg-green-200 dark:bg-green-700/30"},Qi={class:"font-mono text-xs text-green-800 dark:text-green-200"},Xi={class:"bg-green-50 dark:bg-green-900/200 border-b-2 border-green-600"},Zi={class:"font-mono text-xs text-white"},eu={class:"px-2 py-1 text-right border border-green-600 font-bold bg-green-50 dark:bg-green-900/200"},tu={class:"font-mono text-xs text-white"},ru={key:1,class:"px-2 py-1 text-right border border-green-600 font-bold bg-green-50 dark:bg-green-900/200"},ou={class:"font-mono text-xs text-white"},su={class:"bg-green-600 border-b border-green-700"},nu=["colspan"],lu={class:"flex items-center gap-2"},du={key:1,class:"px-1 py-1 text-center border border-green-600 bg-green-600"},au={class:"px-3 py-2 font-medium border-r border-green-200 dark:border-green-700"},iu={class:"flex items-center gap-1 text-green-800 dark:text-green-200"},uu={class:"font-mono text-xs text-green-700 dark:text-green-300"},bu={class:"px-2 py-1 text-right border border-green-200 dark:border-green-700 font-semibold bg-green-200 dark:bg-green-700/30"},cu={class:"font-mono text-xs text-green-800 dark:text-green-200"},gu={key:1,class:"px-2 py-1 text-right border border-green-200 dark:border-green-700 font-semibold bg-green-200 dark:bg-green-700/30"},xu={class:"font-mono text-xs text-green-800 dark:text-green-200"},pu={class:"bg-green-100 dark:bg-green-800/30 border-b border-green-200 dark:border-green-700"},fu={class:"font-mono text-xs text-green-700 dark:text-green-300"},mu={class:"px-2 py-1 text-right border border-green-200 dark:border-green-700 font-semibold bg-green-200 dark:bg-green-700/30"},hu={class:"font-mono text-xs text-green-800 dark:text-green-200"},vu={key:1,class:"px-2 py-1 text-right border border-green-200 dark:border-green-700 font-semibold bg-green-200 dark:bg-green-700/30"},ku={class:"font-mono text-xs text-green-800 dark:text-green-200"},yu={class:"bg-green-100 dark:bg-green-800/30 border-b border-green-200 dark:border-green-700"},_u={class:"font-mono text-xs text-green-700 dark:text-green-300"},Ru={class:"px-2 py-1 text-right border border-green-200 dark:border-green-700 font-semibold bg-green-200 dark:bg-green-700/30"},wu={class:"font-mono text-xs text-green-800 dark:text-green-200"},$u={key:1,class:"px-2 py-1 text-right border border-green-200 dark:border-green-700 font-semibold bg-green-200 dark:bg-green-700/30"},Au={class:"font-mono text-xs text-green-800 dark:text-green-200"},Eu={class:"bg-green-50 dark:bg-green-900/200 border-b-2 border-green-600"},Su={class:"font-mono text-xs text-white"},Fu={class:"px-2 py-1 text-right border border-green-600 font-bold bg-green-50 dark:bg-green-900/200"},Cu={class:"font-mono text-xs text-white"},Yu={key:1,class:"px-2 py-1 text-right border border-green-600 font-bold bg-green-50 dark:bg-green-900/200"},Ou={class:"font-mono text-xs text-white"},Tu={class:"bg-green-700 border-b-2 border-green-800"},Pu={class:"font-mono text-xs text-white"},Du={class:"px-2 py-1 text-right border border-green-800 font-bold bg-green-700"},Vu={class:"font-mono text-xs text-white"},Bu={key:1,class:"px-2 py-1 text-right border border-green-800 font-bold bg-green-700"},Mu={class:"font-mono text-xs text-white"},Lu={class:"bg-green-600 border-b border-green-700"},ju=["colspan"],Nu={class:"flex items-center gap-1"},Iu={class:"bg-green-100 dark:bg-green-800/30 border-b border-green-200 dark:border-green-700"},Ju={class:"font-mono text-xs text-green-700 dark:text-green-300"},Uu={class:"px-2 py-1 text-right border border-green-200 dark:border-green-700 font-semibold bg-green-200 dark:bg-green-700/30"},qu={class:"font-mono text-xs text-green-800 dark:text-green-200"},Gu={key:1,class:"px-2 py-1 text-right border border-green-200 dark:border-green-700 font-semibold bg-green-200 dark:bg-green-700/30"},zu={class:"font-mono text-xs text-green-800 dark:text-green-200"},Hu={class:"bg-green-100 dark:bg-green-800/30 border-b border-green-200 dark:border-green-700"},Wu={class:"font-mono text-xs text-green-700 dark:text-green-300"},Ku={class:"px-2 py-1 text-right border border-green-200 dark:border-green-700 font-semibold bg-green-200 dark:bg-green-700/30"},Qu={class:"font-mono text-xs text-green-800 dark:text-green-200"},Xu={key:1,class:"px-2 py-1 text-right border border-green-200 dark:border-green-700 font-semibold bg-green-200 dark:bg-green-700/30"},Zu={class:"font-mono text-xs text-green-800 dark:text-green-200"},eb={class:"bg-green-100 dark:bg-green-800/30 border-b border-green-200 dark:border-green-700"},tb={class:"font-mono text-xs text-green-700 dark:text-green-300"},rb={class:"px-2 py-1 text-right border border-green-200 dark:border-green-700 font-semibold bg-green-200 dark:bg-green-700/30"},ob={class:"font-mono text-xs text-green-800 dark:text-green-200"},sb={key:1,class:"px-2 py-1 text-right border border-green-200 dark:border-green-700 font-semibold bg-green-200 dark:bg-green-700/30"},nb={class:"font-mono text-xs text-green-800 dark:text-green-200"},lb={class:"bg-green-50 dark:bg-green-900/200 border-b-2 border-green-600"},db={class:"font-mono text-xs text-white"},ab={class:"px-2 py-1 text-right border border-green-600 font-bold bg-green-50 dark:bg-green-900/200"},ib={class:"font-mono text-xs text-white"},ub={key:1,class:"px-2 py-1 text-right border border-green-600 font-bold bg-green-50 dark:bg-green-900/200"},bb={class:"font-mono text-xs text-white"},cb={class:"bg-gray-100 border-b border-gray-200"},gb={key:1,class:"px-2 py-1 text-center border border-gray-200 bg-gray-100"},xb={class:"bg-green-700 border-b-2 border-green-800"},pb={class:"font-mono text-xs text-white"},fb={class:"px-2 py-1 text-right border border-green-800 font-bold bg-green-700"},mb={class:"font-mono text-xs text-white"},hb={key:1,class:"px-2 py-1 text-right border border-green-800 font-bold bg-green-700"},vb={class:"font-mono text-xs text-white"},kb={class:"bg-green-100 dark:bg-green-800/30 border-b border-green-200 dark:border-green-700"},yb={class:"font-mono text-xs text-green-700 dark:text-green-300"},_b={class:"px-2 py-1 text-right border border-green-200 dark:border-green-700 font-semibold bg-green-200 dark:bg-green-700/30"},Rb={class:"font-mono text-xs text-green-800 dark:text-green-200"},wb={key:1,class:"px-2 py-1 text-right border border-green-200 dark:border-green-700 font-semibold bg-green-200 dark:bg-green-700/30"},$b={class:"font-mono text-xs text-green-800 dark:text-green-200"},Ab={class:"bg-green-800 border-b-2 border-green-900"},Eb={class:"font-mono text-xs text-white"},Sb={class:"px-2 py-1 text-right border border-green-800 font-bold bg-green-800"},Fb={class:"font-mono text-xs text-white"},Cb={key:1,class:"px-2 py-1 text-right border border-green-800 font-bold bg-green-800"},Yb={class:"font-mono text-xs text-white"},Ob={class:"bg-gray-100 border-b border-gray-200"},Tb={key:1,class:"px-2 py-1 text-center border border-gray-200 bg-gray-100"},Pb={class:"bg-green-800 border-b-2 border-green-900"},Db=["colspan"],Vb={key:1,class:"px-1 py-1 text-center border border-green-700 bg-green-800"},Bb={class:"bg-orange-800 border-b-2 border-orange-900"},Mb=["colspan"],Lb={class:"flex items-center gap-2"},jb={key:1,class:"px-1 py-1 text-center border border-orange-700 bg-orange-800"},Nb={class:"bg-green-100 dark:bg-green-800/30 border-b border-green-200 dark:border-green-700"},Ib={class:"font-mono text-xs text-green-700 dark:text-green-300"},Jb={class:"px-2 py-1 text-right border border-green-200 dark:border-green-700 font-semibold bg-green-200 dark:bg-green-700/30"},Ub={class:"font-mono text-xs text-green-800 dark:text-green-200"},qb={key:1,class:"px-2 py-1 text-right border border-green-200 dark:border-green-700 font-semibold bg-green-200 dark:bg-green-700/30"},Gb={class:"font-mono text-xs text-green-800 dark:text-green-200"},zb={class:"bg-green-100 dark:bg-green-800/30 border-b border-green-200 dark:border-green-700"},Hb={class:"font-mono text-xs text-green-700 dark:text-green-300"},Wb={class:"px-2 py-1 text-right border border-green-200 dark:border-green-700 font-semibold bg-green-200 dark:bg-green-700/30"},Kb={class:"font-mono text-xs text-green-800 dark:text-green-200"},Qb={key:1,class:"px-2 py-1 text-right border border-green-200 dark:border-green-700 font-semibold bg-green-200 dark:bg-green-700/30"},Xb={class:"font-mono text-xs text-green-800 dark:text-green-200"},Zb={class:"bg-green-50 dark:bg-green-900/200 border-b-2 border-green-600"},ec={class:"font-mono text-xs text-white"},tc={class:"px-2 py-1 text-right border border-green-600 font-bold bg-green-50 dark:bg-green-900/200"},rc={class:"font-mono text-xs text-white"},oc={key:1,class:"px-2 py-1 text-right border border-green-600 font-bold bg-green-50 dark:bg-green-900/200"},sc={class:"font-mono text-xs text-white"},nc={class:"bg-green-100 dark:bg-green-800/30 border-b border-green-200 dark:border-green-700"},lc={class:"font-mono text-xs text-green-700 dark:text-green-300"},dc={class:"px-2 py-1 text-right border border-green-200 dark:border-green-700 font-semibold bg-green-200 dark:bg-green-700/30"},ac={class:"font-mono text-xs text-green-800 dark:text-green-200"},ic={key:1,class:"px-2 py-1 text-right border border-green-200 dark:border-green-700 font-semibold bg-green-200 dark:bg-green-700/30"},uc={class:"font-mono text-xs text-green-800 dark:text-green-200"},bc={class:"bg-green-100 dark:bg-green-800/30 border-b border-green-200 dark:border-green-700"},cc={class:"font-mono text-xs text-green-700 dark:text-green-300"},gc={class:"px-2 py-1 text-right border border-green-200 dark:border-green-700 font-semibold bg-green-200 dark:bg-green-700/30"},xc={class:"font-mono text-xs text-green-800 dark:text-green-200"},pc={key:1,class:"px-2 py-1 text-right border border-green-200 dark:border-green-700 font-semibold bg-green-200 dark:bg-green-700/30"},fc={class:"font-mono text-xs text-green-800 dark:text-green-200"},mc={class:"bg-green-50 dark:bg-green-900/200 border-b-2 border-green-600"},hc={class:"font-mono text-xs text-white"},vc={class:"px-2 py-1 text-right border border-green-600 font-bold bg-green-50 dark:bg-green-900/200"},kc={class:"font-mono text-xs text-white"},yc={key:1,class:"px-2 py-1 text-right border border-green-600 font-bold bg-green-50 dark:bg-green-900/200"},_c={class:"font-mono text-xs text-white"},Rc={class:"bg-green-700 border-b-2 border-green-800"},wc={class:"font-mono text-xs text-white"},$c={class:"px-2 py-1 text-right border border-green-800 font-bold bg-green-700"},Ac={class:"font-mono text-xs text-white"},Ec={key:1,class:"px-2 py-1 text-right border border-green-800 font-bold bg-green-700"},Sc={class:"font-mono text-xs text-white"},Fc={class:"bg-green-700 border-b-2 border-green-800"},Cc={class:"font-mono text-xs text-white"},Yc={class:"px-2 py-1 text-right border border-green-800 font-bold bg-green-700"},Oc={class:"font-mono text-xs text-white"},Tc={key:1,class:"px-2 py-1 text-right border border-green-800 font-bold bg-green-700"},Pc={class:"font-mono text-xs text-white"},Dc={class:"bg-orange-800 border-b-2 border-orange-900"},Vc=["colspan"],Bc={class:"flex items-center gap-2"},Mc={key:1,class:"px-1 py-1 text-center border border-orange-700 bg-orange-800"},Lc={class:"px-3 py-2 font-medium border-r border-green-200 dark:border-green-700"},jc={class:"flex items-center gap-1 text-green-800 dark:text-green-200"},Nc={class:"font-mono text-xs text-green-700 dark:text-green-300"},Ic={class:"px-2 py-1 text-right border border-green-200 dark:border-green-700 font-semibold bg-green-200 dark:bg-green-700/30"},Jc={class:"font-mono text-xs text-green-800 dark:text-green-200"},Uc={key:1,class:"px-2 py-1 text-right border border-green-200 dark:border-green-700 font-semibold bg-green-200 dark:bg-green-700/30"},qc={class:"font-mono text-xs text-green-800 dark:text-green-200"},Gc={class:"bg-green-50 dark:bg-green-900/200 border-b-2 border-green-600"},zc={class:"font-mono text-xs text-white"},Hc={class:"px-2 py-1 text-right border border-green-600 font-bold bg-green-50 dark:bg-green-900/200"},Wc={class:"font-mono text-xs text-white"},Kc={key:1,class:"px-2 py-1 text-right border border-green-600 font-bold bg-green-50 dark:bg-green-900/200"},Qc={class:"font-mono text-xs text-white"},Xc={class:"bg-orange-800 border-b-2 border-orange-900"},Zc=["colspan"],eg={class:"flex items-center gap-2"},tg={key:1,class:"px-1 py-1 text-center border border-orange-700 bg-orange-800"},rg={__name:"FoodBeverageProfitLoss",props:{visibleYears:{type:Array,required:!0}},setup(k){const x=k,y=Ct(),{advancedModes:C}=St(y),m=Rt(),f=ve(()=>{var a;return((a=z.value)==null?void 0:a.project_name)||"Project Name"});function F(a){y.toggleCollapse(a)}function h(a){return y.isYearCollapsed(a)}function v(a){const d=C.value[a]||"monthly";return d==="monthly"?["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]:d==="quarterly"?["Jan-Mar","Apr-Jun","Jul-Sep","Oct-Dec"]:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}function p(a){const d=Number(a);return isNaN(d)?0:d}function A(a){return p(a).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}function R(a){return p(a).toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:0})}function j(a){return p(a).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}function q(a,d){try{const o=localStorage.getItem("marketSegmentation")==="true",i=m.getValue(f.value,"Room Revenue Assumptions","Total Rooms",a,d);return i!=null?p(i):100}catch(o){return console.error("Error fetching room count:",o),100}}function K(a){try{const d=v(a);let o=0;for(const i of d){const _=q(a,i);o+=p(_)}return o}catch(d){return console.error("Error calculating total rooms:",d),0}}function Y(a,d){return d==="Jan"||d==="Mar"||d==="May"||d==="Jul"||d==="Aug"||d==="Oct"||d==="Dec"?31:d==="Apr"||d==="Jun"||d==="Sep"||d==="Nov"?30:d==="Feb"?28:d==="Jan-Mar"?90:d==="Apr-Jun"?91:d==="Jul-Sep"||d==="Oct-Dec"?92:30}function E(a){return v(a).reduce((o,i)=>o+p(Y(a,i)),0)}function ee(a,d){try{let o=m.getValue(f.value,"F&B Revenue Assumptions","Number of rooms available",a,d);if(o!=null)return p(o);if(localStorage.getItem("marketSegmentation")==="true"){const Z=m.getValue(f.value,"Room Revenue Assumptions","Total Rooms",a,d);if(Z!=null){const Se=Y(a,d);return p(Z)*Se}}const _=q(a,d),T=Y(a,d);return _*T}catch(o){console.error("Error fetching available rooms:",o);const i=q(a,d),_=Y(a,d);return i*_}}function fe(a){return v(a).reduce((o,i)=>o+p(ee(a,i)),0)}function te(a,d){try{const o=m.getValue(f.value,"F&B Revenue Assumptions","Number of rooms sold (excl.)",a,d);if(o!=null)return p(o);const i=m.getValue(f.value,"F&B Revenue Assumptions","Occupancy (excl.) %",a,d);if(i!=null){const U=ee(a,d);return Math.round(p(i)/100*U)}const _=ee(a,d);return Math.round(_*.75)}catch(o){return console.error("Error fetching sold rooms:",o),0}}function be(a){return v(a).reduce((o,i)=>o+p(te(a,i)),0)}function ce(a,d){try{const o=m.getValue(f.value,"F&B Revenue Assumptions","Occupancy (excl.) %",a,d);if(o!=null)return p(o);const i=te(a,d),_=ee(a,d);return _>0?Number((i/_*100).toFixed(2)):0}catch(o){return console.error("Error fetching occupancy percentage:",o),0}}function me(a){const d=v(a),o=d.reduce((_,T)=>_+p(te(a,T)),0),i=d.reduce((_,T)=>_+p(ee(a,T)),0);return i>0?Number((o/i*100).toFixed(2)):0}function re(a,d){try{const o=m.getValue(f.value,"F&B Revenue Assumptions","Number of guests",a,d);return o!=null?p(o):0}catch(o){return console.error("Error fetching number of guests:",o),0}}function Ge(a){return v(a).reduce((o,i)=>o+p(re(a,i)),0)}function ge(a,d){try{const o=m.getValue(f.value,"F&B Revenue Assumptions","Total Covers",a,d);return o!=null?p(o):0}catch(o){return console.error("Error fetching number of covers:",o),0}}function Pe(a){return v(a).reduce((o,i)=>o+p(ge(a,i)),0)}function ne(a,d){try{const o=m.getValue(f.value,"F&B Revenue Assumptions","Average Spent Per F&B Customer",a,d);return o!=null?p(o):0}catch(o){return console.error("Error fetching average F&B spent:",o),0}}function De(a){const d=v(a),o=d.reduce((i,_)=>i+p(ne(a,_)),0);return o>0?o/d.length:0}function M(a,d){try{const o=m.getValue(f.value,"F&B Revenue Assumptions","Average Room Rate",a,d);return o!=null?p(o):0}catch(o){return console.error("Error fetching average room rate:",o),0}}function Ve(a){const d=v(a),o=d.reduce((i,_)=>i+p(M(a,_)),0);return o>0?o/d.length:0}function Fe(a,d){try{const o=m.getValue(f.value,"F&B Revenue Assumptions","Revenue Per Available Room",a,d);if(o!=null)return p(o);const i=te(a,d),_=M(a,d),T=ee(a,d);return T>0?i*_/T:0}catch(o){return console.error("Error fetching revenue per available room:",o),0}}function ke(a){const d=v(a),o=d.reduce((i,_)=>i+p(Fe(a,_)),0);return o>0?o/d.length:0}function Be(){if(!x.visibleYears||x.visibleYears.length===0)return!1;for(const a of x.visibleYears){const d=v(a);for(const o of d)if(q(a,o)>0)return!0}return!1}function xe(){if(!x.visibleYears||x.visibleYears.length===0)return!1;for(const a of x.visibleYears){const d=v(a);for(const o of d)if(Y(a,o)>0)return!0}return!1}function Me(){if(!x.visibleYears||x.visibleYears.length===0)return!1;for(const a of x.visibleYears){const d=v(a);for(const o of d)if(ee(a,o)>0)return!0}return!1}function ze(){if(!x.visibleYears||x.visibleYears.length===0)return!1;for(const a of x.visibleYears){const d=v(a);for(const o of d)if(te(a,o)>0)return!0}return!1}function ye(){if(!x.visibleYears||x.visibleYears.length===0)return!1;for(const a of x.visibleYears){const d=v(a);for(const o of d)if(ce(a,o)>0)return!0}return!1}function He(){if(!x.visibleYears||x.visibleYears.length===0)return!1;for(const a of x.visibleYears){const d=v(a);for(const o of d)if(re(a,o)>0)return!0}return!1}function Ce(){if(!x.visibleYears||x.visibleYears.length===0)return!1;for(const a of x.visibleYears){const d=v(a);for(const o of d)if(ge(a,o)>0)return!0}return!1}function Le(){if(!x.visibleYears||x.visibleYears.length===0)return!1;for(const a of x.visibleYears){const d=v(a);for(const o of d)if(ne(a,o)>0)return!0}return!1}function je(){if(!x.visibleYears||x.visibleYears.length===0)return!1;for(const a of x.visibleYears){const d=v(a);for(const o of d)if(M(a,o)>0)return!0}return!1}function We(){if(!x.visibleYears||x.visibleYears.length===0)return!1;for(const a of x.visibleYears){const d=v(a);for(const o of d)if(Fe(a,o)>0)return!0}return!1}const _e=I([]);Ft(()=>G(this,null,function*(){var a;try{if((a=z.value)!=null&&a.project_name){const d=yield It(z.value.project_name);_e.value=d,d.forEach((o,i)=>{})}}catch(d){console.error("Error loading restaurants:",d),_e.value=[]}})),qe(z,a=>G(this,null,function*(){if(a!=null&&a.project_name)try{const d=yield It(a.project_name);_e.value=d,console.log("Reloaded restaurants for new project:",d)}catch(d){console.error("Error reloading restaurants for new project:",d),_e.value=[]}}));function Ye(){return _e.value}function Ne(a,d,o){try{const i=a.name||a,_=`Total Food Revenue:${i}`,T=m.getValue(f.value,"F&B Revenue Assumptions",_,d,o);if(T!=null)return p(T);const U={restaurant:i,section:"Total",type:"Total Food Revenue"},Z=m.getValue(f.value,"F&B Revenue Assumptions",JSON.stringify(U),d,o);return Z!=null?p(Z):0}catch(i){return console.error(`Error getting food revenue for ${a}:`,i),0}}function Ke(a,d){return v(d).reduce((i,_)=>i+p(Ne(a,d,_)),0)}function Oe(a,d,o){try{const i=a.name||a,_=`Total Beverage Revenue:${i}`,T=m.getValue(f.value,"F&B Revenue Assumptions",_,d,o);if(T!=null)return p(T);const U={restaurant:i,section:"Total",type:"Total Beverage Revenue"},Z=m.getValue(f.value,"F&B Revenue Assumptions",JSON.stringify(U),d,o);return Z!=null?p(Z):(console.log(` No beverage revenue data found for ${i} in ${d} ${o}`),0)}catch(i){return console.error(`Error getting beverage revenue for ${a}:`,i),0}}function O(a,d){return v(d).reduce((i,_)=>i+p(Oe(a,d,_)),0)}function $(a,d){try{const o=m.getValue(f.value,"Banquet Revenue Assumptions","Food",a,d);return o!=null?p(o):(console.log(` No banquet food revenue data found for ${a} ${d}`),0)}catch(o){return console.error(`Error getting banquet food revenue for ${a} ${d}:`,o),0}}function B(a){return v(a).reduce((o,i)=>o+p($(a,i)),0)}function H(a,d){try{const o=["outside_service_food_catering","outside_catering_food","catering_food","outside_food_service","external_catering_food"];for(const i of o){const _=m.getValue(f.value,"Banquet Revenue Assumptions",i,a,d);if(_!=null)return p(_)}return console.log(` No outside catering food revenue data found for ${a} ${d}`),0}catch(o){return console.error(`Error getting outside catering food revenue for ${a} ${d}:`,o),0}}function W(a){return v(a).reduce((o,i)=>o+p(H(a,i)),0)}function J(a,d){try{const o=m.getValue(f.value,"Banquet Revenue Assumptions","Liquor",a,d),i=m.getValue(f.value,"Banquet Revenue Assumptions","Soft Drinks",a,d),_=p(o)||0,T=p(i)||0,U=_+T;return _>0||T>0?U:0}catch(o){return console.error(`Error getting banquet beverage revenue for ${a} ${d}:`,o),0}}function le(a){return v(a).reduce((o,i)=>o+p(J(a,i)),0)}function Q(a,d){try{const o=m.getValue(f.value,"Banquet Revenue Assumptions","outside_service_beverage_catering",a,d);return o!=null?p(o):(console.log(` No outside catering beverage revenue data found for ${a} ${d}`),0)}catch(o){return console.error(`Error getting outside catering beverage revenue for ${a} ${d}:`,o),0}}function ie(a){return v(a).reduce((o,i)=>o+p(Q(a,i)),0)}function de(a,d){try{const o=m.getValue(f.value,"Banquet Revenue Assumptions","Hall Space Charges",a,d);return o!=null?p(o):0}catch(o){return console.error(`Error getting function room rental revenue for ${a} ${d}:`,o),0}}function ue(a){return v(a).reduce((o,i)=>o+p(de(a,i)),0)}function he(a,d){try{const o=m.getValue(f.value,"Banquet Revenue Assumptions","tobacco",a,d),i=m.getValue(f.value,"Banquet Revenue Assumptions","non_fnb",a,d),_=m.getValue(f.value,"Banquet Revenue Assumptions","others",a,d),T=p(o)||0,U=p(i)||0,Z=p(_)||0,Se=["additional_revenue","extra_revenue","supplementary_revenue","additional_income","extra_income"];let Ue=0;for(const Gt of Se){const wt=m.getValue(f.value,"Banquet Revenue Assumptions",Gt,a,d);if(wt!=null){const zt=p(wt)||0;Ue+=zt}}const Tt=T+U+Z+Ue;return Tt>0?Tt:0}catch(o){return console.error(`Error getting miscellaneous other revenue for ${a} ${d}:`,o),0}}function st(a){return v(a).reduce((o,i)=>o+p(he(a,i)),0)}function Re(a,d){try{const o=["Audiovisual","Audio Visual","audiovisual","audio_visual","av_revenue"];for(const i of o){const _=m.getValue(f.value,"Banquet Revenue Assumptions",i,a,d);if(_!=null)return p(_)}return 0}catch(o){return console.error(`Error getting audiovisual revenue for ${a} ${d}:`,o),0}}function nt(a){return v(a).reduce((o,i)=>o+p(Re(a,i)),0)}function lt(a,d){try{const o=de(a,d),i=he(a,d),_=Re(a,d);return p(o)+p(i)+p(_)}catch(o){return console.error(`Error calculating total other revenue for ${a} ${d}:`,o),0}}function Qe(a){try{const d=v(a);let o=0;for(const i of d){const _=lt(a,i);o+=p(_)}return o}catch(d){return console.error(`Error calculating total other revenue for year ${a}:`,d),0}}function pe(a,d){try{const o=Ye();let i=0;for(const _ of o){const T=Ne(_,a,d);i+=p(T)}return i}catch(o){return console.error(`Error calculating total food revenue for ${a} ${d}:`,o),0}}function Ie(a){try{const d=v(a);let o=0;for(const i of d){const _=pe(a,i);o+=p(_)}return o}catch(d){return console.error(`Error calculating total food revenue for year ${a}:`,d),0}}function Xe(a,d){try{const o=Ye();let i=0;for(const _ of o){const T=Oe(_,a,d);i+=p(T)}return i}catch(o){return console.error(`Error calculating total beverage revenue for ${a} ${d}:`,o),0}}function dt(a){try{const d=v(a);let o=0;for(const i of d){const _=Xe(a,i);o+=p(_)}return o}catch(d){return console.error(`Error calculating total beverage revenue for year ${a}:`,d),0}}function Ze(a,d){try{const o=pe(a,d),i=Xe(a,d);return p(o)+p(i)}catch(o){return console.error(`Error calculating total food & beverage revenue for ${a} ${d}:`,o),0}}function we(a){try{const d=Ie(a),o=dt(a);return p(d)+p(o)}catch(d){return console.error(`Error calculating total food & beverage revenue for year ${a}:`,d),0}}function $e(a,d){try{const o=Ze(a,d),i=lt(a,d);return p(o)+p(i)}catch(o){return console.error(`Error calculating total revenue for ${a} ${d}:`,o),0}}function pt(a){try{const d=v(a);let o=0;for(const i of d){const _=$e(a,i);o+=p(_)}return o}catch(d){return console.error(`Error calculating total revenue for year ${a}:`,d),0}}function at(a,d){try{const o=m.getValue(f.value,"F&B Revenue Assumptions","Service Charge",a,d);return o!=null?p(o):$e(a,d)*.1}catch(o){return console.error(`Error getting service charge for ${a} ${d}:`,o),0}}function ae(a){try{const d=v(a);let o=0;for(const i of d){const _=at(a,i);o+=p(_)}return o}catch(d){return console.error(`Error calculating service charge for year ${a}:`,d),0}}function Ae(a,d){try{const o=$e(a,d),i=at(a,d);return p(o)+p(i)}catch(o){return console.error(`Error calculating total revenue including service charge for ${a} ${d}:`,o),0}}function X(a){try{const d=v(a);let o=0;for(const i of d){const _=Ae(a,i);o+=p(_)}return o}catch(d){return console.error(`Error calculating total revenue including service charge for year ${a}:`,d),0}}function L(a,d){try{const o=m.getValue(f.value,"Expense Assumptions:Food And Beverage","Cost of Food sales",a,d),i=p(o),_=i>1?i/100:i,T=pe(a,d);return p(T)*_}catch(o){return console.error(`Error getting cost of food sales for ${a} ${d}:`,o),0}}function oe(a){try{const d=v(a);let o=0;for(const i of d){const _=L(a,i);o+=p(_)}return o}catch(d){return console.error(`Error calculating cost of food sales for year ${a}:`,d),0}}function Ee(a,d){try{const o=m.getValue(f.value,"Expense Assumptions:Food And Beverage","Cost of Beverage sales",a,d),i=p(o),_=i>1?i/100:i,T=Xe(a,d);return p(T)*_}catch(o){return console.error(`Error getting cost of beverage sales for ${a} ${d}:`,o),0}}function it(a){try{const d=v(a);let o=0;for(const i of d){const _=Ee(a,i);o+=p(_)}return o}catch(d){return console.error(`Error calculating cost of beverage sales for year ${a}:`,d),0}}function ut(a,d){try{const o=L(a,d),i=Ee(a,d);return p(o)+p(i)}catch(o){return console.error(`Error calculating total F&B cost of sales for ${a} ${d}:`,o),0}}function Je(a){try{const d=v(a);let o=0;for(const i of d){const _=ut(a,i);o+=p(_)}return o}catch(d){return console.error(`Error calculating total F&B cost of sales for year ${a}:`,d),0}}function et(a,d){try{const o=m.getValue(f.value,"Expense Assumptions:Food And Beverage","Cost of Beverage sales",a,d),i=p(o),_=i>1?i/100:i,T=Re(a,d);return p(T)*_}catch(o){return console.error(`Error getting audiovisual costs for ${a} ${d}:`,o),0}}function ft(a){try{const d=v(a);let o=0;for(const i of d){const _=et(a,i);o+=p(_)}return o}catch(d){return console.error(`Error calculating audiovisual costs for year ${a}:`,d),0}}function Te(a,d){try{const o=m.getValue(f.value,"Expense Assumptions:Food And Beverage","Cost of Beverage sales",a,d),i=p(o),_=i>1?i/100:i,T=he(a,d);return p(T)*_}catch(o){return console.error(`Error getting miscellaneous costs for ${a} ${d}:`,o),0}}function bt(a){try{const d=v(a);let o=0;for(const i of d){const _=Te(a,i);o+=p(_)}return o}catch(d){return console.error(`Error calculating miscellaneous costs for year ${a}:`,d),0}}function ct(a,d){try{const o=Te(a,d),i=et(a,d);return p(o)+p(i)}catch(o){return console.error(`Error calculating total cost of other revenue for ${a} ${d}:`,o),0}}function tt(a){try{const d=v(a);let o=0;for(const i of d){const _=ct(a,i);o+=p(_)}return o}catch(d){return console.error(`Error calculating total cost of other revenue for year ${a}:`,d),0}}function rt(a,d){try{const o=ut(a,d),i=ct(a,d);return p(o)+p(i)}catch(o){return console.error(`Error calculating total cost of sales for ${a} ${d}:`,o),0}}function mt(a){try{const d=v(a);let o=0;for(const i of d){const _=rt(a,i);o+=p(_)}return o}catch(d){return console.error(`Error calculating total cost of sales for year ${a}:`,d),0}}function ht(a,d){try{const o=$e(a,d),i=rt(a,d);return p(o)-p(i)}catch(o){return console.error(`Error calculating gross profit for ${a} ${d}:`,o),0}}function b(a){try{const d=v(a);let o=0;for(const i of d){const _=ht(a,i);o+=p(_)}return o}catch(d){return console.error(`Error calculating gross profit for year ${a}:`,d),0}}function n(){var a,d;try{const o="Expense Assumptions:Food And Beverage",i=f.value,_=((d=(a=m.cache)==null?void 0:a[i])==null?void 0:d[o])||{},T=Se=>String(Se).toLowerCase().replace(/\s+/g," ").trim(),U=new Set(["cost of food sales","cost of beverage sales","miscellaneous cost","audiovisual cost"]);return Object.keys(_).filter(Se=>!U.has(T(Se))).sort()}catch(o){return console.error("Error reading F&B expense categories from cache:",o),[]}}function s(a,d,o){try{const i=m.getValue(f.value,"Expense Assumptions:Food And Beverage",a,d,o);return i!=null?p(i):0}catch(i){return console.error(`Error getting F&B expense ${a} for ${d} ${o}:`,i),0}}function u(a,d){try{const o=v(d);let i=0;for(const _ of o){const T=s(a,d,_);i+=p(T)}return i}catch(o){return console.error(`Error calculating F&B expense ${a} for year ${d}:`,o),0}}function w(a,d){try{const o=n();let i=0;for(const _ of o){const T=s(_,a,d);i+=p(T)}return i}catch(o){return console.error(`Error calculating total F&B expenses for ${a} ${d}:`,o),0}}function S(a){try{const d=v(a);let o=0;for(const i of d){const _=w(a,i);o+=p(_)}return o}catch(d){return console.error(`Error calculating total F&B expenses for year ${a}:`,d),0}}return(a,d)=>(t(),r("div",zd,[e("div",Hd,[e("div",Wd,[e("table",Kd,[e("thead",Qd,[e("tr",Xd,[e("td",{colspan:1+k.visibleYears.reduce((o,i)=>o+(h(i)?1:v(i).length+1),0),class:"px-6 py-4 text-center"},[e("div",ea,[P(D(Ut),{class:"w-6 h-6 text-green-200"}),e("h1",ta,c(f.value),1)])],8,Zd)]),e("tr",ra,[e("td",{colspan:1+k.visibleYears.reduce((o,i)=>o+(h(i)?1:v(i).length+1),0),class:"px-6 py-4 text-center"},d[0]||(d[0]=[e("div",{class:"flex items-center justify-center gap-2"},[e("h2",{class:"text-xl font-semibold tracking-wide"},"Food & Beverage Profit & Loss Report")],-1)]),8,oa)]),e("tr",null,[d[1]||(d[1]=e("th",{rowspan:"2",class:"px-3 py-2 text-left align-middle border-r border-green-400 font-semibold text-sm min-w-[200px]"},[e("div",{class:"flex items-center gap-1"}," Details ")],-1)),(t(!0),r(l,null,g(k.visibleYears,o=>(t(),r("th",{key:"header-"+o,colspan:h(o)?1:v(o).length+1,class:"px-2 py-2 text-center border-x-2 border-white cursor-pointer select-none hover:bg-green-700 transition-all duration-200 group text-sm",onClick:i=>F(o),title:"Click to collapse/expand"},[e("div",na,[e("span",la,c(o),1),h(o)?(t(),ot(D(qt),{key:1,class:"w-3 h-3 transition-transform group-hover:scale-110"})):(t(),ot(D(Yt),{key:0,class:"w-3 h-3 transition-transform group-hover:scale-110"}))])],8,sa))),128))]),e("tr",da,[(t(!0),r(l,null,g(k.visibleYears,o=>(t(),r(l,{key:"months-"+o},[h(o)?(t(),r("th",ua,[e("div",ba,[P(D(xt),{class:"w-2 h-2"}),d[3]||(d[3]=N(" Total ",-1))])])):(t(),r(l,{key:0},[(t(!0),r(l,null,g(v(o),i=>(t(),r("th",{key:o+"-"+i,class:"px-2 py-1 text-center border border-green-300 min-w-[100px] font-medium"},c(i),1))),128)),e("th",aa,[e("div",ia,[P(D(xt),{class:"w-2 h-2"}),d[2]||(d[2]=N(" Total ",-1))])])],64))],64))),128))])]),e("tbody",ca,[e("tr",ga,[e("td",{colspan:1+k.visibleYears.reduce((o,i)=>o+(h(i)?1:v(i).length+1),0),class:"px-3 py-3 font-bold text-white border-r border-green-700"},d[4]||(d[4]=[e("div",{class:"flex items-center gap-2"}," Statistics ",-1)]),8,xa),(t(!0),r(l,null,g(k.visibleYears,o=>(t(),r(l,{key:"stats-divider-"+o},[h(o)?(t(),r("td",pa)):(t(),r(l,{key:0},[(t(!0),r(l,null,g(v(o),i=>(t(),r("td",{key:"stats-divider-cell-"+o+"-"+i,class:"px-1 py-1 text-center border border-green-700 bg-green-800"}))),128)),d[5]||(d[5]=e("td",{class:"px-1 py-1 text-center border border-green-700 bg-green-800"},null,-1))],64))],64))),128))]),Be()?(t(),r("tr",fa,[d[6]||(d[6]=e("td",{class:"px-3 py-2 font-medium border-r border-green-200 dark:border-green-700"},[e("div",{class:"flex items-center gap-1"},"NO OF ROOMS")],-1)),(t(!0),r(l,null,g(k.visibleYears,o=>(t(),r(l,{key:"no-rooms-"+o},[h(o)?(t(),r("td",ka,[e("span",ya,c(R(K(o))),1)])):(t(),r(l,{key:0},[(t(!0),r(l,null,g(v(o),i=>(t(),r("td",{key:"no-rooms-cell-"+o+"-"+i,class:"px-2 py-1 text-right border border-green-200 dark:border-green-700 bg-green-50 dark:bg-green-900/20 dark:text-gray-200"},[e("span",ma,c(R(q(o,i))),1)]))),128)),e("td",ha,[e("span",va,c(R(K(o))),1)])],64))],64))),128))])):V("",!0),xe()?(t(),r("tr",_a,[d[7]||(d[7]=e("td",{class:"px-3 py-2 font-medium border-r border-green-200 dark:border-green-700"},[e("div",{class:"flex items-center gap-1"},"NO OF DAYS")],-1)),(t(!0),r(l,null,g(k.visibleYears,o=>(t(),r(l,{key:"no-days-"+o},[h(o)?(t(),r("td",Aa,[e("span",Ea,c(R(E(o))),1)])):(t(),r(l,{key:0},[(t(!0),r(l,null,g(v(o),i=>(t(),r("td",{key:"no-days-cell-"+o+"-"+i,class:"px-2 py-1 text-right border border-green-200 dark:border-green-700 bg-green-50 dark:bg-green-900/20"},[e("span",Ra,c(R(Y(o,i))),1)]))),128)),e("td",wa,[e("span",$a,c(R(E(o))),1)])],64))],64))),128))])):V("",!0),Me()?(t(),r("tr",Sa,[d[8]||(d[8]=e("td",{class:"px-3 py-2 font-medium border-r border-green-200 dark:border-green-700"},[e("div",{class:"flex items-center gap-1"},"AVAILABLE ROOMS")],-1)),(t(!0),r(l,null,g(k.visibleYears,o=>(t(),r(l,{key:"available-rooms-"+o},[h(o)?(t(),r("td",Oa,[e("span",Ta,c(R(fe(o))),1)])):(t(),r(l,{key:0},[(t(!0),r(l,null,g(v(o),i=>(t(),r("td",{key:"available-rooms-cell-"+o+"-"+i,class:"px-2 py-1 text-right border border-green-200 dark:border-green-700 bg-green-50 dark:bg-green-900/20"},[e("span",Fa,c(R(ee(o,i))),1)]))),128)),e("td",Ca,[e("span",Ya,c(R(fe(o))),1)])],64))],64))),128))])):V("",!0),ze()?(t(),r("tr",Pa,[d[9]||(d[9]=e("td",{class:"px-3 py-2 font-medium border-r border-green-200 dark:border-green-700"},[e("div",{class:"flex items-center gap-1"},"SOLD ROOMS (excl. comp)")],-1)),(t(!0),r(l,null,g(k.visibleYears,o=>(t(),r(l,{key:"sold-rooms-"+o},[h(o)?(t(),r("td",Ma,[e("span",La,c(R(be(o))),1)])):(t(),r(l,{key:0},[(t(!0),r(l,null,g(v(o),i=>(t(),r("td",{key:"sold-rooms-cell-"+o+"-"+i,class:"px-2 py-1 text-right border border-green-200 dark:border-green-700 bg-green-50 dark:bg-green-900/20"},[e("span",Da,c(R(te(o,i))),1)]))),128)),e("td",Va,[e("span",Ba,c(R(be(o))),1)])],64))],64))),128))])):V("",!0),ye()?(t(),r("tr",ja,[d[10]||(d[10]=e("td",{class:"px-3 py-2 font-medium border-r border-green-200 dark:border-green-700"},[e("div",{class:"flex items-center gap-1"},"ROOM OCCUPANCY %")],-1)),(t(!0),r(l,null,g(k.visibleYears,o=>(t(),r(l,{key:"occupancy-"+o},[h(o)?(t(),r("td",Ua,[e("span",qa,c(j(me(o)))+"%",1)])):(t(),r(l,{key:0},[(t(!0),r(l,null,g(v(o),i=>(t(),r("td",{key:"occupancy-cell-"+o+"-"+i,class:"px-2 py-1 text-right border border-green-200 dark:border-green-700 bg-green-50 dark:bg-green-900/20"},[e("span",Na,c(j(ce(o,i)))+"%",1)]))),128)),e("td",Ia,[e("span",Ja,c(j(me(o)))+"%",1)])],64))],64))),128))])):V("",!0),He()?(t(),r("tr",Ga,[d[11]||(d[11]=e("td",{class:"px-3 py-2 font-medium border-r border-green-200 dark:border-green-700"},[e("div",{class:"flex items-center gap-1"},"NUMBER OF GUESTS")],-1)),(t(!0),r(l,null,g(k.visibleYears,o=>(t(),r(l,{key:"guests-"+o},[h(o)?(t(),r("td",Ka,[e("span",Qa,c(R(Ge(o))),1)])):(t(),r(l,{key:0},[(t(!0),r(l,null,g(v(o),i=>(t(),r("td",{key:"guests-cell-"+o+"-"+i,class:"px-2 py-1 text-right border border-green-200 dark:border-green-700 bg-green-50 dark:bg-green-900/20"},[e("span",za,c(R(re(o,i))),1)]))),128)),e("td",Ha,[e("span",Wa,c(R(Ge(o))),1)])],64))],64))),128))])):V("",!0),Ce()?(t(),r("tr",Xa,[d[12]||(d[12]=e("td",{class:"px-3 py-2 font-medium border-r border-green-200 dark:border-green-700"},[e("div",{class:"flex items-center gap-1"},"NUMBER OF F&B COVERS")],-1)),(t(!0),r(l,null,g(k.visibleYears,o=>(t(),r(l,{key:"covers-"+o},[h(o)?(t(),r("td",ri,[e("span",oi,c(R(Pe(o))),1)])):(t(),r(l,{key:0},[(t(!0),r(l,null,g(v(o),i=>(t(),r("td",{key:"covers-cell-"+o+"-"+i,class:"px-2 py-1 text-right border border-green-200 dark:border-green-700 bg-green-50 dark:bg-green-900/20"},[e("span",Za,c(R(ge(o,i))),1)]))),128)),e("td",ei,[e("span",ti,c(R(Pe(o))),1)])],64))],64))),128))])):V("",!0),Le()?(t(),r("tr",si,[d[13]||(d[13]=e("td",{class:"px-3 py-2 font-medium border-r border-green-200 dark:border-green-700"},[e("div",{class:"flex items-center gap-1"},"AVERAGE F&B SPENT PER COVER")],-1)),(t(!0),r(l,null,g(k.visibleYears,o=>(t(),r(l,{key:"avg-fnb-"+o},[h(o)?(t(),r("td",ai,[e("span",ii,c(A(De(o))),1)])):(t(),r(l,{key:0},[(t(!0),r(l,null,g(v(o),i=>(t(),r("td",{key:"avg-fnb-cell-"+o+"-"+i,class:"px-2 py-1 text-right border border-green-200 dark:border-green-700 bg-green-50 dark:bg-green-900/20"},[e("span",ni,c(A(ne(o,i))),1)]))),128)),e("td",li,[e("span",di,c(A(De(o))),1)])],64))],64))),128))])):V("",!0),je()?(t(),r("tr",ui,[d[14]||(d[14]=e("td",{class:"px-3 py-2 font-medium border-r border-green-200 dark:border-green-700"},[e("div",{class:"flex items-center gap-1"},"AVERAGE ROOM RATE")],-1)),(t(!0),r(l,null,g(k.visibleYears,o=>(t(),r(l,{key:"avg-rate-"+o},[h(o)?(t(),r("td",xi,[e("span",pi,c(A(Ve(o))),1)])):(t(),r(l,{key:0},[(t(!0),r(l,null,g(v(o),i=>(t(),r("td",{key:"avg-rate-cell-"+o+"-"+i,class:"px-2 py-1 text-right border border-green-200 dark:border-green-700 bg-green-50 dark:bg-green-900/20"},[e("span",bi,c(A(M(o,i))),1)]))),128)),e("td",ci,[e("span",gi,c(A(Ve(o))),1)])],64))],64))),128))])):V("",!0),We()?(t(),r("tr",fi,[d[15]||(d[15]=e("td",{class:"px-3 py-2 font-medium border-r border-green-200 dark:border-green-700"},[e("div",{class:"flex items-center gap-1"},"REVENUE PER AVAILABLE ROOM")],-1)),(t(!0),r(l,null,g(k.visibleYears,o=>(t(),r(l,{key:"rev-per-room-"+o},[h(o)?(t(),r("td",ki,[e("span",yi,c(A(ke(o))),1)])):(t(),r(l,{key:0},[(t(!0),r(l,null,g(v(o),i=>(t(),r("td",{key:"rev-per-room-cell-"+o+"-"+i,class:"px-2 py-1 text-right border border-green-200 dark:border-green-700 bg-green-50 dark:bg-green-900/20"},[e("span",mi,c(A(Fe(o,i))),1)]))),128)),e("td",hi,[e("span",vi,c(A(ke(o))),1)])],64))],64))),128))])):V("",!0),e("tr",_i,[d[17]||(d[17]=e("td",{class:"px-3 py-2 border-r border-gray-200"},[e("div",{class:"flex items-center gap-1"})],-1)),(t(!0),r(l,null,g(k.visibleYears,o=>(t(),r(l,{key:"empty-stats-1-"+o},[h(o)?(t(),r("td",Ri)):(t(),r(l,{key:0},[(t(!0),r(l,null,g(v(o),i=>(t(),r("td",{key:"empty-stats-1-cell-"+o+"-"+i,class:"px-2 py-1 text-center border border-gray-200 bg-gray-100"}))),128)),d[16]||(d[16]=e("td",{class:"px-2 py-1 text-center border border-gray-200 bg-gray-100"},null,-1))],64))],64))),128))]),e("tr",wi,[d[19]||(d[19]=e("td",{class:"px-3 py-2 border-r border-gray-200"},[e("div",{class:"flex items-center gap-1"})],-1)),(t(!0),r(l,null,g(k.visibleYears,o=>(t(),r(l,{key:"empty-stats-2-"+o},[h(o)?(t(),r("td",$i)):(t(),r(l,{key:0},[(t(!0),r(l,null,g(v(o),i=>(t(),r("td",{key:"empty-stats-2-cell-"+o+"-"+i,class:"px-2 py-1 text-center border border-gray-200 bg-gray-100"}))),128)),d[18]||(d[18]=e("td",{class:"px-2 py-1 text-center border border-gray-200 bg-gray-100"},null,-1))],64))],64))),128))]),e("tr",Ai,[e("td",{colspan:1+k.visibleYears.reduce((o,i)=>o+(h(i)?1:v(i).length+1),0),class:"px-3 py-3 font-bold text-white border-r border-green-700"},d[20]||(d[20]=[e("div",{class:"flex items-center"},"Revenue",-1)]),8,Ei),(t(!0),r(l,null,g(k.visibleYears,o=>(t(),r(l,{key:"revenue-divider-"+o},[h(o)?(t(),r("td",Si)):(t(),r(l,{key:0},[(t(!0),r(l,null,g(v(o),i=>(t(),r("td",{key:"revenue-divider-cell-"+o+"-"+i,class:"px-1 py-1 text-center border border-green-700 bg-green-800"}))),128)),d[21]||(d[21]=e("td",{class:"px-1 py-1 text-center border border-green-700 bg-green-800"},null,-1))],64))],64))),128))]),e("tr",Fi,[e("td",{colspan:1+k.visibleYears.reduce((o,i)=>o+(h(i)?1:v(i).length+1),0),class:"px-3 py-2 font-semibold text-white border-r border-green-700"},[e("div",Yi,[P(D(At),{class:"w-4 h-4"}),d[22]||(d[22]=N(" Food Revenue ",-1))])],8,Ci),(t(!0),r(l,null,g(k.visibleYears,o=>(t(),r(l,{key:"food-revenue-header-"+o},[h(o)?(t(),r("td",Oi)):(t(),r(l,{key:0},[(t(!0),r(l,null,g(v(o),i=>(t(),r("td",{key:"food-revenue-header-cell-"+o+"-"+i,class:"px-1 py-1 text-center border border-green-600 bg-green-600"}))),128)),d[23]||(d[23]=e("td",{class:"px-1 py-1 text-center border border-green-600 bg-green-600"},null,-1))],64))],64))),128))]),(t(!0),r(l,null,g(Ye(),o=>(t(),r("tr",{key:"food-revenue-"+o,class:"bg-green-100 dark:bg-green-800/30 border-b border-green-200 dark:border-green-700"},[e("td",Ti,[e("div",Pi,c(o.name||o),1)]),(t(!0),r(l,null,g(k.visibleYears,i=>(t(),r(l,{key:"food-revenue-"+o+"-"+i},[h(i)?(t(),r("td",Mi,[e("span",Li,c(A(Ke(o,i))),1)])):(t(),r(l,{key:0},[(t(!0),r(l,null,g(v(i),_=>(t(),r("td",{key:"food-revenue-cell-"+o+"-"+i+"-"+_,class:"px-2 py-1 text-right border border-green-200 dark:border-green-700 bg-green-100 dark:bg-green-800/30"},[e("span",Di,c(A(Ne(o,i,_))),1)]))),128)),e("td",Vi,[e("span",Bi,c(A(Ke(o,i))),1)])],64))],64))),128))]))),128)),e("tr",ji,[d[24]||(d[24]=e("td",{class:"px-3 py-2 font-medium border-r border-green-200 dark:border-green-700"},[e("div",{class:"flex items-center gap-1 text-green-800 dark:text-green-200"},"Banquet Food")],-1)),(t(!0),r(l,null,g(k.visibleYears,o=>(t(),r(l,{key:"banquet-food-"+o},[h(o)?(t(),r("td",Ui,[e("span",qi,c(A(B(o))),1)])):(t(),r(l,{key:0},[(t(!0),r(l,null,g(v(o),i=>(t(),r("td",{key:"banquet-food-cell-"+o+"-"+i,class:"px-2 py-1 text-right border border-green-200 dark:border-green-700 bg-green-100 dark:bg-green-800/30"},[e("span",Ni,c(A($(o,i))),1)]))),128)),e("td",Ii,[e("span",Ji,c(A(B(o))),1)])],64))],64))),128))]),e("tr",Gi,[d[25]||(d[25]=e("td",{class:"px-3 py-2 font-medium border-r border-green-200 dark:border-green-700"},[e("div",{class:"flex items-center gap-1 text-green-800 dark:text-green-200"},"Outside Catering Food")],-1)),(t(!0),r(l,null,g(k.visibleYears,o=>(t(),r(l,{key:"outside-catering-food-"+o},[h(o)?(t(),r("td",Ki,[e("span",Qi,c(A(W(o))),1)])):(t(),r(l,{key:0},[(t(!0),r(l,null,g(v(o),i=>(t(),r("td",{key:"outside-catering-food-cell-"+o+"-"+i,class:"px-2 py-1 text-right border border-green-200 dark:border-green-700 bg-green-100 dark:bg-green-800/30"},[e("span",zi,c(A(H(o,i))),1)]))),128)),e("td",Hi,[e("span",Wi,c(A(W(o))),1)])],64))],64))),128))]),e("tr",Xi,[d[26]||(d[26]=e("td",{class:"px-3 py-2 font-bold border-r border-green-600"},[e("div",{class:"flex items-center gap-1 text-white"},"Total Food Revenue")],-1)),(t(!0),r(l,null,g(k.visibleYears,o=>(t(),r(l,{key:"total-food-revenue-"+o},[h(o)?(t(),r("td",ru,[e("span",ou,c(A(Ie(o))),1)])):(t(),r(l,{key:0},[(t(!0),r(l,null,g(v(o),i=>(t(),r("td",{key:"total-food-revenue-cell-"+o+"-"+i,class:"px-2 py-1 text-right border border-green-600 font-semibold bg-green-50 dark:bg-green-900/200"},[e("span",Zi,c(A(pe(o,i))),1)]))),128)),e("td",eu,[e("span",tu,c(A(Ie(o))),1)])],64))],64))),128))]),e("tr",su,[e("td",{colspan:1+k.visibleYears.reduce((o,i)=>o+(h(i)?1:v(i).length+1),0),class:"px-3 py-2 font-semibold text-white border-r border-green-700"},[e("div",lu,[P(D(yr),{class:"w-4 h-4"}),d[27]||(d[27]=N(" Beverage Revenue ",-1))])],8,nu),(t(!0),r(l,null,g(k.visibleYears,o=>(t(),r(l,{key:"beverage-revenue-header-"+o},[h(o)?(t(),r("td",du)):(t(),r(l,{key:0},[(t(!0),r(l,null,g(v(o),i=>(t(),r("td",{key:"beverage-revenue-header-cell-"+o+"-"+i,class:"px-1 py-1 text-center border border-green-600 bg-green-600"}))),128)),d[28]||(d[28]=e("td",{class:"px-1 py-1 text-center border border-green-600 bg-green-600"},null,-1))],64))],64))),128))]),(t(!0),r(l,null,g(Ye(),o=>(t(),r("tr",{key:"beverage-revenue-"+o,class:"bg-green-100 dark:bg-green-800/30 border-b border-green-200 dark:border-green-700"},[e("td",au,[e("div",iu,c(o.name||o),1)]),(t(!0),r(l,null,g(k.visibleYears,i=>(t(),r(l,{key:"beverage-revenue-"+o+"-"+i},[h(i)?(t(),r("td",gu,[e("span",xu,c(A(O(o,i))),1)])):(t(),r(l,{key:0},[(t(!0),r(l,null,g(v(i),_=>(t(),r("td",{key:"beverage-revenue-cell-"+o+"-"+i+"-"+_,class:"px-2 py-1 text-right border border-green-200 dark:border-green-700 bg-green-100 dark:bg-green-800/30"},[e("span",uu,c(A(Oe(o,i,_))),1)]))),128)),e("td",bu,[e("span",cu,c(A(O(o,i))),1)])],64))],64))),128))]))),128)),e("tr",pu,[d[29]||(d[29]=e("td",{class:"px-3 py-2 font-medium border-r border-green-200 dark:border-green-700"},[e("div",{class:"flex items-center gap-1 text-green-800 dark:text-green-200"},"Banquet Beverage")],-1)),(t(!0),r(l,null,g(k.visibleYears,o=>(t(),r(l,{key:"banquet-beverage-"+o},[h(o)?(t(),r("td",vu,[e("span",ku,c(A(le(o))),1)])):(t(),r(l,{key:0},[(t(!0),r(l,null,g(v(o),i=>(t(),r("td",{key:"banquet-beverage-cell-"+o+"-"+i,class:"px-2 py-1 text-right border border-green-200 dark:border-green-700 bg-green-100 dark:bg-green-800/30"},[e("span",fu,c(A(J(o,i))),1)]))),128)),e("td",mu,[e("span",hu,c(A(le(o))),1)])],64))],64))),128))]),e("tr",yu,[d[30]||(d[30]=e("td",{class:"px-3 py-2 font-medium border-r border-green-200 dark:border-green-700"},[e("div",{class:"flex items-center gap-1 text-green-800 dark:text-green-200"},"Outside Catering Beverage")],-1)),(t(!0),r(l,null,g(k.visibleYears,o=>(t(),r(l,{key:"outside-catering-beverage-"+o},[h(o)?(t(),r("td",$u,[e("span",Au,c(A(ie(o))),1)])):(t(),r(l,{key:0},[(t(!0),r(l,null,g(v(o),i=>(t(),r("td",{key:"outside-catering-beverage-cell-"+o+"-"+i,class:"px-2 py-1 text-right border border-green-200 dark:border-green-700 bg-green-100 dark:bg-green-800/30"},[e("span",_u,c(A(Q(o,i))),1)]))),128)),e("td",Ru,[e("span",wu,c(A(ie(o))),1)])],64))],64))),128))]),e("tr",Eu,[d[31]||(d[31]=e("td",{class:"px-3 py-2 font-bold border-r border-green-600"},[e("div",{class:"flex items-center gap-1 text-white"},"Total Beverage Revenue")],-1)),(t(!0),r(l,null,g(k.visibleYears,o=>(t(),r(l,{key:"total-beverage-revenue-"+o},[h(o)?(t(),r("td",Yu,[e("span",Ou,c(A(dt(o))),1)])):(t(),r(l,{key:0},[(t(!0),r(l,null,g(v(o),i=>(t(),r("td",{key:"total-beverage-revenue-cell-"+o+"-"+i,class:"px-2 py-1 text-right border border-green-600 font-semibold bg-green-50 dark:bg-green-900/200"},[e("span",Su,c(A(Xe(o,i))),1)]))),128)),e("td",Fu,[e("span",Cu,c(A(dt(o))),1)])],64))],64))),128))]),e("tr",Tu,[d[32]||(d[32]=e("td",{class:"px-3 py-2 font-bold border-r border-green-800"},[e("div",{class:"flex items-center gap-1 text-white"},"TOTAL FOOD & BEVERAGE")],-1)),(t(!0),r(l,null,g(k.visibleYears,o=>(t(),r(l,{key:"total-fnb-"+o},[h(o)?(t(),r("td",Bu,[e("span",Mu,c(A(we(o))),1)])):(t(),r(l,{key:0},[(t(!0),r(l,null,g(v(o),i=>(t(),r("td",{key:"total-fnb-cell-"+o+"-"+i,class:"px-2 py-1 text-right border border-green-800 font-semibold bg-green-700"},[e("span",Pu,c(A(Ze(o,i))),1)]))),128)),e("td",Du,[e("span",Vu,c(A(we(o))),1)])],64))],64))),128))]),e("tr",Lu,[e("td",{colspan:1+k.visibleYears.reduce((o,i)=>o+(h(i)?1:v(i).length+1),0),class:"px-3 py-2 font-semibold text-white border-r border-green-700"},[e("div",Nu,[P(D(Et),{class:"w-4 h-4"}),d[33]||(d[33]=N(" Other Revenue ",-1))])],8,ju)]),e("tr",Iu,[d[34]||(d[34]=e("td",{class:"px-3 py-2 font-medium border-r border-green-200 dark:border-green-700"},[e("div",{class:"flex items-center gap-1 text-green-800 dark:text-green-200"},"Function Room Rental")],-1)),(t(!0),r(l,null,g(k.visibleYears,o=>(t(),r(l,{key:"function-room-rental-"+o},[h(o)?(t(),r("td",Gu,[e("span",zu,c(A(ue(o))),1)])):(t(),r(l,{key:0},[(t(!0),r(l,null,g(v(o),i=>(t(),r("td",{key:"function-room-rental-cell-"+o+"-"+i,class:"px-2 py-1 text-right border border-green-200 dark:border-green-700 bg-green-100 dark:bg-green-800/30"},[e("span",Ju,c(A(de(o,i))),1)]))),128)),e("td",Uu,[e("span",qu,c(A(ue(o))),1)])],64))],64))),128))]),e("tr",Hu,[d[35]||(d[35]=e("td",{class:"px-3 py-2 font-medium border-r border-green-200 dark:border-green-700"},[e("div",{class:"flex items-center gap-1 text-green-800 dark:text-green-200"},"Miscellaneous Other Revenue")],-1)),(t(!0),r(l,null,g(k.visibleYears,o=>(t(),r(l,{key:"misc-other-revenue-"+o},[h(o)?(t(),r("td",Xu,[e("span",Zu,c(A(st(o))),1)])):(t(),r(l,{key:0},[(t(!0),r(l,null,g(v(o),i=>(t(),r("td",{key:"misc-other-revenue-cell-"+o+"-"+i,class:"px-2 py-1 text-right border border-green-200 dark:border-green-700 bg-green-100 dark:bg-green-800/30"},[e("span",Wu,c(A(he(o,i))),1)]))),128)),e("td",Ku,[e("span",Qu,c(A(st(o))),1)])],64))],64))),128))]),e("tr",eb,[d[36]||(d[36]=e("td",{class:"px-3 py-2 font-medium border-r border-green-200 dark:border-green-700"},[e("div",{class:"flex items-center gap-1 text-green-800 dark:text-green-200"},"Audiovisual")],-1)),(t(!0),r(l,null,g(k.visibleYears,o=>(t(),r(l,{key:"audiovisual-revenue-"+o},[h(o)?(t(),r("td",sb,[e("span",nb,c(A(nt(o))),1)])):(t(),r(l,{key:0},[(t(!0),r(l,null,g(v(o),i=>(t(),r("td",{key:"audiovisual-revenue-cell-"+o+"-"+i,class:"px-2 py-1 text-right border border-green-200 dark:border-green-700 bg-green-100 dark:bg-green-800/30"},[e("span",tb,c(A(Re(o,i))),1)]))),128)),e("td",rb,[e("span",ob,c(A(nt(o))),1)])],64))],64))),128))]),e("tr",lb,[d[37]||(d[37]=e("td",{class:"px-3 py-2 font-bold border-r border-green-600"},[e("div",{class:"flex items-center gap-1 text-white"},"Total Other Revenue")],-1)),(t(!0),r(l,null,g(k.visibleYears,o=>(t(),r(l,{key:"total-other-revenue-"+o},[h(o)?(t(),r("td",ub,[e("span",bb,c(A(Qe(o))),1)])):(t(),r(l,{key:0},[(t(!0),r(l,null,g(v(o),i=>(t(),r("td",{key:"total-other-revenue-cell-"+o+"-"+i,class:"px-2 py-1 text-right border border-green-600 font-semibold bg-green-50 dark:bg-green-900/200"},[e("span",db,c(A(lt(o,i))),1)]))),128)),e("td",ab,[e("span",ib,c(A(Qe(o))),1)])],64))],64))),128))]),e("tr",cb,[d[39]||(d[39]=e("td",{class:"px-3 py-2 border-r border-gray-200"},[e("div",{class:"flex items-center gap-1"})],-1)),(t(!0),r(l,null,g(k.visibleYears,o=>(t(),r(l,{key:"empty-before-total-revenue-"+o},[h(o)?(t(),r("td",gb)):(t(),r(l,{key:0},[(t(!0),r(l,null,g(v(o),i=>(t(),r("td",{key:"empty-before-total-revenue-cell-"+o+"-"+i,class:"px-2 py-1 text-center border border-gray-200 bg-gray-100"}))),128)),d[38]||(d[38]=e("td",{class:"px-2 py-1 text-center border border-gray-200 bg-gray-100"},null,-1))],64))],64))),128))]),e("tr",xb,[d[40]||(d[40]=e("td",{class:"px-3 py-2 font-bold border-r border-green-800"},[e("div",{class:"flex items-center gap-1 text-white"},"TOTAL REVENUE")],-1)),(t(!0),r(l,null,g(k.visibleYears,o=>(t(),r(l,{key:"total-revenue-"+o},[h(o)?(t(),r("td",hb,[e("span",vb,c(A(pt(o))),1)])):(t(),r(l,{key:0},[(t(!0),r(l,null,g(v(o),i=>(t(),r("td",{key:"total-revenue-cell-"+o+"-"+i,class:"px-2 py-1 text-right border border-green-800 font-semibold bg-green-700"},[e("span",pb,c(A($e(o,i))),1)]))),128)),e("td",fb,[e("span",mb,c(A(pt(o))),1)])],64))],64))),128))]),e("tr",kb,[d[41]||(d[41]=e("td",{class:"px-3 py-2 font-medium border-r border-green-200 dark:border-green-700"},[e("div",{class:"flex items-center gap-1 text-green-800 dark:text-green-200"},"Service Charge")],-1)),(t(!0),r(l,null,g(k.visibleYears,o=>(t(),r(l,{key:"service-charge-"+o},[h(o)?(t(),r("td",wb,[e("span",$b,c(A(ae(o))),1)])):(t(),r(l,{key:0},[(t(!0),r(l,null,g(v(o),i=>(t(),r("td",{key:"service-charge-cell-"+o+"-"+i,class:"px-2 py-1 text-right border border-green-200 dark:border-green-700 bg-green-100 dark:bg-green-800/30"},[e("span",yb,c(A(at(o,i))),1)]))),128)),e("td",_b,[e("span",Rb,c(A(ae(o))),1)])],64))],64))),128))]),e("tr",Ab,[d[42]||(d[42]=e("td",{class:"px-3 py-2 font-bold border-r border-green-800"},[e("div",{class:"flex items-center gap-1 text-white"},"TOTAL REVENUE Incl. SC")],-1)),(t(!0),r(l,null,g(k.visibleYears,o=>(t(),r(l,{key:"total-revenue-incl-sc-"+o},[h(o)?(t(),r("td",Cb,[e("span",Yb,c(A(X(o))),1)])):(t(),r(l,{key:0},[(t(!0),r(l,null,g(v(o),i=>(t(),r("td",{key:"total-revenue-incl-sc-cell-"+o+"-"+i,class:"px-2 py-1 text-right border border-green-800 font-semibold bg-green-800"},[e("span",Eb,c(A(Ae(o,i))),1)]))),128)),e("td",Sb,[e("span",Fb,c(A(X(o))),1)])],64))],64))),128))]),e("tr",Ob,[d[44]||(d[44]=e("td",{class:"px-3 py-2 border-r border-gray-200"},[e("div",{class:"flex items-center gap-1"})],-1)),(t(!0),r(l,null,g(k.visibleYears,o=>(t(),r(l,{key:"empty-stats-2-"+o},[h(o)?(t(),r("td",Tb)):(t(),r(l,{key:0},[(t(!0),r(l,null,g(v(o),i=>(t(),r("td",{key:"empty-stats-2-cell-"+o+"-"+i,class:"px-2 py-1 text-center border border-gray-200 bg-gray-100"}))),128)),d[43]||(d[43]=e("td",{class:"px-2 py-1 text-center border border-gray-200 bg-gray-100"},null,-1))],64))],64))),128))]),e("tr",Pb,[e("td",{colspan:1+k.visibleYears.reduce((o,i)=>o+(h(i)?1:v(i).length+1),0),class:"px-3 py-3 font-bold text-white border-r border-green-700"},d[45]||(d[45]=[e("div",{class:"flex items-center gap-2"}," Expenses ",-1)]),8,Db),(t(!0),r(l,null,g(k.visibleYears,o=>(t(),r(l,{key:"cost-divider-"+o},[h(o)?(t(),r("td",Vb)):(t(),r(l,{key:0},[(t(!0),r(l,null,g(v(o),i=>(t(),r("td",{key:"cost-divider-cell-"+o+"-"+i,class:"px-1 py-1 text-center border border-green-700 bg-green-800"}))),128)),d[46]||(d[46]=e("td",{class:"px-1 py-1 text-center border border-green-700 bg-green-800"},null,-1))],64))],64))),128))]),e("tr",Bb,[e("td",{colspan:1+k.visibleYears.reduce((o,i)=>o+(h(i)?1:v(i).length+1),0),class:"px-3 py-3 font-bold text-white border-r border-orange-700"},[e("div",Lb,[P(D(At),{class:"w-4 h-4"}),d[47]||(d[47]=N(" COST OF FOOD & BEVERAGE SALES ",-1))])],8,Mb),(t(!0),r(l,null,g(k.visibleYears,o=>(t(),r(l,{key:"cost-divider-"+o},[h(o)?(t(),r("td",jb)):(t(),r(l,{key:0},[(t(!0),r(l,null,g(v(o),i=>(t(),r("td",{key:"cost-divider-cell-"+o+"-"+i,class:"px-1 py-1 text-center border border-orange-700 bg-orange-800"}))),128)),d[48]||(d[48]=e("td",{class:"px-1 py-1 text-center border border-orange-700 bg-orange-800"},null,-1))],64))],64))),128))]),e("tr",Nb,[d[49]||(d[49]=e("td",{class:"px-3 py-2 font-medium border-r border-green-200 dark:border-green-700"},[e("div",{class:"flex items-center gap-1 text-green-800 dark:text-green-200"},"Cost of Food Sales")],-1)),(t(!0),r(l,null,g(k.visibleYears,o=>(t(),r(l,{key:"cost-food-"+o},[h(o)?(t(),r("td",qb,[e("span",Gb,c(A(oe(o))),1)])):(t(),r(l,{key:0},[(t(!0),r(l,null,g(v(o),i=>(t(),r("td",{key:"cost-food-cell-"+o+"-"+i,class:"px-2 py-1 text-right border border-green-200 dark:border-green-700 bg-green-100 dark:bg-green-800/30"},[e("span",Ib,c(A(L(o,i))),1)]))),128)),e("td",Jb,[e("span",Ub,c(A(oe(o))),1)])],64))],64))),128))]),e("tr",zb,[d[50]||(d[50]=e("td",{class:"px-3 py-2 font-medium border-r border-green-200 dark:border-green-700"},[e("div",{class:"flex items-center gap-1 text-green-800 dark:text-green-200"},"Cost of Beverage Sales")],-1)),(t(!0),r(l,null,g(k.visibleYears,o=>(t(),r(l,{key:"cost-beverage-"+o},[h(o)?(t(),r("td",Qb,[e("span",Xb,c(A(it(o))),1)])):(t(),r(l,{key:0},[(t(!0),r(l,null,g(v(o),i=>(t(),r("td",{key:"cost-beverage-cell-"+o+"-"+i,class:"px-2 py-1 text-right border border-green-200 dark:border-green-700 bg-green-100 dark:bg-green-800/30"},[e("span",Hb,c(A(Ee(o,i))),1)]))),128)),e("td",Wb,[e("span",Kb,c(A(it(o))),1)])],64))],64))),128))]),e("tr",Zb,[d[51]||(d[51]=e("td",{class:"px-3 py-2 font-bold border-r border-green-600"},[e("div",{class:"flex items-center gap-1 text-white"},"Total F&B Cost of Sales")],-1)),(t(!0),r(l,null,g(k.visibleYears,o=>(t(),r(l,{key:"total-fnb-cost-"+o},[h(o)?(t(),r("td",oc,[e("span",sc,c(A(Je(o))),1)])):(t(),r(l,{key:0},[(t(!0),r(l,null,g(v(o),i=>(t(),r("td",{key:"total-fnb-cost-cell-"+o+"-"+i,class:"px-2 py-1 text-right border border-green-600 font-semibold bg-green-50 dark:bg-green-900/200"},[e("span",ec,c(A(ut(o,i))),1)]))),128)),e("td",tc,[e("span",rc,c(A(Je(o))),1)])],64))],64))),128))]),e("tr",nc,[d[52]||(d[52]=e("td",{class:"px-3 py-2 font-medium border-r border-green-200 dark:border-green-700"},[e("div",{class:"flex items-center gap-1 text-green-800 dark:text-green-200"},"Audiovisual Cost")],-1)),(t(!0),r(l,null,g(k.visibleYears,o=>(t(),r(l,{key:"audiovisual-cost-"+o},[h(o)?(t(),r("td",ic,[e("span",uc,c(A(ft(o))),1)])):(t(),r(l,{key:0},[(t(!0),r(l,null,g(v(o),i=>(t(),r("td",{key:"audiovisual-cost-cell-"+o+"-"+i,class:"px-2 py-1 text-right border border-green-200 dark:border-green-700 bg-green-100 dark:bg-green-800/30"},[e("span",lc,c(A(et(o,i))),1)]))),128)),e("td",dc,[e("span",ac,c(A(ft(o))),1)])],64))],64))),128))]),e("tr",bc,[d[53]||(d[53]=e("td",{class:"px-3 py-2 font-medium border-r border-green-200 dark:border-green-700"},[e("div",{class:"flex items-center gap-1 text-green-800 dark:text-green-200"},"Miscellaneous Cost")],-1)),(t(!0),r(l,null,g(k.visibleYears,o=>(t(),r(l,{key:"misc-cost-"+o},[h(o)?(t(),r("td",pc,[e("span",fc,c(A(bt(o))),1)])):(t(),r(l,{key:0},[(t(!0),r(l,null,g(v(o),i=>(t(),r("td",{key:"misc-cost-cell-"+o+"-"+i,class:"px-2 py-1 text-right border border-green-200 dark:border-green-700 bg-green-100 dark:bg-green-800/30"},[e("span",cc,c(A(Te(o,i))),1)]))),128)),e("td",gc,[e("span",xc,c(A(bt(o))),1)])],64))],64))),128))]),e("tr",mc,[d[54]||(d[54]=e("td",{class:"px-3 py-2 font-bold border-r border-green-600"},[e("div",{class:"flex items-center gap-1 text-white"},"Total Cost of Other Revenue")],-1)),(t(!0),r(l,null,g(k.visibleYears,o=>(t(),r(l,{key:"total-other-cost-"+o},[h(o)?(t(),r("td",yc,[e("span",_c,c(A(tt(o))),1)])):(t(),r(l,{key:0},[(t(!0),r(l,null,g(v(o),i=>(t(),r("td",{key:"total-other-cost-cell-"+o+"-"+i,class:"px-2 py-1 text-right border border-green-600 font-semibold bg-green-50 dark:bg-green-900/200"},[e("span",hc,c(A(ct(o,i))),1)]))),128)),e("td",vc,[e("span",kc,c(A(tt(o))),1)])],64))],64))),128))]),e("tr",Rc,[d[55]||(d[55]=e("td",{class:"px-3 py-2 font-bold border-r border-green-800"},[e("div",{class:"flex items-center gap-1 text-white"},"TOTAL COST OF SALES")],-1)),(t(!0),r(l,null,g(k.visibleYears,o=>(t(),r(l,{key:"total-cost-sales-"+o},[h(o)?(t(),r("td",Ec,[e("span",Sc,c(A(mt(o))),1)])):(t(),r(l,{key:0},[(t(!0),r(l,null,g(v(o),i=>(t(),r("td",{key:"total-cost-sales-cell-"+o+"-"+i,class:"px-2 py-1 text-right border border-green-800 font-semibold bg-green-700"},[e("span",wc,c(A(rt(o,i))),1)]))),128)),e("td",$c,[e("span",Ac,c(A(mt(o))),1)])],64))],64))),128))]),e("tr",Fc,[d[56]||(d[56]=e("td",{class:"px-3 py-2 font-bold border-r border-green-800"},[e("div",{class:"flex items-center gap-1 text-white"},"GROSS PROFIT")],-1)),(t(!0),r(l,null,g(k.visibleYears,o=>(t(),r(l,{key:"gross-profit-"+o},[h(o)?(t(),r("td",Tc,[e("span",Pc,c(A(b(o))),1)])):(t(),r(l,{key:0},[(t(!0),r(l,null,g(v(o),i=>(t(),r("td",{key:"gross-profit-cell-"+o+"-"+i,class:"px-2 py-1 text-right border border-green-800 font-semibold bg-green-700"},[e("span",Cc,c(A(ht(o,i))),1)]))),128)),e("td",Yc,[e("span",Oc,c(A(b(o))),1)])],64))],64))),128))]),e("tr",Dc,[e("td",{colspan:1+k.visibleYears.reduce((o,i)=>o+(h(i)?1:v(i).length+1),0),class:"px-3 py-3 font-bold text-white border-r border-orange-700"},[e("div",Bc,[P(D(Et),{class:"w-4 h-4"}),d[57]||(d[57]=N(" F&B Expenses ",-1))])],8,Vc),(t(!0),r(l,null,g(k.visibleYears,o=>(t(),r(l,{key:"payroll-divider-"+o},[h(o)?(t(),r("td",Mc)):(t(),r(l,{key:0},[(t(!0),r(l,null,g(v(o),i=>(t(),r("td",{key:"payroll-divider-cell-"+o+"-"+i,class:"px-1 py-1 text-center border border-orange-700 bg-orange-800"}))),128)),d[58]||(d[58]=e("td",{class:"px-1 py-1 text-center border border-orange-700 bg-orange-800"},null,-1))],64))],64))),128))]),(t(!0),r(l,null,g(n(),o=>(t(),r("tr",{key:"fnb-expense-"+o,class:"bg-green-100 dark:bg-green-800/30 border-b border-green-200 dark:border-green-700"},[e("td",Lc,[e("div",jc,c(o),1)]),(t(!0),r(l,null,g(k.visibleYears,i=>(t(),r(l,{key:"fnb-expense-"+o+"-"+i},[h(i)?(t(),r("td",Uc,[e("span",qc,c(A(u(o,i))),1)])):(t(),r(l,{key:0},[(t(!0),r(l,null,g(v(i),_=>(t(),r("td",{key:"fnb-expense-cell-"+o+"-"+i+"-"+_,class:"px-2 py-1 text-right border border-green-200 dark:border-green-700 bg-green-100 dark:bg-green-800/30 dark:text-gray-200"},[e("span",Nc,c(A(s(o,i,_))),1)]))),128)),e("td",Ic,[e("span",Jc,c(A(u(o,i))),1)])],64))],64))),128))]))),128)),e("tr",Gc,[d[59]||(d[59]=e("td",{class:"px-3 py-2 font-bold border-r border-green-600"},[e("div",{class:"flex items-center gap-1 text-white"},"Total F&B Expenses")],-1)),(t(!0),r(l,null,g(k.visibleYears,o=>(t(),r(l,{key:"total-fnb-expenses-"+o},[h(o)?(t(),r("td",Kc,[e("span",Qc,c(A(S(o))),1)])):(t(),r(l,{key:0},[(t(!0),r(l,null,g(v(o),i=>(t(),r("td",{key:"total-fnb-expenses-cell-"+o+"-"+i,class:"px-2 py-1 text-right border border-green-600 font-semibold bg-green-50 dark:bg-green-900/200"},[e("span",zc,c(A(w(o,i))),1)]))),128)),e("td",Hc,[e("span",Wc,c(A(S(o))),1)])],64))],64))),128))]),e("tr",Xc,[e("td",{colspan:1+k.visibleYears.reduce((o,i)=>o+(h(i)?1:v(i).length+1),0),class:"px-3 py-3 font-bold text-white border-r border-orange-700"},[e("div",eg,[P(D(_r),{class:"w-4 h-4"}),d[60]||(d[60]=N(" PAYROLL ",-1))])],8,Zc),(t(!0),r(l,null,g(k.visibleYears,o=>(t(),r(l,{key:"payroll-divider-"+o},[h(o)?(t(),r("td",tg)):(t(),r(l,{key:0},[(t(!0),r(l,null,g(v(o),i=>(t(),r("td",{key:"payroll-divider-cell-"+o+"-"+i,class:"px-1 py-1 text-center border border-orange-700 bg-orange-800"}))),128)),d[61]||(d[61]=e("td",{class:"px-1 py-1 text-center border border-orange-700 bg-orange-800"},null,-1))],64))],64))),128))])])])])])]))}},og=_t(rg,[["__scopeId","data-v-f75c635d"]]),sg={class:"flex"},ng={class:"flex-1 min-h-screen bg-gradient-to-br from-white to-violet-50 dark:from-[#0f0f12] dark:to-[#0f0f12]"},lg={class:"relative p-4"},dg={key:0,class:"absolute top-4 left-4 z-30 w-[660px] max-w-[95vw] rounded-2xl overflow-hidden backdrop-blur-xl bg-white/80 border border-violet-200/60 shadow-2xl ring-1 ring-violet-300/30 dark:bg-[#151823]/80 dark:border-violet-900/40 dark:ring-violet-900/30"},ag={class:"flex items-center justify-between px-5 py-4 bg-gradient-to-r from-violet-600 to-violet-700 text-white"},ig={class:"flex items-center gap-3"},ug={class:"w-10 h-10 bg-white/20 rounded-lg flex items-center justify-center shadow-sm"},bg={class:"text-sm font-medium"},cg={class:"px-5 pb-5 bg-white/70 dark:bg-[#151823]/70"},gg={class:"mb-4 pt-4"},xg={class:"text-sm font-semibold text-gray-700 mb-3 flex items-center gap-2 dark:text-gray-200"},pg={class:"w-full"},fg={key:0,class:"mt-2 flex gap-2"},mg={class:"mb-4 pt-4"},hg={class:"text-sm font-semibold text-gray-700 mb-3 flex items-center gap-2 dark:text-gray-200"},vg={key:0,class:"flex items-center gap-2 p-3 bg-blue-50 border border-blue-200 rounded-lg dark:bg-blue-900/20 dark:border-blue-900/30"},kg={key:1,class:"flex items-center gap-2 p-3 bg-red-50 border border-red-200 rounded-lg dark:bg-red-900/20 dark:border-red-900/30"},yg={class:"text-sm text-red-700"},_g={key:2,class:"flex items-center gap-2 p-3 bg-green-50 border border-green-200 rounded-lg dark:bg-green-900/20 dark:border-green-900/30"},Rg={class:"ml-auto flex items-center gap-2"},wg={class:"text-xs text-green-600"},$g={key:3,class:"flex items-center gap-2 p-3 bg-yellow-50 border border-yellow-200 rounded-lg dark:bg-yellow-900/20 dark:border-yellow-900/30"},Ag={class:"mb-4 pt-4"},Eg={class:"text-sm font-semibold text-gray-700 mb-3 flex items-center gap-2 dark:text-gray-200"},Sg={class:"flex gap-2"},Fg={class:"mt-4 pt-4 border-t border-violet-200"},Cg={class:"flex gap-2"},Yg={class:"bg-white/90 rounded-xl p-5 border border-violet-100 shadow-sm dark:bg-[#151823]/80 dark:border-violet-900/40"},Og={class:"space-y-4"},Tg={class:"grid grid-cols-2 gap-3"},Pg=["value"],Dg=["value"],Vg={class:"flex gap-2"},Bg={class:"p-0"},Mg={key:0},Lg={key:1},jg={key:2,class:"mt-28"},Ng={key:0,class:"mt-28"},Ig={key:1,class:"mt-28"},Jg={key:2,class:"mt-28 p-8 text-center text-gray-500"},Ug={class:"text-sm"},qg={key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-sm"},Gg={class:"bg-white rounded-2xl shadow-2xl border border-violet-200 w-[95%] max-w-lg p-0 overflow-hidden dark:bg-[#151823] dark:border-violet-900/40"},zg={class:"flex items-center gap-3 px-8 py-6 bg-gradient-to-r from-violet-600 to-violet-700"},Hg={class:"p-8 pt-6"},Wg={key:0,class:"mb-4 p-4 bg-yellow-50 border border-yellow-200 rounded-lg flex items-center gap-3"},Kg={key:1,class:"space-y-4 max-h-[50vh] overflow-auto pr-2"},Qg={class:"font-medium text-gray-700 flex items-center gap-2 dark:text-gray-200"},Xg=["onUpdate:modelValue"],Zg={class:"flex justify-end gap-3 px-8 py-4 bg-gray-50 border-t border-violet-100 dark:bg-[#111318] dark:border-violet-900/40"},e1={__name:"Reports",setup(k){const x=I([]),y=I("monthly"),C=I([]),m=I({}),f=I([]),F=I(!1),h=I({}),v=I(!1);I({});const p=I([]);I(!1),I(""),I(!1),I(null);const A=I(!0),R=I([]),j=Rt(),K=I((()=>{try{return localStorage.getItem("selectedReport")||""}catch(O){return console.warn("Could not access localStorage:",O),""}})()),Y=I(!1),E=I({}),ee=I(!1),fe=I(null),te=I(0),be=Ct(),{fromYear:ce,toYear:me,advancedModes:re}=St(be),{setFromYear:Ge,setToYear:ge,setAdvancedModes:Pe,clearYearSettings:ne,getFilteredToYears:De}=be,M=ve(()=>fr(ce.value,me.value)),Ve=ve(()=>De(x.value)),Fe=ve(()=>f.value.length>0?getAllExpensesGroupedByCategory(f.value):getExpensesGroupedByCategory(m.value,M.value)),ke=O=>[...mr(re.value[O]||y.value),"ex1","ex2"];qe(M,(O,$)=>G(this,null,function*(){O.forEach(B=>{re.value[B]||be.setAdvancedMode(B,y.value)}),z.value&&O.length>0&&(!$||$.length===0||JSON.stringify(O)!==JSON.stringify($))&&(yield xe())})),qe(z,(O,$)=>G(this,null,function*(){if(O&&O!==$)try{m.value={},f.value=[],C.value=[],E.value={},te.value=0,yield Oe(),p.value=[],v.value=!0,se.success(`Switched to project: ${O.project_name}`),M.value.length>0&&(yield xe())}catch(B){console.error("Error loading project data:",B),se.error("Failed to load project data. Please try again.")}})),qe(F,O=>{O&&(h.value=$t({},re.value))}),qe(v,O=>{O?window.removeEventListener("beforeunload",ye):window.addEventListener("beforeunload",ye)}),qe(K,O=>{try{O?localStorage.setItem("selectedReport",O):localStorage.removeItem("selectedReport")}catch($){console.warn("Could not save to localStorage:",$)}}),Ft(()=>G(this,null,function*(){try{yield Xt(),x.value=yield vr(),m.value={},f.value=[],C.value=[],E.value={},v.value=!0,z.value&&(yield Oe(),M.value.length>0&&(yield xe())),localStorage.getItem("showRefreshSuccess")==="true"&&(localStorage.removeItem("showRefreshSuccess"),se.success("Page refreshed successfully"))}catch(O){console.error("Error loading data:",O)}})),Zt(()=>{window.removeEventListener("beforeunload",ye)});function Be(){ne(),v.value=!1}function xe(){return G(this,null,function*(){var O;if(!(!z.value||!M.value.length))try{ee.value=!0,fe.value=null;const $=yield yt.getReportData(z.value.project_name,M.value);E.value=$,te.value=((O=$.metadata)==null?void 0:O.dataCompleteness)||0,te.value>0&&se.success(`Report data loaded successfully (${te.value}% complete)`)}catch($){console.error("Reports: Error loading report data:",$),fe.value=$.message,se.error(`Failed to load report data: ${$.message}`)}finally{ee.value=!1}})}function Me(){Pe($t({},h.value)),F.value=!1}function ze(){F.value=!1}function ye(O){if(!v.value)return O.preventDefault(),O.returnValue="You have unsaved changes that may be discarded if not saved. Are you sure you want to leave?",O.returnValue}function He(){try{let O="data:text/csv;charset=utf-8,";const $=["Receipt/Payment"];M.value.forEach(W=>{Nt(W)||ke(W).forEach(J=>{$.push(`${W} - ${J}`)}),$.push(`${W} - Total`)}),O+=$.join(",")+`
`,Fe.value.forEach(W=>{W.expenses.forEach(J=>{const le=[J];M.value.forEach(Q=>{Nt(Q)||ke(Q).forEach(ie=>{le.push(getAmountForExpense(m.value,J,Q,ie,re.value[Q]||y.value))}),le.push(calculateTotalForExpense(m.value,J,Q,re.value[Q]||y.value,ke))}),O+=le.join(",")+`
`})});const B=encodeURI(O),H=document.createElement("a");H.setAttribute("href",B),H.setAttribute("download",`receipts_payments_data_${ce.value}_${me.value}.csv`),document.body.appendChild(H),H.click(),document.body.removeChild(H)}catch(O){console.error("Error exporting data:",O),se.error("Failed to export data. Please try again.")}}function Ce(){try{window.print()}catch(O){console.error("Error triggering print:",O),se.error("Failed to open print dialog.")}}function Le(){localStorage.setItem("showRefreshSuccess","true"),window.location.reload()}const je=O=>{K.value=O},We=()=>{K.value=""},_e=()=>{var O;try{if(!((O=z.value)!=null&&O.project_name)){se.warning("Please select a project first");return}if(window.debugReportCache){const $=window.debugReportCache(z.value.project_name),B=Object.keys($),H=B.reduce((W,J)=>{var le,Q;return W+(((Q=(le=$[J])==null?void 0:le.rowCodes)==null?void 0:Q.length)||0)},0);se.info(`Cache Debug: ${B.length} pages, ${H} total row codes. Check console for details.`)}else{const $=j.cache[z.value.project_name]||{},B=Object.keys($);B.forEach(H=>{const W=$[H]||{},J=Object.keys(W)}),se.info(`Cache Debug: ${B.length} pages found. Check console for details.`)}}catch($){console.error("Error debugging cache:",$),se.error("Failed to debug cache. Check console for errors.")}},Ye=()=>G(this,null,function*(){var O;try{if(!((O=z.value)!=null&&O.project_name)){se.warning("Please select a project first");return}if(!M.value.length){se.warning("Please select years first");return}const $=["room-pnl","fnb-pnl","ood-pnl"];for(const B of $)try{const H=yield yt.getReportSpecificData(B,z.value.project_name,M.value);let W=0,J=0;Object.values(H).forEach(Q=>{Object.values(Q).forEach(ie=>{typeof ie=="object"&&ie!==null&&Object.values(ie).forEach(de=>{typeof de=="object"&&de!==null?Object.values(de).forEach(ue=>{W++,ue!=null&&ue!==0&&J++}):(W++,de!=null&&de!==0&&J++)})})});const le=W>0?Math.round(J/W*100):0}catch(H){console.error(`Error loading ${B} data:`,H)}se.success("Report data debug complete. Check console for detailed results.")}catch($){console.error("Error debugging report data:",$),se.error("Failed to debug report data. Check console for errors.")}}),Ne=()=>{Y.value=!0},Ke=()=>{Y.value=!1};function Oe(){return G(this,null,function*(){try{if(z.value){const O=yield er(z.value.name);O&&O.data&&O.data.data?R.value=O.data.data:Array.isArray(O)?R.value=O:R.value=[]}else R.value=[]}catch(O){console.error("Error loading departments:",O),R.value=[]}})}return(O,$)=>(t(),r(l,null,[e("div",sg,[P(or,{onOpenSettings:Ne}),e("div",ng,[e("div",lg,[M.value.length?(t(),r("div",dg,[e("div",ag,[e("div",ig,[e("div",ug,[P(D(xt),{class:"w-6 h-6 text-white"})]),$[5]||($[5]=e("div",null,[e("h1",{class:"text-xl font-bold"},"Reports"),e("p",{class:"text-xs opacity-80"},"Manage and configure your reports")],-1))]),e("button",{onClick:$[0]||($[0]=B=>A.value=!A.value),class:"flex items-center gap-2 px-3 py-2 bg-white/10 hover:bg-white/20 border border-white/20 rounded-lg transition-all"},[A.value?(t(),ot(D(Yt),{key:1,class:"w-5 h-5 text-white"})):(t(),ot(D(sr),{key:0,class:"w-5 h-5 text-white"})),e("span",bg,c(A.value?"Expand":"Collapse"),1)])]),P(Mt,{name:"fade"},{default:Vt(()=>[gt(e("div",cg,[e("div",gg,[e("h3",xg,[P(D(kt),{class:"w-4 h-4 text-violet-600"}),N(" "+c(K.value?"Current Report":"Select Report"),1)]),e("div",pg,[gt(e("select",{"onUpdate:modelValue":$[1]||($[1]=B=>K.value=B),class:"w-full px-3 py-2.5 rounded-lg border border-violet-300 focus:border-violet-500 focus:ring-2 focus:ring-violet-200 transition-all bg-white text-sm shadow-sm dark:bg-[#111318] dark:text-gray-200 dark:border-violet-900/40"},$[6]||($[6]=[e("option",{value:""},"Select a report...",-1),e("option",{value:"room-pnl"},"Room Profit & Loss",-1),e("option",{value:"fnb-pnl"},"Food And Beverage Profit & Loss",-1),e("option",{value:"ood-pnl"},"Other Operating Departments Profit & Loss",-1),e("option",{value:"pl-statement"},"Profit And Loss Statement",-1),e("option",{value:"balance-sheet"},"Balance Sheet",-1),e("option",{value:"cashflow"},"Cashflow",-1),e("option",{value:"capex-schedule"},"Capex Schedule",-1)]),512),[[vt,K.value]])]),K.value?(t(),r("div",fg,[e("button",{onClick:We,class:"flex items-center gap-1 px-2 py-1 text-xs text-violet-600 hover:text-violet-700 hover:bg-violet-700 hover:bg-violet-50 rounded transition-all"},[P(D(Lt),{class:"w-3 h-3"}),$[7]||($[7]=N(" Change Report ",-1))])])):V("",!0)]),e("div",mg,[e("h3",hg,[P(D(Jt),{class:"w-4 h-4 text-violet-600"}),$[8]||($[8]=N(" Data Status ",-1))]),ee.value?(t(),r("div",vg,[P(D(Rr),{class:"w-4 h-4 text-blue-600 animate-spin"}),$[9]||($[9]=e("span",{class:"text-sm text-blue-700"},"Loading report data...",-1))])):fe.value?(t(),r("div",kg,[P(D(kr),{class:"w-4 h-4 text-red-600"}),e("span",yg,c(fe.value),1),e("button",{onClick:xe,class:"ml-auto px-2 py-1 text-xs bg-red-100 text-red-700 rounded hover:bg-red-200 transition-all dark:bg-red-900/30 dark:text-red-300 dark:hover:bg-red-900/40"}," Retry ")])):te.value>0?(t(),r("div",_g,[P(D(nr),{class:"w-4 h-4 text-green-600"}),$[10]||($[10]=e("span",{class:"text-sm text-green-700"},"Data loaded successfully",-1)),e("div",Rg,[e("span",wg,c(te.value)+"% complete",1),e("button",{onClick:xe,class:"px-2 py-1 text-xs bg-green-100 text-green-700 rounded hover:bg-green-200 transition-all dark:bg-green-900/30 dark:text-green-300 dark:hover:bg-green-900/40"}," Refresh ")])])):(t(),r("div",$g,[P(D(jt),{class:"w-4 h-4 text-yellow-600"}),$[11]||($[11]=e("span",{class:"text-sm text-yellow-700"},"No report data available",-1)),e("button",{onClick:xe,class:"ml-auto px-2 py-1 text-xs bg-yellow-100 text-yellow-700 rounded hover:bg-yellow-200 transition-all dark:bg-yellow-900/30 dark:text-yellow-300 dark:hover:bg-yellow-900/40"}," Load Data ")]))]),e("div",Ag,[e("h3",Eg,[P(D(wr),{class:"w-4 h-4 text-violet-600"}),$[12]||($[12]=N(" Quick Actions ",-1))]),e("div",Sg,[e("button",{onClick:Le,class:"w-full flex items-center justify-center gap-2 px-3 py-2 bg-white/90 border border-violet-200 text-violet-700 rounded-lg hover:bg-violet-50 transition-all text-sm font-medium shadow-sm dark:bg-[#151823]/80 dark:border-violet-900/40 dark:text-violet-300 dark:hover:bg-[#151823]/90"},[P(D(Lt),{class:"w-4 h-4"}),$[13]||($[13]=N(" Refresh ",-1))]),e("button",{onClick:He,class:"w-full flex items-center justify-center gap-2 px-3 py-2 bg-white/90 border border-violet-200 text-violet-700 rounded-lg hover:bg-violet-50 transition-all text-sm font-medium shadow-sm dark:bg-[#151823]/80 dark:border-violet-900/40 dark:text-violet-300 dark:hover:bg-[#151823]/90"},[P(D(lr),{class:"w-4 h-4"}),$[14]||($[14]=N(" Export ",-1))]),e("button",{onClick:Ce,class:"w-full flex items-center justify-center gap-2 px-3 py-2 bg-white/90 border border-violet-200 text-violet-700 rounded-lg hover:bg-violet-50 transition-all text-sm font-medium shadow-sm dark:bg-[#151823]/80 dark:border-violet-900/40 dark:text-violet-300 dark:hover:bg-[#151823]/90"},[P(D($r),{class:"w-4 h-4"}),$[15]||($[15]=N(" Print ",-1))])]),e("div",Fg,[$[18]||($[18]=e("h4",{class:"text-xs font-medium text-violet-600 mb-2"},"Debug Tools",-1)),e("div",Cg,[e("button",{onClick:_e,class:"flex-1 flex items-center justify-center gap-2 px-3 py-2 bg-yellow-50 border border-yellow-200 text-yellow-700 rounded-lg hover:bg-yellow-100 transition-all text-xs font-medium"},[P(D(Jt),{class:"w-3 h-3"}),$[16]||($[16]=N(" Debug Cache ",-1))]),e("button",{onClick:Ye,class:"flex-1 flex items-center justify-center gap-2 px-3 py-2 bg-blue-50 border border-blue-200 text-blue-700 rounded-lg hover:bg-blue-100 transition-all text-xs font-medium"},[P(D(kt),{class:"w-3 h-3"}),$[17]||($[17]=N(" Debug Reports ",-1))])])])]),e("div",null,[e("div",Yg,[$[25]||($[25]=e("h3",{class:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2 dark:text-gray-200"},[e("svg",{class:"w-5 h-5 text-violet-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})]),N(" Year Range Filter ")],-1)),e("div",Og,[e("div",Tg,[e("div",null,[$[20]||($[20]=e("label",{class:"text-sm font-medium text-gray-700 mb-2 flex items-center gap-1 dark:text-gray-300"},[e("svg",{class:"w-3 h-3 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})]),N(" From Year ")],-1)),gt(e("select",{disabled:"","onUpdate:modelValue":$[2]||($[2]=B=>Bt(ce)?ce.value=B:null),class:"w-full px-3 py-2.5 rounded-lg border border-violet-300 focus:border-violet-500 focus:ring-2 focus:ring-violet-200 transition-all bg-gray-100 text-sm shadow-sm dark:bg-[#111318] dark:text-gray-200 dark:border-violet-900/40"},[$[19]||($[19]=e("option",{value:""},"Select Year",-1)),(t(!0),r(l,null,g(x.value,B=>(t(),r("option",{key:"from-"+B,value:B},c(B),9,Pg))),128))],512),[[vt,D(ce)]])]),e("div",null,[$[22]||($[22]=e("label",{class:"text-sm font-medium text-gray-700 mb-2 flex items-center gap-1 dark:text-gray-300"},[e("svg",{class:"w-3 h-3 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})]),N(" To Year ")],-1)),gt(e("select",{disabled:"","onUpdate:modelValue":$[3]||($[3]=B=>Bt(me)?me.value=B:null),class:"w-full px-3 py-2.5 rounded-lg border border-violet-300 focus:border-violet-500 focus:ring-2 focus:ring-violet-200 transition-all bg-gray-100 text-sm shadow-sm dark:bg-[#111318] dark:text-gray-200 dark:border-violet-900/40"},[$[21]||($[21]=e("option",{value:""},"Select Year",-1)),(t(!0),r(l,null,g(Ve.value,B=>(t(),r("option",{key:"to-"+B,value:B},c(B),9,Dg))),128))],512),[[vt,D(me)]])])]),e("div",Vg,[e("button",{onClick:Be,class:"flex-1 flex items-center justify-center gap-2 px-3 py-2.5 bg-white/90 text-gray-700 border border-violet-200 rounded-lg hover:bg-violet-50 transition-all duration-200 text-sm font-medium shadow-sm dark:bg-[#151823]/80 dark:text-gray-300 dark:border-violet-900/40 dark:hover:bg-[#151823]/90"},$[23]||($[23]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1),N(" Clear ",-1)])),e("button",{onClick:$[4]||($[4]=B=>F.value=!0),class:"flex-1 flex items-center justify-center gap-2 px-3 py-2.5 bg-gradient-to-r from-violet-600 to-violet-700 text-white rounded-lg hover:from-violet-700 hover:to-violet-800 transition-all duration-200 text-sm font-medium shadow"},$[24]||($[24]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})],-1),N(" Advanced ",-1)]))])])])])],512),[[tr,!A.value]])]),_:1})])):V("",!0),e("div",Bg,[m.value.status==="no_project_selected"?(t(),r("div",Mg,[P(br)])):m.value.status==="error"?(t(),r("div",Lg,[P(cr,{message:m.value.message,onRetry:Le},null,8,["message"])])):K.value?M.value.length?(t(),r(l,{key:3},[$[27]||($[27]=e("div",{class:"mb-4"},null,-1)),K.value==="room-pnl"?(t(),r("div",Ng,[P(Gd,{"visible-years":M.value},null,8,["visible-years"])])):K.value==="fnb-pnl"?(t(),r("div",Ig,[P(og,{"visible-years":M.value},null,8,["visible-years"])])):(t(),r("div",Jg,[P(D(kt),{class:"w-16 h-16 mx-auto mb-4 text-gray-300"}),$[26]||($[26]=e("h3",{class:"text-lg font-medium mb-2"},"Report Not Implemented",-1)),e("p",Ug,"The "+c(K.value)+" report is not yet implemented.",1)]))],64)):V("",!0):(t(),r("div",jg,[P(zr,{onReportSelected:je})]))])])])]),P(Mt,{name:"fade"},{default:Vt(()=>[F.value?(t(),r("div",qg,[e("div",Gg,[e("div",zg,[P(D(dr),{class:"w-4 h-4 text-white"}),$[28]||($[28]=e("h2",{class:"text-xl font-bold text-white"},"Advanced Display Mode Settings",-1))]),e("div",Hg,[M.value.length?V("",!0):(t(),r("div",Wg,[P(D(jt),{class:"w-4 h-4 text-red-600"}),$[29]||($[29]=e("span",{class:"text-yellow-800 font-medium"},'Please select both "From Year" and "To Year" to configure advanced settings.',-1))])),M.value.length?(t(),r("div",Kg,[(t(!0),r(l,null,g(M.value,B=>(t(),r("div",{key:"adv-"+B,class:"flex justify-between items-center border-b pb-2 dark:border-[#1F2430]"},[e("span",Qg,[P(D(rr),{class:"w-3 h-3 text-gray-500"}),N(" "+c(B),1)]),gt(e("select",{"onUpdate:modelValue":H=>h.value[B]=H,class:"px-6 py-2 border rounded-md focus:ring-violet-500 dark:bg-[#111318] dark:text-gray-200 dark:border-violet-900/40"},$[30]||($[30]=[e("option",{value:"monthly"},"Monthly",-1),e("option",{value:"quarterly"},"Quarterly",-1)]),8,Xg),[[vt,h.value[B]]])]))),128))])):V("",!0)]),e("div",Zg,[e("button",{onClick:ze,class:"px-4 py-2 rounded-md bg-gray-100 hover:bg-gray-200 text-gray-700 flex items-center gap-2 dark:bg-[#0f0f12] dark:hover:bg-[#151823] dark:text-gray-300"},[P(D(ar),{class:"w-4 h-4"}),$[31]||($[31]=N(" Cancel ",-1))]),M.value.length?(t(),r("button",{key:0,onClick:Me,class:"px-4 py-2 rounded-md bg-violet-600 text-white hover:bg-violet-700 flex items-center gap-2"},[P(D(ir),{class:"w-4 h-4 text-green-600"}),$[32]||($[32]=N(" Apply ",-1))])):V("",!0)])])])):V("",!0)]),_:1}),P(ur,{"is-visible":Y.value,onClose:Ke},null,8,["is-visible"])],64))}},R1=_t(e1,[["__scopeId","data-v-23b52486"]]);export{R1 as default};
