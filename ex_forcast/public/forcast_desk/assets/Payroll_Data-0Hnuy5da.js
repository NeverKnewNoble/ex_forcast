var yo=Object.defineProperty;var Ge=Object.getOwnPropertySymbols;var wo=Object.prototype.hasOwnProperty,_o=Object.prototype.propertyIsEnumerable;var Ze=(F,L,D)=>L in F?yo(F,L,{enumerable:!0,configurable:!0,writable:!0,value:D}):F[L]=D,ne=(F,L)=>{for(var D in L||(L={}))wo.call(L,D)&&Ze(F,D,L[D]);if(Ge)for(var D of Ge(L))_o.call(L,D)&&Ze(F,D,L[D]);return F};var I=(F,L,D)=>new Promise((K,q)=>{var G=k=>{try{U(D.next(k))}catch(B){q(B)}},P=k=>{try{U(D.throw(k))}catch(B){q(B)}},U=k=>k.done?K(k.value):Promise.resolve(k.value).then(G,P);U((D=D.apply(F,L)).next())});import{_ as ko,h as _,l as J,K as Co,p as O,m as So,n as Mo,q as A,L as et,J as To,c as u,o as i,b as t,e as g,t as be,j as le,i as p,u as r,w as he,B as N,d as b,v,M as tt,F as x,x as h,N as $,S as jo,C as X,O as ot,T as ye,R as lt}from"./index-DFp4WPHj.js";import{g as Ue,a as Ro,u as Lo,C as re}from"./useCalculationCache-BtZyymO0.js";import{c as V,_ as Do,g as Ee,T as Be,b as we,h as Po,R as at,B as Ao,C as No,X as ie,a as st,f as Vo,S as Uo,d as Eo}from"./SettingsModal-D-D5AQet.js";import{h as Bo,g as Fo,P as Io,a as Yo,b as Ho,c as zo,d as Oo,e as $o,f as Ko,i as qo,j as Qo,k as Wo,l as Jo,m as Xo,n as Go,o as Zo,p as el,q as tl,r as ol,s as ll,t as al,u as sl,v as nl,w as rl,x as il,y as ul,z as dl,A as cl}from"./PayrollNoYearsSelectedState-DOagDlS_.js";import{g as vl}from"./index-CPVubr0e.js";import{t as gl,i as S}from"./advanced_settings-BeZtrwoj.js";import{c as ml}from"./data_service-BOTCsL4b.js";import{a as ae}from"./index-CQjpnSxs.js";import{p as f,d as _e,b as c,f as ue,o as ke,s as pl,c as Ce,e as Se,r as fl,g as xl,h as bl,i as nt,j as rt,k as Fe,m as hl,n as yl,q as wl,t as _l,u as kl}from"./payroll_data_service-AdR1_91F.js";import{c as se,T as Cl}from"./cloneDeep-CauuWUtY.js";import{C as Sl}from"./chevron-left-Ct-jXL2q.js";import{a as it,C as Ie}from"./circle-alert-CbaxY-0D.js";import{L as Ml}from"./loader-circle-jaT7itjR.js";import{P as Ye}from"./plus-Q6-mjf1P.js";import{F as Tl}from"./funnel-CgUkICxt.js";import{A as ut}from"./arrow-left-CHuuvpyq.js";import{R as jl}from"./rotate-ccw-CVymyNdy.js";import{F as Me}from"./folder-open-DRdD7xRy.js";import{C as Rl}from"./chart-column-CDQ4xrd1.js";import{U as Ll}from"./users-C0x0nMQM.js";import{T as Dl}from"./trash-2-UAPbMQqy.js";import"./createLucideIcon-D8X7RiyU.js";import"./zap-BeFUdqHw.js";const Pl={class:"flex"},Al={class:"flex-1 min-h-screen bg-gradient-to-br from-white to-violet-50"},Nl={class:"flex"},Vl={key:2,class:"text-violet-700 text-sm font-medium dark:text-white"},Ul={class:"mb-8"},El={class:"flex items-center gap-3 mb-2"},Bl={class:"w-12 h-12 bg-gradient-to-br from-violet-500 to-violet-600 rounded-xl flex items-center justify-center shadow-lg"},Fl={class:"bg-white rounded-xl p-4 mb-6 border border-gray-200 shadow-sm"},Il={class:"flex items-center justify-between"},Yl={class:"flex items-center gap-2"},Hl={key:0,class:"flex items-center gap-2 text-sm font-medium text-red-600 bg-red-50 px-3 py-2 rounded-lg border border-red-200"},zl={key:1,class:"flex items-center gap-2 text-sm font-medium text-green-600 bg-green-50 px-3 py-2 rounded-lg border border-green-200"},Ol=["disabled"],$l={key:1,class:"flex items-center gap-2 px-4 py-2 bg-gray-500 text-white rounded-lg cursor-not-allowed"},Kl={key:0,class:"mt-2 text-xs text-red-500 flex items-center gap-1"},ql={class:"mb-8"},Ql={class:"text-sm font-semibold text-gray-700 mb-3 flex items-center gap-2"},Wl=["disabled"],Jl={class:"flex gap-2 mt-3"},Xl={class:"flex-1"},Gl={class:"bg-white rounded-xl p-5 border border-gray-200 shadow-sm"},Zl={class:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2"},ea={class:"space-y-4"},ta={class:"grid grid-cols-2 gap-3"},oa={class:"text-sm font-medium text-gray-700 mb-2 flex items-center gap-1"},la=["value"],aa={class:"text-sm font-medium text-gray-700 mb-2 flex items-center gap-1"},sa=["value"],na={class:"flex gap-2"},ra={class:"mt-4"},ia={class:"bg-white rounded-xl p-5 border border-gray-200 shadow-sm"},ua={class:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2"},da={class:"space-y-3"},ca={class:"relative"},va={class:"bg-gray-50 rounded-lg p-4 border border-gray-100"},ga={class:"text-xs text-gray-500 mt-2 text-center"},ma={class:"mt-3"},pa={class:"flex-1 p-4"},fa={key:0,class:"flex flex-col items-center justify-center min-h-[400px] bg-white border-2 border-dashed border-violet-300 rounded-xl shadow-sm"},xa={class:"w-16 h-16 bg-violet-100 rounded-full flex items-center justify-center mb-4"},ba={class:"mt-4 flex items-center gap-2 text-xs text-violet-600"},ha={class:"mb-4"},ya={class:"flex items-center gap-2"},wa={class:"w-6 h-6 bg-gradient-to-br from-violet-500 to-violet-600 rounded-lg flex items-center justify-center"},_a={class:"mt-2"},ka={key:0,class:"flex flex-col items-center justify-center min-h-[400px] bg-white border-2 border-dashed border-violet-300 rounded-xl shadow-sm"},Ca={class:"w-16 h-16 bg-violet-100 rounded-full flex items-center justify-center mb-4"},Sa={class:"mt-6 flex gap-3"},Ma=["disabled"],Ta={key:1,class:"bg-white rounded-lg border border-violet-200 shadow-sm overflow-hidden md:max-w-[1800px] lg:max-w-[1800px] xl:max-w-[2000px] 2xl:max-w-[2000px]"},ja={class:"overflow-x-auto max-w-[100%] md:max-w-[1800px] lg:max-w-[1800px] xl:max-w-[2000px] 2xl:max-w-[2000px]"},Ra={class:"min-w-full w-max"},La={class:"w-full"},Da={class:"bg-gradient-to-r from-violet-600 to-violet-700 text-white"},Pa={rowspan:"3",class:"px-3 py-2 text-left align-middle border-r border-violet-400 font-semibold text-sm"},Aa={class:"flex items-center gap-1"},Na={rowspan:"3",class:"px-3 py-2 text-left align-middle border-r border-violet-400 font-semibold text-sm"},Va={class:"flex items-center gap-1"},Ua={rowspan:"3",class:"px-3 py-2 text-center align-middle border-r border-violet-400 font-semibold text-sm"},Ea={class:"flex items-center gap-1"},Ba={rowspan:"3",class:"px-3 py-2 text-center align-middle border-r border-violet-400 font-semibold text-sm"},Fa={class:"flex items-center gap-1"},Ia=["colspan"],Ya={class:"flex items-center justify-center gap-1"},Ha={class:"font-semibold"},za=["colspan"],Oa={class:"bg-violet-500/90 text-xs"},$a={key:0,colspan:12,class:"px-2 py-1 text-center border border-violet-300 font-medium"},Ka={key:1,colspan:12,class:"px-2 py-1 text-center border border-violet-300 font-medium"},qa={key:2,rowspan:2,class:"px-2 py-1 text-center border border-violet-300 font-semibold min-w-[100px]"},Qa={class:"bg-violet-400/90 text-xs"},Wa={class:"text-gray-700 bg-white text-sm"},Ja={class:"bg-gradient-to-r from-violet-600 to-violet-700 border-b-2 border-violet-800"},Xa=["colspan"],Ga={class:"bg-violet-50 border-b border-violet-200"},Za=["colspan"],es={class:"px-3 py-2 font-medium border-r border-violet-200 text-gray-700"},ts={class:"px-3 py-2 font-medium border-r border-violet-200 text-gray-700"},os={class:"flex items-center justify-between gap-2"},ls=["onClick"],as=["onInput","onFocus","onBlur","contenteditable"],ss=["contenteditable","onInput","onFocus","onBlur","onKeypress"],ns=["onInput","onFocus","onBlur"],rs={class:"text-xs"},is={class:"text-xs"},us={key:2,class:"px-2 py-1 text-right border border-violet-200 font-semibold bg-violet-50"},ds={class:"text-xs text-violet-700"},cs=["onInput","onFocus","onBlur"],vs={class:"text-xs"},gs={class:"border-b border-gray-300 bg-gradient-to-r from-violet-100 to-purple-100 shadow-sm"},ms={colspan:3,class:"px-3 py-2.5 font-semibold border-r border-violet-300 text-violet-900"},ps={class:"flex items-center gap-2"},fs={class:"px-3 py-2.5 text-right border-r border-violet-300"},xs={class:"text-sm font-semibold text-violet-900"},bs={class:"text-xs text-violet-900"},hs={class:"text-xs text-violet-900"},ys={key:2,class:"px-2 py-1.5 text-right border border-violet-300 font-semibold bg-violet-200 shadow-inner"},ws={class:"text-xs text-violet-900"},_s={class:"text-xs text-violet-900"},ks={class:"border-b border-gray-300 bg-gradient-to-r from-violet-100 to-purple-100 shadow-sm"},Cs={colspan:3,class:"px-3 py-2.5 font-semibold border-r border-violet-300 text-violet-900"},Ss={class:"flex items-center gap-2"},Ms={class:"px-3 py-2.5 text-right border-r border-violet-300"},Ts={class:"text-sm font-semibold text-violet-900"},js={class:"text-xs text-violet-900"},Rs={class:"text-xs text-violet-900"},Ls={key:2,class:"px-2 py-1.5 text-right border border-violet-300 font-semibold bg-violet-200 shadow-inner"},Ds={class:"text-xs text-violet-900"},Ps={class:"text-xs text-violet-900"},As={class:"border-b-2 border-violet-400 bg-gradient-to-r from-violet-100 to-purple-100 shadow-sm"},Ns={colspan:3,class:"px-3 py-3 font-bold border-r border-violet-300 text-violet-900"},Vs={class:"flex items-center gap-2"},Us={class:"px-3 py-3 text-right border-r border-violet-300"},Es={class:"text-sm font-bold text-violet-900"},Bs={class:"text-xs text-violet-900"},Fs={class:"text-xs text-violet-900"},Is={key:2,class:"px-2 py-2 text-right border border-violet-300 font-bold bg-violet-200 shadow-inner"},Ys={class:"text-xs text-violet-900"},Hs={class:"text-xs text-violet-900"},zs={class:"border-b-2 border-violet-400 bg-gradient-to-r from-violet-100 to-indigo-100 shadow-sm"},Os={colspan:3,class:"px-3 py-3 font-bold border-r border-violet-300 text-violet-900"},$s={class:"flex items-center gap-2"},Ks={class:"px-3 py-3 text-right border-r border-violet-300"},qs={class:"text-sm font-bold text-violet-900"},Qs={class:"text-xs text-violet-900"},Ws={class:"text-xs text-violet-900"},Js={key:2,class:"px-2 py-2 text-right border border-violet-300 font-bold bg-violet-200 shadow-inner"},Xs={class:"text-xs text-violet-900"},Gs={class:"text-xs text-violet-900"},Zs={class:"border-b-2 border-green-400 bg-gradient-to-r from-green-100 to-emerald-100 shadow-sm"},en={colspan:3,class:"px-3 py-3 font-bold border-r border-green-300 text-green-900"},tn={class:"flex items-center gap-2"},on={class:"px-3 py-3 text-right border-r border-green-300"},ln={class:"text-sm font-bold text-green-900"},an={class:"text-xs text-green-900"},sn={class:"text-xs text-green-900"},nn={key:2,class:"px-2 py-2 text-right border border-green-300 font-bold bg-green-200 shadow-inner"},rn={class:"text-xs text-green-900"},un={class:"text-xs text-green-900"},dn={key:3,class:"flex flex-col items-center justify-center min-h-[400px] bg-white border-2 border-dashed border-violet-300 rounded-xl shadow-sm"},cn={class:"w-16 h-16 bg-violet-100 rounded-full flex items-center justify-center mb-4"},vn={class:"mt-4 flex items-center gap-2 text-xs text-violet-600"},gn={key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-sm"},mn={class:"bg-white rounded-2xl shadow-2xl border border-violet-200 w-[95%] max-w-lg p-0 overflow-hidden"},pn={class:"flex items-center gap-3 px-8 py-6 bg-gradient-to-r from-violet-600 to-violet-700"},fn={class:"p-8 pt-6"},xn={key:0,class:"mb-4 p-4 bg-yellow-50 border border-yellow-200 rounded-lg flex items-center gap-3"},bn={key:1,class:"space-y-4 max-h-[50vh] overflow-auto pr-2"},hn={class:"font-medium text-gray-700 flex items-center gap-2"},yn=["onUpdate:modelValue"],wn={class:"flex justify-end gap-3 px-8 py-4 bg-gray-50 border-t border-violet-100"},_n={key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-sm"},kn={class:"bg-white rounded-2xl shadow-2xl border border-violet-200 w-[95%] max-w-4xl p-0 overflow-hidden"},Cn={class:"p-8 pt-6"},Sn={key:0,class:"mb-4 p-4 bg-yellow-50 border border-yellow-200 rounded-lg flex items-center gap-3"},Mn={key:1,class:"space-y-6"},Tn={class:"space-y-4 max-h-[50vh] overflow-auto pr-2"},jn={class:"font-medium text-gray-700 flex items-center gap-2"},Rn={class:"flex items-center gap-2"},Ln=["onUpdate:modelValue"],Dn={class:"flex justify-end gap-3 px-8 py-4 bg-gray-50 border-t border-violet-100"},Pn={key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm"},An={class:"bg-white rounded-2xl shadow-2xl border border-violet-100 w-[95%] max-w-6xl max-h-[95vh] overflow-hidden flex flex-col"},Nn={class:"flex items-center justify-between px-8 py-6 bg-gradient-to-r from-violet-600 to-violet-700"},Vn={class:"flex items-center gap-3"},Un={class:"p-8 pb-0 space-y-6 overflow-y-auto max-h-[calc(95vh-140px)]"},En={class:"w-full max-w-md"},Bn={class:"text-sm font-medium text-gray-700 mb-2 flex items-center gap-2"},Fn=["value"],In={class:"bg-gradient-to-br from-violet-50 to-purple-50 rounded-xl p-6 border border-violet-200 shadow-sm"},Yn={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},Hn={class:"bg-white rounded-lg p-4 border border-violet-200 shadow-sm hover:shadow-md transition-all duration-200"},zn={class:"flex gap-2"},On=["disabled"],$n={key:0,class:"w-4 h-4 animate-spin",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Kn={key:1},qn={class:"bg-white rounded-lg p-4 border border-violet-200 shadow-sm hover:shadow-md transition-all duration-200"},Qn={class:"flex gap-2"},Wn=["disabled"],Jn={key:0,class:"w-4 h-4 animate-spin",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Xn={key:1},Gn={class:"bg-white rounded-lg p-4 border border-violet-200 shadow-sm hover:shadow-md transition-all duration-200"},Zn={class:"flex gap-2"},er=["disabled"],tr={key:0,class:"w-4 h-4 animate-spin",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},or={key:1},lr={class:"space-y-4"},ar={class:"flex items-center justify-between mb-4"},sr={class:"text-lg font-semibold text-gray-800"},nr=["onClick","disabled"],rr={class:"grid grid-cols-2 rounded-lg p-4 gap-6"},ir=["onUpdate:modelValue"],ur=["value"],dr=["onUpdate:modelValue"],cr=["value"],vr=["onUpdate:modelValue"],gr=["onUpdate:modelValue"],mr=["value"],pr={class:"relative"},fr=["onUpdate:modelValue","onInput","onFocus","onBlur"],xr=["onUpdate:modelValue"],br={key:0,class:"p-4 bg-red-50 border border-red-200 rounded-lg flex items-center gap-3"},hr={class:"text-red-800 text-sm"},yr={class:"flex justify-between items-center px-10 pt-3 pb-3 border-t border-gray-200 bg-white sticky bottom-0"},wr={class:"flex gap-3"},_r=["disabled"],kr={key:0,class:"w-5 h-5 animate-spin",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Cr={__name:"Payroll_Data",setup(F){const L=_([]),D=_("monthly"),K=_(!1),q=_(!1),G=_({}),P=_(!1),U=_({}),k=_([]),B=_(!1),z=_(""),Z=_(!1),Te=_(!1),He=_(!1),Q=_([]),E=_(new Set),ee=_(""),te=_(""),oe=_(""),de=_(!1),ce=_(!1),ve=_(!1),ge=_(!1),j=_(0),me=J(()=>{const l=localStorage.getItem(Ue("totalNumberOfRooms"));return l&&parseInt(l)>0&&parseInt(l)===j.value});//! Helper function to safely format numbers to 2 decimal places with commas
function w(l){return l==null||isNaN(l)?"0.00":parseFloat(l).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}const R=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dt=Ro(),je=Lo(),{fromYear:Y,toYear:H,advancedModes:ze,annualIncrementData:Re}=Co(je),{setFromYear:Sr,setToYear:Mr,setAdvancedModes:ct,clearYearSettings:vt,getFilteredToYears:gt}=je,n=J(()=>vl(Y.value,H.value)),mt=J(()=>gt(L.value)),pt=J(()=>{const l=M(f.value),e=M(_e.value);return Bo(l)||(e==null?void 0:e.length)>0});function Oe(l){return(l||"").toString().trim().toLowerCase()}function pe(l){return(l||"").toString().trim().toLowerCase()}function $e(l,e,o,s){return[pe(l),pe(e),pe(o),pe(s)].join("__")}const Le=J(()=>{const l=Array.isArray(f.value)?[...f.value]:[],e=new Set(l.map(s=>$e(s.department,s.departmentLocation,s.position,s.designation))),o=new Set((Q.value||[]).map(Oe));return Array.isArray(_e.value)&&_e.value.length&&_e.value.forEach(s=>{const a=s.department;if(!a||o.size&&!o.has(Oe(a)))return;const d=$e(a,s.department_location||"",s.position||"",s.designation||"");if(e.has(d))return;const m=d.replace(/\s+/g,"_");l.push({id:`default_${m}`,department:a,departmentLocation:s.department_location||"Default",position:s.position||"Non-manager",designation:s.designation||"",salary:Number(s.salary)||0,count:Number(s.count)||0,category:a,_isDefault:!0})}),M(l)});J(()=>{if(!n.value.length||!f.value.length)return 0;const l=n.value[0];let e=0;return M(f.value).forEach(o=>{R.forEach(s=>{const a=C(o.id,"count",l,s);e+=a||0})}),e}),J(()=>{if(!n.value.length||!f.value.length)return 0;const l=n.value[0];let e=0;return M(f.value).forEach(o=>{R.forEach(s=>{const a=C(o.id,"count",l,s),d=o.salary||0;e+=(a||0)*d})}),e}),O(n,()=>{n.value.forEach(l=>{ze.value[l]||je.setAdvancedMode(l,D.value)})}),O(c,(l,e)=>{},{deep:!0,immediate:!0}),O(f,(l,e)=>{l&&e&&M(l).forEach((o,s)=>{const a=e[s];if(a&&(o.salary!==a.salary||o.count!==a.count)&&n.value.length>0){const d=n.value[0];c.value[d]||(c.value[d]={}),c.value[d][o.id]||(c.value[d][o.id]={}),De(o.id,d),Pe(o.id,d),c.value[d][o.id]._lastUpdate=Date.now(),o.salary!==a.salary&&R.forEach(m=>{const T=(C(o.id,"count",d,m)||0)*(o.salary||0);Pe(o.id,d),c.value[d][o.id].salary[m]=T})}})},{deep:!0}),O(K,l=>{l&&(G.value=ne({},ze.value))});function ft(){ct(ne({},G.value)),K.value=!1}function xt(){K.value=!1}function bt(){q.value=!1,V.success("Annual percentage increments applied successfully")}function ht(){q.value=!1}const yt=()=>I(this,null,function*(){yield kl(A.value,f.value,()=>I(this,null,function*(){var l;yield ue((l=A.value)==null?void 0:l.project_name)}))});So(()=>I(this,null,function*(){var l;try{if(yield Mo(),yield new Promise(o=>setTimeout(o,100)),L.value=yield ml(),(l=A.value)!=null&&l.project_name)try{Q.value=yield et(A.value.project_name)}catch(o){Q.value=[]}A.value&&(yield ue(A.value.project_name,Y.value,H.value)),U.value=se(f.value),E.value=new Set,P.value=!0,He.value=!0;const e=localStorage.getItem("totalRooms");e&&(j.value=parseInt(e)||100),localStorage.getItem("showRefreshSuccess")==="true"&&(localStorage.removeItem("showRefreshSuccess"),V.success("Page refreshed successfully"))}catch(e){console.error("Error loading data:",e)}})),O(A,(l,e)=>I(this,null,function*(){if(l)try{yield ue(l.project_name,Y.value,H.value),U.value=se(f.value);try{Q.value=yield et(l.project_name)}catch(o){Q.value=[]}k.value=[],E.value=new Set,P.value=!0,z.value="",V.success(`Switched to project: ${l.project_name}`)}catch(o){console.error("Error reloading Payroll data for new project:",o),V.error("Failed to load project data. Please try again.")}else f.value=[],U.value=se(f.value),k.value=[],P.value=!0,z.value="",Q.value=[]}),{deep:!0}),O([Y,H],(a,d)=>I(this,[a,d],function*([l,e],[o,s]){if(A.value&&l&&e&&(l!==o||e!==s))try{yield ue(A.value.project_name,l,e),U.value=se(f.value),k.value=[],E.value=new Set,P.value=!0,z.value=""}catch(m){console.error("Error reloading Payroll data for new year range:",m),V.error("Failed to load data for selected year range. Please try again.")}}),{deep:!0});function wt(){vt(),E.value=new Set,P.value=!1}function De(l,e){c.value[e]||(c.value[e]={}),c.value[e][l]||(c.value[e][l]={}),(typeof c.value[e][l].count!="object"||c.value[e][l].count===null||Array.isArray(c.value[e][l].count))&&(c.value[e][l].count={})}function Pe(l,e){c.value[e]||(c.value[e]={}),c.value[e][l]||(c.value[e][l]={}),(typeof c.value[e][l].salary!="object"||c.value[e][l].salary===null||Array.isArray(c.value[e][l].salary))&&(c.value[e][l].salary={})}function Ae(l,e,o){var d,m;const s=f.value.find(y=>y.id===l);if(!s)return 0;De(l,e);const a=(m=(d=c.value[e])==null?void 0:d[l])==null?void 0:m.count;if(a&&typeof a=="object"&&a!==null&&!Array.isArray(a)){const y=a[o];if(y!=null)return y}return s.count||0}function _t(l,e,o,s){De(l,e),c.value[e][l].count[o]=s}function Ke(l,e,o,s,a){const d=parseFloat(a.target.textContent)||0;if(c.value[o]||(c.value[o]={}),c.value[o][l]||(c.value[o][l]={}),e==="count"&&s?_t(l,o,s,d):c.value[o][l][e]=d,zo(k.value,l,e,o,s,a),P.value=!1,e==="count"&&s){c.value[o][l]._lastUpdate=Date.now(),(!c.value[o][l].monthlyUpdates||typeof c.value[o][l].monthlyUpdates!="object"||Array.isArray(c.value[o][l].monthlyUpdates))&&(c.value[o][l].monthlyUpdates={}),c.value[o][l].monthlyUpdates[s]=Date.now();const m=f.value.find(y=>y.id===l);if(m){const T=(Ae(l,o,s)||0)*(m.salary||0);Pe(l,o),c.value[o][l].salary[s]=T,lt(()=>{c.value[o][l]._forceUpdate=Date.now()})}}}function qe(l,e,o,s,a){if(e==="salary"||e==="annual"){const d=a.target.textContent.replace(/[^0-9.]/g,"");a.target.textContent=d}if(e==="count"){const d=a.target.textContent.replace(/[^0-9]/g,"");a.target.textContent=d}}function Qe(l,e,o,s,a){if(e==="salary"||e==="annual")if(e==="salary"&&s){const d=C(l,e,o,s);a.target.textContent=d.toString()}else{const d=parseFloat(a.target.textContent.replace(/[^0-9.]/g,""));isNaN(d)||(a.target.textContent=d.toString())}if(e==="count"){const d=C(l,e,o,s);a.target.textContent=d.toString()}}function kt(l,e){let o=l.target.value.replace(/[^0-9.]/g,"");e.salary=o}function Ct(l,e){let o=e.salary;typeof o=="string"&&(o=o.replace(/[^0-9.]/g,"")),l.target.value=o||""}function St(l,e){let o=l.target.value.replace(/[^0-9.]/g,"");if(!o||o===""){l.target.value=w(e.salary);return}let s=parseFloat(o);isNaN(s)?l.target.value=w(e.salary):(e.salary=s,l.target.value=w(s))}function Mt(){ge.value=!ge.value}function Tt(){return I(this,null,function*(){if(!ee.value.trim()){V.error("Please enter a department name");return}try{de.value=!0;const l=yield yl(ee.value.trim());ee.value="",V.success(`Department "${l.department_name}" created successfully!`)}catch(l){console.error("Error creating department:",l)}finally{de.value=!1}})}function jt(){return I(this,null,function*(){if(!te.value.trim()){V.error("Please enter a location name");return}try{ce.value=!0;const l=yield wl(te.value.trim());te.value="",V.success(`Location "${l.department_location}" created successfully!`)}catch(l){console.error("Error creating location:",l)}finally{ce.value=!1}})}function Rt(){return I(this,null,function*(){if(!oe.value.trim()){V.error("Please enter a designation name");return}try{ve.value=!0;const l=yield _l(oe.value.trim());oe.value="",V.success(`Designation "${l.designation_name}" created successfully!`)}catch(l){console.error("Error creating designation:",l)}finally{ve.value=!1}})}const Lt=()=>I(this,null,function*(){var l,e;try{if(B.value=!0,z.value="",k.value.length===0){B.value=!1;return}const o=yield hl(k.value,(l=A.value)==null?void 0:l.project_name);return k.value=[],E.value=new Set,yield ue((e=A.value)==null?void 0:e.project_name,Y.value,H.value),U.value=se(f.value),P.value=!0,V.success("Changes saved successfully"),B.value=!1,o}catch(o){z.value=o.message||"Failed to save changes",V.error(z.value),B.value=!1}});function Dt(l){const e=new Set(E.value);e.add(l),E.value=e,P.value=!1,V.info("Removed payroll row. Click Restore to undo before saving.")}function M(l){const e=E.value;return(l||[]).filter(o=>!e.has(o.id))}function Pt(){try{U.value&&Object.keys(U.value).length&&(f.value=se(U.value)),E.value=new Set,P.value=!1,V.info("Restored to original")}catch(l){console.error("Error restoring original data:",l)}}O(P,l=>{l?window.removeEventListener("beforeunload",Ne):window.addEventListener("beforeunload",Ne)});function Ne(l){if(!P.value)return l.preventDefault(),l.returnValue="You have unsaved changes that may be discarded if not saved. Are you sure you want to leave?",l.returnValue}To(()=>{window.removeEventListener("beforeunload",Ne),E.value=new Set}),O(j,l=>{localStorage.setItem("totalRooms",l.toString())}),setInterval(()=>{const l=localStorage.getItem(Ue("totalNumberOfRooms"));if(l&&parseInt(l)>0){const e=parseInt(l);e!==j.value&&me.value&&(j.value=e,localStorage.setItem("totalRooms",e.toString()))}},1e3);function At(){localStorage.setItem("showRefreshSuccess","true"),window.location.reload()}function C(l,e,o,s){var a;if(e==="count"&&s)return Ae(l,o,s);if(e==="salary"&&s){const d=Ae(l,o,s),m=f.value.find(T=>T.id===l);if(!m)return 0;const y=(d||0)*(m.salary||0);try{const T=((a=A.value)==null?void 0:a.project_name)||"default",xe=(m.department||"").toString(),fo=(m.position||"").toString(),xo=(m.designation||"").toString(),bo=(m.departmentLocation||"").toString(),ho=`MonthlySalary|department:${xe}|position:${fo}|location:${bo}|designation:${xo}`;dt.setValue(T,"Payroll",ho,o,s,y)}catch(T){}return y}return Fo(f.value,c,l,e,o,s)}function W(l,e){return Oo(l,e,R,C)}function fe(l,e){const o=n.value[0],s=W(l,o),a=Re.value[e]||0,d=s*a/100;return s+d}function Nt(){return ll(M(Le.value))}function Vt(l){return Yo(M(Le.value),l)}function Ve(l,e){return Ho(M(Le.value),l,e)}function Ut(l,e){return $o(f.value,l,e)}function Et(l,e,o,s){return Ko(f.value,l,e,o,s,C)}function Bt(l,e,o,s){return qo(f.value,l,e,o,s,C)}function Ft(l,e,o){return Qo(f.value,l,e,o,W)}function It(l,e){return Wo(f.value,l,e)}function Yt(l,e,o,s){return Jo(f.value,l,e,o,s,C)}function Ht(l,e,o,s){return Xo(f.value,l,e,o,s,C)}function zt(l,e,o){return Go(f.value,l,e,o,W)}function Ot(l,e){return Zo(f.value,l,e)}function $t(l,e,o,s){return el(f.value,l,e,o,s,C)}function Kt(l,e,o,s){return tl(f.value,l,e,o,s,C)}function qt(l,e,o){return ol(f.value,l,e,o,W)}function Qt(){return al(M(f.value))}function Wt(l,e){return sl(M(f.value),l,e,C)}function Jt(l,e){return nl(M(f.value),l,e,C)}function Xt(l){return rl(M(f.value),l,W)}function Gt(){return il(M(f.value),j.value)}function Zt(l,e){return ul(M(f.value),l,e,C,j.value)}function eo(l,e){return dl(M(f.value),l,e,C,j.value)}function to(l){return cl(M(f.value),l,W,j.value)}function We(l){return M(f.value).reduce((o,s)=>o+fe(s.id,l),0)}function oo(l){const e=We(l);return j.value>0?e/j.value:0}function lo(l){const e=parseInt(l.target.value)||1;e<1?j.value=1:j.value=e}function ao(l){const e=parseInt(l.target.value)||1;j.value=Math.max(1,e),localStorage.setItem("totalRooms",j.value.toString())}function so(){const l=localStorage.getItem(Ue("totalNumberOfRooms"));if(l&&parseInt(l)>0){const e=parseInt(l);j.value=e,localStorage.setItem("totalRooms",e.toString()),V.success("Synced With Room Revenue Room Total")}else V.warning("No Room Revenue total found. Please set a total in the Room Revenue page first.")}function Je(l,e,o){return Ve(l,e).filter(a=>a.position==="Manager").reduce((a,d)=>a+fe(d.id,o),0)}function Xe(l,e,o){return Ve(l,e).filter(a=>a.position==="Non-manager").reduce((a,d)=>a+fe(d.id,o),0)}function no(l,e,o){const s=Je(l,e,o),a=Xe(l,e,o);return s+a}function ro(l,e){const o=window.getSelection().getRangeAt(0).startOffset;let s=e.target.textContent.replace(/[^0-9.]/g,"");if(l._tempSalary||(l._tempSalary=l.salary),l._tempSalary=s,n.value.length>0){const a=n.value[0];c.value[a]||(c.value[a]={}),c.value[a][l.id]||(c.value[a][l.id]={}),c.value[a][l.id]._lastUpdate=Date.now()}lt(()=>{const a=window.getSelection();if(a.rangeCount>0){const d=a.getRangeAt(0),m=d.startContainer;if(m.nodeType===Node.TEXT_NODE){const y=Math.min(o,m.length);d.setStart(m,y),d.setEnd(m,y),a.removeAllRanges(),a.addRange(d)}}})}function io(l,e){let o=l.salary;typeof o=="string"&&(o=o.replace(/[^0-9.]/g,"")),l._isDefault&&(o==null||o===""||Number.isNaN(o))&&(o=0),e.target.textContent=o!=null&&o!==""?o:""}function uo(l,e){let o=l._tempSalary||e.target.textContent.replace(/[^0-9.]/g,"");if(delete l._tempSalary,!o||o===""){e.target.textContent=w(l.salary);return}let s=parseFloat(o);if(isNaN(s))e.target.textContent=w(l.salary);else{if(l.salary=s,e.target.textContent=w(s),P.value=!1,n.value.length>0){const a=n.value[0];l._isDefault&&(f.value.find(T=>T.id===l.id)||f.value.push(ne({},l)));const d={rowId:l.id,fieldType:"salary",year:a,month:null,newValue:s,isOverride:!1},m=k.value.findIndex(y=>y.rowId===l.id&&y.fieldType==="salary"&&y.year===a&&(y.month===null||y.month===void 0));m>=0?k.value[m]=d:k.value.push(d)}if(n.value.length>0){const a=n.value[0];c.value[a]||(c.value[a]={}),c.value[a][l.id]||(c.value[a][l.id]={}),c.value[a][l.id]._lastUpdate=Date.now()}}}function co(l,e){let o=e.target.textContent.replace(/[^0-9]/g,"");if(l.count=o,n.value.length>0){const s=n.value[0];c.value[s]||(c.value[s]={}),c.value[s][l.id]||(c.value[s][l.id]={}),c.value[s][l.id]._lastUpdate=Date.now()}}function vo(l,e){let o=l.count;typeof o=="string"&&(o=o.replace(/[^0-9]/g,"")),l._isDefault&&(o==null||o===""||Number.isNaN(o))&&(o=0),e.target.textContent=o!=null&&o!==""?o:""}function go(l,e){let o=e.target.textContent.replace(/[^0-9]/g,"");if(!o||o===""){e.target.textContent=l.count||"0";return}let s=parseInt(o,10);if(isNaN(s))e.target.textContent=l.count||"0";else{if(l.count=s,e.target.textContent=s,P.value=!1,l._isDefault){if(f.value.find(d=>d.id===l.id)||f.value.push(ne({},l)),n.value.length>0){const d=n.value[0],m={rowId:l.id,fieldType:"count",year:d,month:null,newValue:s,isOverride:!1},y=k.value.findIndex(T=>T.rowId===l.id&&T.fieldType==="count"&&T.year===d&&(T.month===null||T.month===void 0));y>=0?k.value[y]=m:k.value.push(m)}l.count=s}if(n.value.length>0){const a=n.value[0];c.value[a]||(c.value[a]={}),c.value[a][l.id]||(c.value[a][l.id]={}),c.value[a][l.id]._lastUpdate=Date.now()}}}function mo(){Te.value=!0}function po(){Te.value=!1}return(l,e)=>(i(),u(x,null,[t("div",Pl,[g(Do,{onOpenSettings:mo}),t("div",Al,[t("div",Nl,[t("div",{class:be(["bg-gradient-to-b from-white to-gray-50 border-r border-gray-200 min-h-screen flex flex-col shadow-sm transition-all duration-300",Z.value?"w-14 p-2":"w-80 p-6"])},[t("button",{onClick:e[0]||(e[0]=o=>Z.value=!Z.value),class:"mb-4 flex items-center gap-2 px-2 py-1 bg-violet-100 hover:bg-violet-200 rounded transition-all dark:bg-violet-900/30 dark:hover:bg-violet-800/40"},[Z.value?(i(),le(r(it),{key:1,class:"w-5 h-5 text-violet-700 dark:text-white"})):(i(),le(r(Sl),{key:0,class:"w-5 h-5 text-violet-700 dark:text-white"})),Z.value?p("",!0):(i(),u("span",Vl,"Collapse"))]),g(ye,{name:"fade"},{default:he(()=>[N(t("div",null,[t("div",Ul,[t("div",El,[t("div",Bl,[g(r(Ee),{class:"w-7 h-7 mx-2 text-white"})]),e[22]||(e[22]=t("h1",{class:"text-2xl font-bold text-gray-900"},"Payroll",-1))]),e[23]||(e[23]=t("p",{class:"text-sm text-gray-500"},"Manage and configure your payroll data",-1))]),t("div",Fl,[t("div",Il,[t("div",Yl,[P.value?(i(),u("div",zl,[g(r(we),{class:"w-4 h-4"}),e[25]||(e[25]=b(" All Saved ",-1))])):(i(),u("div",Hl,[g(r(Be),{class:"w-4 h-4"}),e[24]||(e[24]=b(" Unsaved ",-1))]))]),!B.value&&!P.value?(i(),u("button",{key:0,disabled:B.value,onClick:Lt,class:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-violet-600 to-violet-700 text-white rounded-lg hover:from-violet-700 hover:to-violet-800 transition-all duration-200 shadow-md hover:shadow-lg transform hover:scale-105"},[g(r(Po),{class:"w-4 h-4"}),e[26]||(e[26]=b(" Save ",-1))],8,Ol)):p("",!0),B.value?(i(),u("button",$l,[g(r(Ml),{class:"w-4 h-4 animate-spin"}),e[27]||(e[27]=b(" Saving... ",-1))])):p("",!0)]),z.value?(i(),u("span",Kl,[g(r(Ie),{class:"w-3 h-3"}),b(" "+v(z.value),1)])):p("",!0)]),t("div",ql,[t("h3",Ql,[g(r(Ye),{class:"w-4 h-4 text-violet-600"}),e[28]||(e[28]=b(" Quick Actions ",-1))]),t("button",{onClick:e[1]||(e[1]=(...o)=>r(ke)&&r(ke)(...o)),disabled:!r(A),class:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-gradient-to-r from-violet-500 to-violet-600 text-white rounded-xl hover:from-violet-600 hover:to-violet-700 transition-all duration-200 shadow-md hover:shadow-lg transform hover:scale-105 font-medium"},[g(r(Ye),{class:"w-5 h-5"}),e[29]||(e[29]=b(" Add Payroll Row ",-1))],8,Wl),t("div",Jl,[t("button",{onClick:At,class:"w-full flex items-center justify-center gap-2 px-3 py-2 bg-white border border-violet-200 text-violet-700 rounded-lg hover:bg-violet-50 transition-all text-sm font-medium"},[g(r(at),{class:"w-4 h-4"}),e[30]||(e[30]=b(" Refresh ",-1))])])]),t("div",Xl,[t("div",Gl,[t("h3",Zl,[g(r(Tl),{class:"w-5 h-5 text-violet-600"}),e[31]||(e[31]=b(" Year Range Filter ",-1))]),t("div",ea,[t("div",ta,[t("div",null,[t("label",oa,[g(r(re),{class:"w-3 h-3 text-gray-500"}),e[32]||(e[32]=b(" From Year ",-1))]),N(t("select",{disabled:"","onUpdate:modelValue":e[2]||(e[2]=o=>tt(Y)?Y.value=o:null),class:"w-full px-3 py-2.5 rounded-lg border border-gray-300 focus:border-violet-500 focus:ring-2 focus:ring-violet-200 transition-all bg-gray-100 text-sm"},[e[33]||(e[33]=t("option",{value:""},"Select Year",-1)),(i(!0),u(x,null,h(L.value,o=>(i(),u("option",{key:"from-"+o,value:o},v(o),9,la))),128))],512),[[$,r(Y)]])]),t("div",null,[t("label",aa,[g(r(re),{class:"w-3 h-3 text-gray-500"}),e[34]||(e[34]=b(" To Year ",-1))]),N(t("select",{disabled:"","onUpdate:modelValue":e[3]||(e[3]=o=>tt(H)?H.value=o:null),class:"w-full px-3 py-2.5 rounded-lg border border-gray-300 focus:border-violet-500 focus:ring-2 focus:ring-violet-200 transition-all bg-gray-100 text-sm"},[e[35]||(e[35]=t("option",{value:""},"Select Year",-1)),(i(!0),u(x,null,h(mt.value,o=>(i(),u("option",{key:"to-"+o,value:o},v(o),9,sa))),128))],512),[[$,r(H)]])])]),t("div",na,[t("button",{onClick:wt,class:"flex-1 flex items-center justify-center gap-2 px-3 py-2.5 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-all duration-200 text-sm font-medium"},e[36]||(e[36]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1),b(" Clear ",-1)])),t("button",{onClick:e[4]||(e[4]=o=>K.value=!0),class:"flex-1 flex items-center justify-center gap-2 px-3 py-2.5 bg-white border border-violet-500 text-violet-700 rounded-lg hover:bg-violet-50 transition-all duration-200 text-sm font-medium"},e[37]||(e[37]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})],-1),b(" Advanced ",-1)]))])])]),t("div",ra,[t("div",ia,[t("h3",ua,[g(r(Ao),{class:"w-5 h-5 text-violet-600"}),e[38]||(e[38]=b(" Total Number of Rooms ",-1))]),t("div",da,[t("div",null,[t("div",ca,[N(t("input",{"onUpdate:modelValue":e[5]||(e[5]=o=>j.value=o),type:"number",min:"1",class:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:border-violet-500 focus:ring-2 focus:ring-violet-200 transition-all bg-white text-lg font-semibold text-gray-900 rooms-input",placeholder:"Enter total number of rooms",onInput:lo,onBlur:ao,onKeyup:e[6]||(e[6]=jo(o=>o.target.blur(),["enter"]))},null,544),[[X,j.value]]),e[39]||(e[39]=t("div",{class:"absolute inset-y-0 right-0 flex items-center pr-3"},[t("span",{class:"text-gray-400 text-sm mr-8 font-medium"},"rooms")],-1))])]),t("div",va,[t("button",{onClick:so,class:be(["w-full flex items-center justify-center gap-2 px-4 py-2.5 rounded-lg transition-all duration-200 text-sm font-medium shadow-sm",me.value?"bg-green-500 hover:bg-green-600 text-white shadow-green-200":"bg-violet-500 hover:bg-violet-600 text-white shadow-violet-200"])},[g(r(at),{class:"w-4 h-4"}),b(" "+v(me.value?"Synced":"Unsynced"),1)],2),t("p",ga,v(me.value?"Your total rooms are synchronized with the Room Revenue page":"Click to sync with the total rooms from Room Revenue page"),1)]),e[40]||(e[40]=t("p",{class:"text-xs text-gray-500 flex items-center gap-1"}," This value is used for payroll calculations and projections ",-1)),t("div",ma,[t("button",{onClick:e[7]||(e[7]=o=>q.value=!0),class:"w-full flex items-center justify-left gap-2 px-3 py-2.5 bg-white border border-violet-500 text-violet-700 rounded-lg hover:bg-violet-50 transition-all duration-200 text-sm font-medium"}," Annual Percentage Increment ")])])])])])],512),[[ot,!Z.value]])]),_:1})],2),t("div",pa,[r(A)?n.value.length&&He.value?(i(),u(x,{key:1},[t("div",ha,[t("div",ya,[t("div",wa,[g(r(Cl),{class:"w-3 h-3 text-white"})]),e[44]||(e[44]=t("h2",{class:"text-lg font-bold text-gray-800"},"Payroll Data Overview",-1))]),t("div",_a,[E.value.size>0?(i(),u("button",{key:0,onClick:Pt,class:"inline-flex items-center gap-2 px-3 py-1.5 bg-gray-500 text-white rounded-md hover:bg-gray-600 text-sm font-medium shadow-sm transition-all"},[g(r(jl),{class:"w-4 h-4"}),b(" Restore ("+v(E.value.size)+") ",1)])):p("",!0)])]),pt.value?(i(),u("div",Ta,[t("div",ja,[t("div",Ra,[t("table",La,[t("thead",Da,[t("tr",null,[t("th",Pa,[t("div",Aa,[g(r(Me),{class:"w-3 h-3"}),e[48]||(e[48]=b(" Position ",-1))])]),t("th",Na,[t("div",Va,[g(r(Me),{class:"w-3 h-3"}),e[49]||(e[49]=b(" Designation ",-1))])]),t("th",Ua,[t("div",Ea,[g(r(Me),{class:"w-3 h-3"}),e[50]||(e[50]=b(" Salary ",-1))])]),t("th",Ba,[t("div",Fa,[g(r(Me),{class:"w-3 h-3"}),e[51]||(e[51]=b(" Count ",-1))])]),n.value.length>0?(i(),u("th",{key:0,colspan:r(S)(n.value[0])?1:25,class:"px-2 py-2 text-center border-x-2 border-white font-semibold text-sm cursor-pointer select-none hover:bg-violet-700 transition-all duration-200 group",onClick:e[9]||(e[9]=o=>r(gl)(n.value[0])),title:"Click to collapse/expand"},[t("div",Ya,[t("span",Ha,v(n.value[0]),1),r(S)(n.value[0])?(i(),le(r(it),{key:1,class:"w-3 h-3 transition-transform group-hover:scale-110"})):(i(),le(r(No),{key:0,class:"w-3 h-3 transition-transform group-hover:scale-110"}))])],8,Ia)):p("",!0),n.value.length>1?(i(),u("th",{key:1,colspan:n.value.length-1,class:"px-2 py-2 text-center border-x-2 border-white font-semibold text-sm"}," Annual Percentage Increment ",8,za)):p("",!0)]),t("tr",Oa,[n.value.length>0&&!r(S)(n.value[0])?(i(),u("th",$a," Monthly Count ")):p("",!0),n.value.length>0&&!r(S)(n.value[0])?(i(),u("th",Ka," Monthly Salary ")):p("",!0),n.value.length>0?(i(),u("th",qa," Total ")):p("",!0),(i(!0),u(x,null,h(n.value.slice(1),o=>(i(),u("th",{rowspan:2,key:"annual-"+o,class:"px-2 py-1 text-center border border-violet-300 font-medium"},v(o),1))),128))]),t("tr",Qa,[r(S)(n.value[0])?p("",!0):(i(),u(x,{key:0},h(R,o=>t("th",{key:"count-"+o,class:"px-2 py-1 text-center border border-violet-300 min-w-[80px] font-medium"},v(o),1)),64)),r(S)(n.value[0])?p("",!0):(i(),u(x,{key:1},h(R,o=>t("th",{key:"salary-"+o,class:"px-2 py-1 text-center border border-violet-300 min-w-[80px] font-medium"},v(o),1)),64))])]),t("tbody",Wa,[(i(!0),u(x,null,h(Nt(),o=>(i(),u(x,{key:o},[t("tr",Ja,[t("td",{colspan:4+(n.value.length>0?r(S)(n.value[0])?1:25:0)+(n.value.length>1?n.value.length-1:0),class:"px-3 py-2 font-bold text-white text-left"},v(o),9,Xa)]),(i(!0),u(x,null,h(Vt(o),s=>(i(),u(x,{key:"location-"+s},[t("tr",Ga,[t("td",{colspan:4+(n.value.length>0?r(S)(n.value[0])?1:25:0)+(n.value.length>1?n.value.length-1:0),class:"px-3 py-1.5 font-semibold text-violet-700 text-left text-sm"},v(s),9,Za)]),(i(!0),u(x,null,h(M(Ve(o,s)),a=>(i(),u("tr",{key:a.id,class:"border-b border-gray-200 hover:bg-violet-50 transition-all duration-200"},[t("td",es,v(a.position),1),t("td",ts,[t("div",os,[t("span",null,v(a.designation),1),t("button",{onClick:d=>Dt(a.id),class:"text-red-600 hover:text-red-700 p-1 rounded hover:bg-red-50 transition-all",title:"Delete payroll row"},[g(r(ie),{class:"w-4 h-4"})],8,ls)])]),(i(),u("td",{class:"px-3 py-2 text-right border-r border-violet-200 text-sm",contenteditable:"true",key:a.id+"-salary",onInput:d=>ro(a,d),onFocus:d=>io(a,d),onBlur:d=>uo(a,d),onKeypress:e[10]||(e[10]=d=>r(ae)(d))},v(w(a.salary)),41,as)),t("td",{class:"px-3 py-2 text-right border-r border-violet-200 text-sm",contenteditable:a._isDefault,onInput:d=>a._isDefault&&co(a,d),onFocus:d=>a._isDefault&&vo(a,d),onBlur:d=>a._isDefault&&go(a,d),onKeypress:d=>a._isDefault&&r(ae)(d)},v(a.count),41,ss),n.value.length>0&&!r(S)(n.value[0])?(i(),u(x,{key:0},h(R,d=>t("td",{key:"count-cell-"+d+"-"+(C(a.id,"count",n.value[0],d)||0),contenteditable:"true",class:"px-2 py-1 text-right border border-violet-200 hover:bg-violet-50 outline-none focus:ring-2 focus:ring-violet-500 transition-all duration-200",onInput:m=>qe(a.id,"count",n.value[0],d,m),onFocus:m=>Qe(a.id,"count",n.value[0],d,m),onBlur:m=>Ke(a.id,"count",n.value[0],d,m),onKeypress:e[11]||(e[11]=m=>r(ae)(m))},[t("span",rs,v(C(a.id,"count",n.value[0],d)),1)],40,ns)),64)):p("",!0),n.value.length>0&&!r(S)(n.value[0])?(i(),u(x,{key:1},h(R,d=>{var m,y,T,xe;return t("td",{key:"salary-cell-"+d+"-"+(((y=(m=r(c)[n.value[0]])==null?void 0:m[a.id])==null?void 0:y._lastUpdate)||0)+"-"+(((xe=(T=r(c)[n.value[0]])==null?void 0:T[a.id])==null?void 0:xe._forceUpdate)||0)+"-"+(C(a.id,"count",n.value[0],d)||0),class:"px-2 py-1 text-right border border-violet-200 bg-gray-50"},[t("span",is,v(w(C(a.id,"salary",n.value[0],d))),1)])}),64)):p("",!0),n.value.length>0?(i(),u("td",us,[t("span",ds,v(w(W(a.id,n.value[0]))),1)])):p("",!0),n.value.length>1?(i(!0),u(x,{key:3},h(n.value.slice(1),d=>(i(),u("td",{key:"annual-cell-"+d,contenteditable:"true",class:"px-2 py-1 text-right border border-violet-200 hover:bg-violet-50 outline-none focus:ring-2 focus:ring-violet-500 transition-all duration-200",onInput:m=>qe(a.id,"annual",d,"",m),onFocus:m=>Qe(a.id,"annual",d,"",m),onBlur:m=>Ke(a.id,"annual",d,"",m)},[t("span",vs,v(w(fe(a.id,d))),1)],40,cs))),128)):p("",!0)]))),128)),t("tr",gs,[t("td",ms,[t("div",ps,[g(r(st),{class:"w-4 h-4 text-violet-700"}),e[52]||(e[52]=b(" Sub-Total Management ",-1))])]),t("td",fs,[t("span",xs,v(Ut(o,s)),1)]),n.value.length>0&&!r(S)(n.value[0])?(i(),u(x,{key:0},h(R,a=>t("td",{key:"subtotal-mgmt-count-"+a,class:"px-2 py-1.5 text-right border border-violet-300 bg-gradient-to-r from-violet-100 to-purple-100 font-semibold"},[t("span",bs,v(Et(o,s,n.value[0],a)),1)])),64)):p("",!0),n.value.length>0&&!r(S)(n.value[0])?(i(),u(x,{key:1},h(R,a=>t("td",{key:"subtotal-mgmt-salary-"+a,class:"px-2 py-1.5 text-right border border-violet-300 bg-gradient-to-r from-violet-100 to-purple-100 font-semibold"},[t("span",hs,v(w(Bt(o,s,n.value[0],a))),1)])),64)):p("",!0),n.value.length>0?(i(),u("td",ys,[t("span",ws,v(w(Ft(o,s,n.value[0]))),1)])):p("",!0),n.value.length>1?(i(!0),u(x,{key:3},h(n.value.slice(1),a=>(i(),u("td",{key:"subtotal-mgmt-annual-"+a,class:"px-2 py-1.5 text-right border border-violet-300 bg-gradient-to-r from-violet-100 to-purple-100 font-semibold"},[t("span",_s,v(w(Je(o,s,a))),1)]))),128)):p("",!0)]),t("tr",ks,[t("td",Cs,[t("div",Ss,[g(r(st),{class:"w-4 h-4 text-violet-700"}),e[53]||(e[53]=b(" Sub-Total Non-Management ",-1))])]),t("td",Ms,[t("span",Ts,v(It(o,s)),1)]),n.value.length>0&&!r(S)(n.value[0])?(i(),u(x,{key:0},h(R,a=>t("td",{key:"subtotal-nonmgmt-count-"+a,class:"px-2 py-1.5 text-right border border-violet-300 bg-gradient-to-r from-violet-100 to-purple-100 font-semibold"},[t("span",js,v(Yt(o,s,n.value[0],a)),1)])),64)):p("",!0),n.value.length>0&&!r(S)(n.value[0])?(i(),u(x,{key:1},h(R,a=>t("td",{key:"subtotal-nonmgmt-salary-"+a,class:"px-2 py-1.5 text-right border border-violet-300 bg-gradient-to-r from-violet-100 to-purple-100 font-semibold"},[t("span",Rs,v(w(Ht(o,s,n.value[0],a))),1)])),64)):p("",!0),n.value.length>0?(i(),u("td",Ls,[t("span",Ds,v(w(zt(o,s,n.value[0]))),1)])):p("",!0),n.value.length>1?(i(!0),u(x,{key:3},h(n.value.slice(1),a=>(i(),u("td",{key:"subtotal-nonmgmt-annual-"+a,class:"px-2 py-1.5 text-right border border-violet-300 bg-gradient-to-r from-violet-100 to-purple-100 font-semibold"},[t("span",Ps,v(w(Xe(o,s,a))),1)]))),128)):p("",!0)]),t("tr",As,[t("td",Ns,[t("div",Vs,[g(r(Rl),{class:"w-5 h-5 text-violet-700"}),e[54]||(e[54]=b(" Total ",-1))])]),t("td",Us,[t("span",Es,v(Ot(o,s)),1)]),n.value.length>0&&!r(S)(n.value[0])?(i(),u(x,{key:0},h(R,a=>t("td",{key:"total-count-"+a,class:"px-2 py-2 text-right border border-violet-300 bg-gradient-to-r from-violet-100 to-purple-100 font-bold"},[t("span",Bs,v($t(o,s,n.value[0],a)),1)])),64)):p("",!0),n.value.length>0&&!r(S)(n.value[0])?(i(),u(x,{key:1},h(R,a=>t("td",{key:"total-salary-"+a,class:"px-2 py-2 text-right border border-violet-300 bg-gradient-to-r from-violet-100 to-purple-100 font-bold"},[t("span",Fs,v(w(Kt(o,s,n.value[0],a))),1)])),64)):p("",!0),n.value.length>0?(i(),u("td",Is,[t("span",Ys,v(w(qt(o,s,n.value[0]))),1)])):p("",!0),n.value.length>1?(i(!0),u(x,{key:3},h(n.value.slice(1),a=>(i(),u("td",{key:"total-annual-"+a,class:"px-2 py-2 text-right border border-violet-300 bg-gradient-to-r from-violet-100 to-purple-100 font-bold"},[t("span",Hs,v(w(no(o,s,a))),1)]))),128)):p("",!0)])],64))),128))],64))),128)),e[57]||(e[57]=t("tr",{class:"h-4 bg-gradient-to-r from-violet-100 to-indigo-100"},null,-1)),e[58]||(e[58]=t("tr",{class:"h-4 bg-gradient-to-r from-violet-100 to-indigo-100"},null,-1)),t("tr",zs,[t("td",Os,[t("div",$s,[g(r(Vo),{class:"w-5 h-5 text-violet-700"}),e[55]||(e[55]=b(" Total Hotel ",-1))])]),t("td",Ks,[t("span",qs,v(Qt()),1)]),n.value.length>0&&!r(S)(n.value[0])?(i(),u(x,{key:0},h(R,o=>t("td",{key:"hotel-count-"+o,class:"px-2 py-2 text-right border border-violet-300 bg-gradient-to-r from-violet-100 to-indigo-100 font-bold"},[t("span",Qs,v(Wt(n.value[0],o)),1)])),64)):p("",!0),n.value.length>0&&!r(S)(n.value[0])?(i(),u(x,{key:1},h(R,o=>t("td",{key:"hotel-salary-"+o,class:"px-2 py-2 text-right border border-violet-300 bg-gradient-to-r from-violet-100 to-indigo-100 font-bold"},[t("span",Ws,v(w(Jt(n.value[0],o))),1)])),64)):p("",!0),n.value.length>0?(i(),u("td",Js,[t("span",Xs,v(w(Xt(n.value[0]))),1)])):p("",!0),n.value.length>1?(i(!0),u(x,{key:3},h(n.value.slice(1),o=>(i(),u("td",{key:"hotel-annual-"+o,class:"px-2 py-2 text-right border border-violet-300 bg-gradient-to-r from-violet-100 to-indigo-100 font-bold"},[t("span",Gs,v(w(We(o))),1)]))),128)):p("",!0)]),t("tr",Zs,[t("td",en,[t("div",tn,[g(r(Ll),{class:"w-5 h-5 text-green-700"}),e[56]||(e[56]=b(" Employee/Room Ratio ",-1))])]),t("td",on,[t("span",ln,v(Gt()),1)]),n.value.length>0&&!r(S)(n.value[0])?(i(),u(x,{key:0},h(R,o=>t("td",{key:"ratio-count-"+o,class:"px-2 py-2 text-right border border-green-300 bg-gradient-to-r from-green-100 to-emerald-100 font-bold"},[t("span",an,v(Zt(n.value[0],o)),1)])),64)):p("",!0),n.value.length>0&&!r(S)(n.value[0])?(i(),u(x,{key:1},h(R,o=>t("td",{key:"ratio-salary-"+o,class:"px-2 py-2 text-right border border-green-300 bg-gradient-to-r from-green-100 to-emerald-100 font-bold"},[t("span",sn,v(w(eo(n.value[0],o))),1)])),64)):p("",!0),n.value.length>0?(i(),u("td",nn,[t("span",rn,v(w(to(n.value[0]))),1)])):p("",!0),n.value.length>1?(i(!0),u(x,{key:3},h(n.value.slice(1),o=>(i(),u("td",{key:"ratio-annual-"+o,class:"px-2 py-2 text-right border border-green-300 bg-gradient-to-r from-green-100 to-emerald-100 font-bold"},[t("span",un,v(w(oo(o))),1)]))),128)):p("",!0)])])])])])])):(i(),u("div",ka,[t("div",Ca,[g(r(Ee),{class:"w-8 h-8 text-violet-500"})]),e[46]||(e[46]=t("h3",{class:"text-lg text-violet-700 font-semibold mb-2"},"No Payroll Data",-1)),e[47]||(e[47]=t("p",{class:"text-gray-500 text-center max-w-md leading-relaxed text-sm"}," There is no payroll data for the selected year range. Add some payroll data to get started. ",-1)),t("div",Sa,[t("button",{onClick:e[8]||(e[8]=(...o)=>r(ke)&&r(ke)(...o)),disabled:!r(A),class:be(["px-4 py-2 rounded-lg font-medium transition-all flex items-center gap-2",r(A)?"bg-violet-600 text-white hover:bg-violet-700 shadow-md":"bg-gray-400 text-gray-200 cursor-not-allowed"])},e[45]||(e[45]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),b(" Add Payroll Data ",-1)]),10,Ma)])]))],64)):r(A)?(i(),le(Io,{key:2,"from-year":r(Y),"to-year":r(H)},null,8,["from-year","to-year"])):(i(),u("div",dn,[t("div",cn,[g(r(Ie),{class:"w-8 h-8 text-violet-500"})]),e[60]||(e[60]=t("h3",{class:"text-lg text-violet-700 font-semibold mb-2"},"No Project Selected",-1)),e[61]||(e[61]=t("p",{class:"text-gray-500 text-center max-w-md leading-relaxed text-sm"}," Please select a project from the dashboard to view and manage payroll data. ",-1)),t("div",vn,[g(r(ut),{class:"w-3 h-3"}),e[59]||(e[59]=t("span",null,"Use the project selector in the dashboard to get started",-1))])])):(i(),u("div",fa,[t("div",xa,[g(r(Ie),{class:"w-8 h-8 text-violet-500"})]),e[42]||(e[42]=t("h3",{class:"text-lg text-violet-700 font-semibold mb-2"},"No Project Selected",-1)),e[43]||(e[43]=t("p",{class:"text-gray-500 text-center max-w-md leading-relaxed text-sm"}," Please select a project from the dashboard to view and manage payroll data. ",-1)),t("div",ba,[g(r(ut),{class:"w-3 h-3"}),e[41]||(e[41]=t("span",null,"Use the project selector in the dashboard to get started",-1))])]))])])])]),g(ye,{name:"fade"},{default:he(()=>[K.value?(i(),u("div",gn,[t("div",mn,[t("div",pn,[g(r(Uo),{class:"w-6 h-6 text-white"}),e[62]||(e[62]=t("h2",{class:"text-xl font-bold text-white"},"Advanced Display Mode Settings",-1))]),t("div",fn,[n.value.length?p("",!0):(i(),u("div",xn,[g(r(Be),{class:"w-6 h-6 text-yellow-600"}),e[63]||(e[63]=t("span",{class:"text-yellow-800 font-medium"},'Please select both \\"From Year\\" and \\"To Year\\" to configure advanced settings.',-1))])),n.value.length?(i(),u("div",bn,[(i(!0),u(x,null,h(n.value,o=>(i(),u("div",{key:"adv-"+o,class:"flex justify-between items-center border-b pb-2"},[t("span",hn,[g(r(re),{class:"w-4 h-4 text-violet-600"}),b(" "+v(o),1)]),N(t("select",{"onUpdate:modelValue":s=>G.value[o]=s,class:"px-6 py-2 border rounded-md focus:ring-violet-500"},e[64]||(e[64]=[t("option",{value:"monthly"},"Monthly",-1),t("option",{value:"quarterly"},"Quarterly",-1)]),8,yn),[[$,G.value[o]]])]))),128))])):p("",!0)]),t("div",wn,[t("button",{onClick:xt,class:"px-4 py-2 rounded-md bg-gray-100 hover:bg-gray-200 text-gray-700 flex items-center gap-2"},[g(r(ie),{class:"w-4 h-4"}),e[65]||(e[65]=b(" Cancel ",-1))]),n.value.length?(i(),u("button",{key:0,onClick:ft,class:"px-4 py-2 rounded-md bg-violet-600 text-white hover:bg-violet-700 flex items-center gap-2"},[g(r(we),{class:"w-4 h-4"}),e[66]||(e[66]=b(" Apply ",-1))])):p("",!0)])])])):p("",!0)]),_:1}),g(ye,{name:"fade"},{default:he(()=>[q.value?(i(),u("div",_n,[t("div",kn,[e[72]||(e[72]=t("div",{class:"flex items-center gap-3 px-8 py-6 bg-gradient-to-r from-violet-600 to-violet-700"},[t("svg",{class:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})]),t("h2",{class:"text-xl font-bold text-white"},"Annual Percentage Increment")],-1)),t("div",Cn,[n.value.length?p("",!0):(i(),u("div",Sn,[g(r(Be),{class:"w-6 h-6 text-yellow-600"}),e[67]||(e[67]=t("span",{class:"text-yellow-800 font-medium"},'Please select both "From Year" and "To Year" to configure annual increments.',-1))])),n.value.length?(i(),u("div",Mn,[e[69]||(e[69]=t("div",{class:"bg-blue-50 border border-blue-200 rounded-lg p-4"},[t("div",{class:"flex items-center gap-2 mb-2"},[t("svg",{class:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]),t("span",{class:"font-medium text-blue-800"},"Instructions")]),t("p",{class:"text-blue-700 text-sm"},' Set the annual percentage increment for each year (excluding the first year). This will be applied to all payroll rows for the specified years. The increment will be displayed in the "Annual Percentage Increment" column in the table. ')],-1)),t("div",Tn,[(i(!0),u(x,null,h(n.value.slice(1),o=>(i(),u("div",{key:"increment-"+o,class:"flex items-center justify-between p-4 border border-gray-200 rounded-lg bg-gray-50"},[t("span",jn,[g(r(re),{class:"w-4 h-4 text-violet-600"}),b(" "+v(o),1)]),t("div",Rn,[N(t("input",{"onUpdate:modelValue":s=>r(Re)[o]=s,type:"number",min:"0",max:"100",step:"0.01",placeholder:"0.00",required:"",onKeypress:e[12]||(e[12]=s=>r(ae)(s)),class:"px-4 py-2 border border-gray-300 rounded-lg focus:border-violet-500 focus:ring-2 focus:ring-violet-200 transition-all bg-white text-right w-24"},null,40,Ln),[[X,r(Re)[o],void 0,{number:!0}]]),e[68]||(e[68]=t("span",{class:"text-gray-600 font-medium"},"%",-1))])]))),128))])])):p("",!0)]),t("div",Dn,[t("button",{onClick:ht,class:"px-4 py-2 rounded-md bg-gray-100 hover:bg-gray-200 text-gray-700 flex items-center gap-2"},[g(r(ie),{class:"w-4 h-4"}),e[70]||(e[70]=b(" Cancel ",-1))]),n.value.length?(i(),u("button",{key:0,onClick:bt,class:"px-4 py-2 rounded-md bg-violet-600 text-white hover:bg-violet-700 flex items-center gap-2"},[g(r(we),{class:"w-4 h-4"}),e[71]||(e[71]=b(" Apply ",-1))])):p("",!0)])])])):p("",!0)]),_:1}),g(ye,{name:"fade"},{default:he(()=>[r(pl)?(i(),u("div",Pn,[t("div",An,[t("div",Nn,[t("div",Vn,[g(r(Ee),{class:"w-7 h-7 text-white"}),e[73]||(e[73]=t("div",null,[t("h2",{class:"text-2xl font-bold text-white"},"Add New Payroll Data"),t("p",{class:"text-violet-100 mt-1 text-sm"},"Enter payroll details for the selected period")],-1))]),t("button",{onClick:e[13]||(e[13]=(...o)=>r(Ce)&&r(Ce)(...o)),class:"text-violet-100 hover:text-white transition-colors p-2 rounded-full hover:bg-violet-600"},[g(r(ie),{class:"w-6 h-6"})])]),t("div",Un,[t("div",En,[t("label",Bn,[g(r(re),{class:"w-4 h-4 text-violet-600"}),e[74]||(e[74]=b(" Year * ",-1))]),N(t("select",{"onUpdate:modelValue":e[14]||(e[14]=o=>r(Se).year=o),required:"",class:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:border-violet-500 focus:ring-2 focus:ring-violet-200 transition-all bg-white text-sm"},[e[75]||(e[75]=t("option",{value:""},"Select Year",-1)),(i(!0),u(x,null,h(L.value,o=>(i(),u("option",{key:o,value:o},v(o),9,Fn))),128))],512),[[$,r(Se).year]])]),t("div",In,[t("div",{class:"flex items-center justify-between mb-4 cursor-pointer",onClick:Mt},[e[77]||(e[77]=t("div",{class:"flex items-center gap-2"},[t("svg",{class:"w-5 h-5 text-violet-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})]),t("h3",{class:"text-lg font-semibold text-violet-800"},"Quick Actions"),t("span",{class:"text-sm text-violet-600"},"Create new items on the fly")],-1)),(i(),u("svg",{class:be(["w-5 h-5 text-violet-600 transition-transform duration-200",ge.value?"rotate-180":""]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},e[76]||(e[76]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)]),2))]),N(t("div",Yn,[t("div",Hn,[e[79]||(e[79]=t("div",{class:"flex items-center gap-2 mb-3"},[t("svg",{class:"w-4 h-4 text-violet-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})]),t("h4",{class:"font-medium text-violet-800"},"Create Department")],-1)),t("div",zn,[N(t("input",{"onUpdate:modelValue":e[15]||(e[15]=o=>ee.value=o),type:"text",placeholder:"Enter department name",class:"flex-1 px-3 py-2 border border-violet-200 rounded-lg focus:border-violet-500 focus:ring-2 focus:ring-violet-200 transition-all text-sm bg-white"},null,512),[[X,ee.value]]),t("button",{onClick:Tt,disabled:!ee.value.trim()||de.value,class:"px-4 py-2 bg-gradient-to-r from-violet-600 to-violet-700 text-white rounded-lg hover:from-violet-700 hover:to-violet-800 transition-all disabled:opacity-50 disabled:cursor-not-allowed text-sm font-medium shadow-sm hover:shadow-md"},[de.value?(i(),u("svg",$n,e[78]||(e[78]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"},null,-1)]))):(i(),u("span",Kn,"Create"))],8,On)])]),t("div",qn,[e[81]||(e[81]=t("div",{class:"flex items-center gap-2 mb-3"},[t("svg",{class:"w-4 h-4 text-violet-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]),t("h4",{class:"font-medium text-violet-800"},"Create Location")],-1)),t("div",Qn,[N(t("input",{"onUpdate:modelValue":e[16]||(e[16]=o=>te.value=o),type:"text",placeholder:"Enter location name",class:"flex-1 px-3 py-2 border border-violet-200 rounded-lg focus:border-violet-500 focus:ring-2 focus:ring-violet-200 transition-all text-sm bg-white"},null,512),[[X,te.value]]),t("button",{onClick:jt,disabled:!te.value.trim()||ce.value,class:"px-4 py-2 bg-gradient-to-r from-violet-600 to-violet-700 text-white rounded-lg hover:from-violet-700 hover:to-violet-800 transition-all disabled:opacity-50 disabled:cursor-not-allowed text-sm font-medium shadow-sm hover:shadow-md"},[ce.value?(i(),u("svg",Jn,e[80]||(e[80]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"},null,-1)]))):(i(),u("span",Xn,"Create"))],8,Wn)])]),t("div",Gn,[e[83]||(e[83]=t("div",{class:"flex items-center gap-2 mb-3"},[t("svg",{class:"w-4 h-4 text-violet-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})]),t("h4",{class:"font-medium text-violet-800"},"Create Designation")],-1)),t("div",Zn,[N(t("input",{"onUpdate:modelValue":e[17]||(e[17]=o=>oe.value=o),type:"text",placeholder:"Enter designation name",class:"flex-1 px-3 py-2 border border-violet-200 rounded-lg focus:border-violet-500 focus:ring-2 focus:ring-violet-200 transition-all text-sm bg-white"},null,512),[[X,oe.value]]),t("button",{onClick:Rt,disabled:!oe.value.trim()||ve.value,class:"px-4 py-2 bg-gradient-to-r from-violet-600 to-violet-700 text-white rounded-lg hover:from-violet-700 hover:to-violet-800 transition-all disabled:opacity-50 disabled:cursor-not-allowed text-sm font-medium shadow-sm hover:shadow-md"},[ve.value?(i(),u("svg",tr,e[82]||(e[82]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"},null,-1)]))):(i(),u("span",or,"Create"))],8,er)])])],512),[[ot,ge.value]])]),t("div",lr,[(i(!0),u(x,null,h(r(Se).rows,(o,s)=>(i(),u("div",{key:"payroll-row-"+s,class:"bg-white hover:border-violet-200 rounded-lg p-6 hover:shadow-md border-2 transition-all"},[t("div",ar,[t("h4",sr,"Payroll Entry "+v(s+1),1),t("button",{onClick:a=>r(fl)(s),disabled:r(Se).rows.length===1,class:"p-2 text-red-500 hover:text-red-700 hover:bg-red-50 rounded-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed",title:"Remove entry"},[g(r(Dl),{class:"w-5 h-5"})],8,nr)]),t("div",rr,[t("div",null,[e[85]||(e[85]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Department * ",-1)),N(t("select",{"onUpdate:modelValue":a=>o.department=a,class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:border-violet-500 focus:ring-2 focus:ring-violet-200 transition-all bg-white"},[e[84]||(e[84]=t("option",{disabled:"",value:""},"Select Department",-1)),(i(!0),u(x,null,h(Q.value,a=>(i(),u("option",{key:"proj-dept-"+a,value:a},v(a),9,ur))),128))],8,ir),[[$,o.department]])]),t("div",null,[e[87]||(e[87]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Department Location * ",-1)),N(t("select",{"onUpdate:modelValue":a=>o.departmentLocation=a,class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:border-violet-500 focus:ring-2 focus:ring-violet-200 transition-all bg-white"},[e[86]||(e[86]=t("option",{disabled:"",value:""},"Select Location",-1)),(i(!0),u(x,null,h(r(xl),a=>(i(),u("option",{key:a.value,value:a.value},v(a.label),9,cr))),128))],8,dr),[[$,o.departmentLocation]])]),t("div",null,[e[89]||(e[89]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Position * ",-1)),N(t("select",{"onUpdate:modelValue":a=>o.position=a,class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:border-violet-500 focus:ring-2 focus:ring-violet-200 transition-all bg-white"},e[88]||(e[88]=[t("option",{disabled:"",value:""},"Select Position",-1),t("option",{value:"Manager"},"Manager",-1),t("option",{value:"Non-manager"},"Non-manager",-1)]),8,vr),[[$,o.position]])]),t("div",null,[e[91]||(e[91]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Designation * ",-1)),N(t("select",{"onUpdate:modelValue":a=>o.designation=a,class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:border-violet-500 focus:ring-2 focus:ring-violet-200 transition-all bg-white"},[e[90]||(e[90]=t("option",{disabled:"",value:""},"Select Designation",-1)),(i(!0),u(x,null,h(r(bl),a=>(i(),u("option",{key:a.value,value:a.value},v(a.label),9,mr))),128))],8,gr),[[$,o.designation]])]),t("div",null,[e[92]||(e[92]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Salary * ",-1)),t("div",pr,[N(t("input",{"onUpdate:modelValue":a=>o.salary=a,type:"text",placeholder:"0.00",onKeypress:e[18]||(e[18]=a=>r(ae)(a)),onInput:a=>kt(a,o),onFocus:a=>Ct(a,o),onBlur:a=>St(a,o),class:"w-full pl-8 pr-4 py-3 border border-gray-300 rounded-lg focus:border-violet-500 focus:ring-2 focus:ring-violet-200 transition-all bg-white"},null,40,fr),[[X,o.salary]])])]),t("div",null,[e[93]||(e[93]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Count * ",-1)),N(t("input",{"onUpdate:modelValue":a=>o.count=a,type:"number",min:"0",placeholder:"0",onKeypress:e[19]||(e[19]=a=>r(ae)(a)),class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:border-violet-500 focus:ring-2 focus:ring-violet-200 transition-all bg-white"},null,40,xr),[[X,o.count,void 0,{number:!0}]])])])]))),128))]),r(nt)?(i(),u("div",br,[e[94]||(e[94]=t("svg",{class:"w-5 h-5 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})],-1)),t("span",hr,v(r(nt)),1)])):p("",!0)]),t("div",yr,[t("button",{onClick:e[20]||(e[20]=(...o)=>r(rt)&&r(rt)(...o)),class:"flex items-center gap-2 px-4 py-2 bg-violet-500 text-white rounded-lg hover:bg-violet-600 transition-all font-medium"},[g(r(Ye),{class:"w-5 h-5"}),e[95]||(e[95]=b(" Add Row ",-1))]),t("div",wr,[t("button",{onClick:e[21]||(e[21]=(...o)=>r(Ce)&&r(Ce)(...o)),class:"px-6 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-all font-medium flex items-center gap-2"},[g(r(ie),{class:"w-5 h-5"}),e[96]||(e[96]=b(" Cancel ",-1))]),t("button",{onClick:yt,disabled:r(Fe),class:"px-6 py-2 bg-black text-white rounded-lg hover:bg-gray-800 transition-all font-medium flex items-center gap-2 disabled:opacity-60 disabled:cursor-not-allowed"},[r(Fe)?(i(),u("svg",kr,e[97]||(e[97]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"},null,-1)]))):(i(),le(r(we),{key:1,class:"w-5 h-5"})),b(" "+v(r(Fe)?"Submitting...":"Submit"),1)],8,_r)])])])])):p("",!0)]),_:1}),g(Eo,{"is-visible":Te.value,onClose:po},null,8,["is-visible"])],64))}},Xr=ko(Cr,[["__scopeId","data-v-370699fc"]]);export{Xr as default};
