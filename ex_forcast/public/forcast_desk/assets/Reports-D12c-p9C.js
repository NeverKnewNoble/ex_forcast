var mt=Object.defineProperty;var He=Object.getOwnPropertySymbols;var ft=Object.prototype.hasOwnProperty,gt=Object.prototype.propertyIsEnumerable;var We=(h,p,$)=>p in h?mt(h,p,{enumerable:!0,configurable:!0,writable:!0,value:$}):h[p]=$,Pe=(h,p)=>{for(var $ in p||(p={}))ft.call(p,$)&&We(h,$,p[$]);if(He)for(var $ of He(p))gt.call(p,$)&&We(h,$,p[$]);return h};var de=(h,p,$)=>new Promise((O,g)=>{var m=T=>{try{F($.next(T))}catch(f){g(f)}},y=T=>{try{F($.throw(T))}catch(f){g(f)}},F=T=>T.done?O(T.value):Promise.resolve(T.value).then(m,y);F(($=$.apply(h,p)).next())});import{_ as Ne,o as s,c as r,b as t,e as R,u as Y,J as tt,l as L,q as X,p as pe,m as ot,h as M,v as u,F as a,x as b,j as Ye,d as j,i as C,n as xt,I as vt,K as ht,w as Ke,T as Qe,B as ce,L as yt,N as Se,M as Ze}from"./index-BbtVxGeo.js";import{u as st,C as _t,a as kt}from"./yearSettingsStore-CilQFo7d.js";import{f as wt,C as rt,i as Be,c as be,d as Rt,_ as St,j as Yt,R as Xe,D as At,S as Et,T as $t,X as Ct,a as Mt}from"./SettingsModal-1hy0bolw.js";import{E as Tt,N as jt}from"./ErrorState-JqQOeire.js";import{F as Le,U as Dt}from"./utensils-CXqrrkqZ.js";import{B as Ot}from"./building-BVEDDje1.js";import{H as Ft}from"./heart-CN55qkpY.js";import{T as Vt}from"./trending-up-BWXrzvvY.js";import{c as Je}from"./createLucideIcon-BMj80q4R.js";import{D as Pt}from"./dollar-sign-DU88eOpt.js";import{u as nt}from"./useCalculationCache-D_UHbahk.js";import{b as Bt,i as et,a as Lt}from"./advanced_settings-CxjuzcaQ.js";import{c as Nt,l as Jt}from"./data_service-BaNe30yv.js";import"./payroll_data_service-BzVD1VR-.js";import{P as Ut}from"./plus-x10FG7MU.js";import"./zap-CUuR70sR.js";/**
 * @license lucide-vue-next v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const It=Je("printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);/**
 * @license lucide-vue-next v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gt=Je("scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-vue-next v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zt=Je("wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]),qt={class:"bg-white/90 rounded-xl p-6 border border-violet-100 shadow-sm"},Ht={class:"text-center mb-6"},Wt={class:"w-16 h-16 bg-gradient-to-r from-violet-500 to-purple-600 rounded-full flex items-center justify-center mx-auto mb-4"},Kt={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},Qt={class:"flex items-center gap-3 mb-3"},Zt={class:"w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center group-hover:scale-110 transition-transform"},Xt={class:"flex items-center gap-3 mb-3"},eo={class:"w-10 h-10 bg-green-500 rounded-lg flex items-center justify-center group-hover:scale-110 transition-transform"},to={class:"flex items-center gap-3 mb-3"},oo={class:"w-10 h-10 bg-purple-500 rounded-lg flex items-center justify-center group-hover:scale-110 transition-transform"},so={class:"flex items-center gap-3 mb-3"},ro={class:"w-10 h-10 bg-orange-500 rounded-lg flex items-center justify-center group-hover:scale-110 transition-transform"},no={class:"flex items-center gap-3 mb-3"},lo={class:"w-10 h-10 bg-yellow-500 rounded-lg flex items-center justify-center group-hover:scale-110 transition-transform"},ao={class:"flex items-center gap-3 mb-3"},io={class:"w-10 h-10 bg-teal-500 rounded-lg flex items-center justify-center group-hover:scale-110 transition-transform"},uo={class:"flex items-center gap-3 mb-3"},co={class:"w-10 h-10 bg-red-500 rounded-lg flex items-center justify-center group-hover:scale-110 transition-transform"},bo={__name:"ReportSelector",emits:["report-selected"],setup(h,{emit:p}){const $=p,O=g=>{$("report-selected",g)};return(g,m)=>(s(),r("div",qt,[t("div",Ht,[t("div",Wt,[R(Y(Le),{class:"w-8 h-8 text-white"})]),m[7]||(m[7]=t("h3",{class:"text-xl font-bold text-gray-800 mb-2"},"Select a Report",-1)),m[8]||(m[8]=t("p",{class:"text-gray-600"},"Choose the financial report you'd like to view and analyze",-1))]),t("div",Kt,[t("div",{onClick:m[0]||(m[0]=y=>O("room-pnl")),class:"group cursor-pointer bg-gradient-to-br from-blue-50 to-blue-100 border-2 border-blue-200 rounded-xl p-4 hover:border-blue-400 hover:shadow-lg transition-all duration-300 hover:scale-105"},[t("div",Qt,[t("div",Zt,[R(Y(Ot),{class:"w-5 h-5 text-white"})]),m[9]||(m[9]=t("div",null,[t("h4",{class:"font-semibold text-blue-800"},"Room Profit & Loss"),t("p",{class:"text-xs text-blue-600"},"Room department financials")],-1))]),m[10]||(m[10]=t("p",{class:"text-sm text-blue-700"},"Analyze room revenue, expenses, and profitability by month and year.",-1))]),t("div",{onClick:m[1]||(m[1]=y=>O("fnb-pnl")),class:"group cursor-pointer bg-gradient-to-br from-green-50 to-green-100 border-2 border-green-200 rounded-xl p-4 hover:border-green-400 hover:shadow-lg transition-all duration-300 hover:scale-105"},[t("div",Xt,[t("div",eo,[R(Y(Dt),{class:"w-5 h-5 text-white"})]),m[11]||(m[11]=t("div",null,[t("h4",{class:"font-semibold text-green-800"},"Food & Beverage P&L"),t("p",{class:"text-xs text-green-600"},"Restaurant & bar financials")],-1))]),m[12]||(m[12]=t("p",{class:"text-sm text-green-700"},"Review F&B revenue, costs, and profit margins across all outlets.",-1))]),t("div",{onClick:m[2]||(m[2]=y=>O("ood-pnl")),class:"group cursor-pointer bg-gradient-to-br from-purple-50 to-purple-100 border-2 border-purple-200 rounded-xl p-4 hover:border-purple-400 hover:shadow-lg transition-all duration-300 hover:scale-105"},[t("div",to,[t("div",oo,[R(Y(Ft),{class:"w-5 h-5 text-white"})]),m[13]||(m[13]=t("div",null,[t("h4",{class:"font-semibold text-purple-800"},"Other Operating Departments"),t("p",{class:"text-xs text-purple-600"},"Spa, gym, pool, etc.")],-1))]),m[14]||(m[14]=t("p",{class:"text-sm text-purple-700"},"Examine performance of spa, health club, and recreational facilities.",-1))]),t("div",{onClick:m[3]||(m[3]=y=>O("pl-statement")),class:"group cursor-pointer bg-gradient-to-br from-orange-50 to-orange-100 border-2 border-orange-200 rounded-xl p-4 hover:border-orange-400 hover:shadow-lg transition-all duration-300 hover:scale-105"},[t("div",so,[t("div",ro,[R(Y(Vt),{class:"w-5 h-5 text-white"})]),m[15]||(m[15]=t("div",null,[t("h4",{class:"font-semibold text-orange-800"},"Profit & Loss Statement"),t("p",{class:"text-xs text-orange-600"},"Consolidated hotel P&L")],-1))]),m[16]||(m[16]=t("p",{class:"text-sm text-orange-700"},"Complete hotel financial performance overview with all departments.",-1))]),t("div",{onClick:m[4]||(m[4]=y=>O("balance-sheet")),class:"group cursor-pointer bg-gradient-to-br from-yellow-50 to-yellow-100 border-2 border-yellow-200 rounded-xl p-4 hover:border-yellow-400 hover:shadow-lg transition-all duration-300 hover:scale-105"},[t("div",no,[t("div",lo,[R(Y(Gt),{class:"w-5 h-5 text-white"})]),m[17]||(m[17]=t("div",null,[t("h4",{class:"font-semibold text-yellow-800"},"Balance Sheet"),t("p",{class:"text-xs text-yellow-600"},"Assets, liabilities & equity")],-1))]),m[18]||(m[18]=t("p",{class:"text-sm text-yellow-700"},"View hotel's financial position, assets, liabilities, and equity.",-1))]),t("div",{onClick:m[5]||(m[5]=y=>O("cashflow")),class:"group cursor-pointer bg-gradient-to-br from-teal-50 to-teal-100 border-2 border-teal-200 rounded-xl p-4 hover:border-teal-400 hover:shadow-lg transition-all duration-300 hover:scale-105"},[t("div",ao,[t("div",io,[R(Y(Pt),{class:"w-5 h-5 text-white"})]),m[19]||(m[19]=t("div",null,[t("h4",{class:"font-semibold text-teal-800"},"Cashflow"),t("p",{class:"text-xs text-teal-600"},"Cash movement analysis")],-1))]),m[20]||(m[20]=t("p",{class:"text-sm text-teal-700"},"Track cash inflows and outflows for operational and investment activities.",-1))]),t("div",{onClick:m[6]||(m[6]=y=>O("capex-schedule")),class:"group cursor-pointer bg-gradient-to-br from-red-50 to-red-100 border-2 border-red-200 rounded-xl p-4 hover:border-red-400 hover:shadow-lg transition-all duration-300 hover:scale-105"},[t("div",uo,[t("div",co,[R(Y(zt),{class:"w-5 h-5 text-white"})]),m[21]||(m[21]=t("div",null,[t("h4",{class:"font-semibold text-rose-800"},"Capex Schedule"),t("p",{class:"text-xs text-rose-600"},"Capital expenditure planning")],-1))]),m[22]||(m[22]=t("p",{class:"text-sm text-rose-700"},"Plan and track capital expenditures for property improvements and equipment.",-1))])])]))}},po=Ne(bo,[["__scopeId","data-v-c7e43cfb"]]),mo={class:"bg-white rounded-lg border border-blue-200 shadow-sm overflow-hidden"},fo={class:"overflow-x-auto"},go={class:"min-w-full w-max"},xo={class:"w-full"},vo={class:"bg-gradient-to-r from-blue-600 to-blue-700 text-white"},ho={class:"bg-gradient-to-r from-blue-600 via-blue-700 to-blue-800 text-white"},yo=["colspan"],_o={class:"flex items-center justify-center gap-3"},ko={class:"text-3xl font-bold tracking-tight"},wo={class:"bg-gradient-to-r from-blue-500 via-blue-600 to-blue-700 text-white"},Ro=["colspan"],So=["colspan","onClick"],Yo={class:"flex items-center justify-center gap-1"},Ao={class:"font-semibold"},Eo={class:"bg-blue-500/90 text-xs"},$o={class:"px-2 py-1 text-center border border-blue-300 min-w-[110px] font-semibold"},Co={class:"flex items-center justify-center gap-1"},Mo={key:1,class:"px-2 py-1 text-center border border-blue-300 min-w-[110px] font-semibold"},To={class:"flex items-center justify-center gap-1"},jo={class:"text-gray-700 bg-white text-sm"},Do={class:"bg-gradient-to-r from-blue-100 to-blue-200 border-b-2 border-blue-400"},Oo={key:1,class:"px-1 py-1 text-center border border-blue-300 bg-blue-200"},Fo={key:0,class:"bg-blue-50 border-b border-blue-200"},Vo={class:"font-mono text-xs"},Po={class:"px-2 py-1 text-right border border-blue-200 font-semibold bg-blue-100"},Bo={class:"font-mono text-xs text-blue-700"},Lo={key:1,class:"px-2 py-1 text-right border border-blue-200 font-semibold bg-blue-100"},No={class:"font-mono text-xs text-blue-700"},Jo={key:1,class:"bg-blue-50 border-b border-blue-200"},Uo={class:"font-mono text-xs"},Io={class:"px-2 py-1 text-right border border-blue-200 font-semibold bg-blue-100"},Go={class:"font-mono text-xs text-blue-700"},zo={key:1,class:"px-2 py-1 text-right border border-blue-200 font-semibold bg-blue-100"},qo={class:"font-mono text-xs text-blue-700"},Ho={key:2,class:"bg-blue-50 border-b border-blue-200"},Wo={class:"font-mono text-xs"},Ko={class:"px-2 py-1 text-right border border-blue-200 font-semibold bg-blue-100"},Qo={class:"font-mono text-xs text-blue-700"},Zo={key:1,class:"px-2 py-1 text-right border border-blue-200 font-semibold bg-blue-100"},Xo={class:"font-mono text-xs text-blue-700"},es={key:3,class:"bg-blue-50 border-b border-blue-200"},ts={class:"font-mono text-xs"},os={class:"px-2 py-1 text-right border border-blue-200 font-semibold bg-blue-100"},ss={class:"font-mono text-xs text-blue-700"},rs={key:1,class:"px-2 py-1 text-right border border-blue-200 font-semibold bg-blue-100"},ns={class:"font-mono text-xs text-blue-700"},ls={key:4,class:"bg-blue-50 border-b border-blue-200"},as={class:"font-mono text-xs"},is={class:"px-2 py-1 text-right border border-blue-200 font-semibold bg-blue-100"},us={class:"font-mono text-xs text-blue-700"},ds={key:1,class:"px-2 py-1 text-right border border-blue-200 font-semibold bg-blue-100"},cs={class:"font-mono text-xs text-blue-700"},bs={key:5,class:"bg-blue-50 border-b border-blue-200"},ps={class:"font-mono text-xs"},ms={class:"px-2 py-1 text-right border border-blue-200 font-semibold bg-blue-100"},fs={class:"font-mono text-xs text-blue-700"},gs={key:1,class:"px-2 py-1 text-right border border-blue-200 font-semibold bg-blue-100"},xs={class:"font-mono text-xs text-blue-700"},vs={key:6,class:"bg-blue-50 border-b border-blue-200"},hs={class:"font-mono text-xs"},ys={class:"px-2 py-1 text-right border border-blue-200 font-semibold bg-blue-100"},_s={class:"font-mono text-xs text-blue-700"},ks={key:1,class:"px-2 py-1 text-right border border-blue-200 font-semibold bg-blue-100"},ws={class:"font-mono text-xs text-blue-700"},Rs={key:7,class:"bg-blue-50 border-b border-blue-200"},Ss={class:"font-mono text-xs"},Ys={class:"px-2 py-1 text-right border border-blue-200 font-semibold bg-blue-100"},As={class:"font-mono text-xs text-blue-700"},Es={key:1,class:"px-2 py-1 text-right border border-blue-200 font-semibold bg-blue-100"},$s={class:"font-mono text-xs text-blue-700"},Cs={key:8,class:"bg-blue-50 border-b border-blue-200"},Ms={class:"font-mono text-xs"},Ts={class:"px-2 py-1 text-right border border-blue-200 font-semibold bg-blue-100"},js={class:"font-mono text-xs text-blue-700"},Ds={key:1,class:"px-2 py-1 text-right border border-blue-200 font-semibold bg-blue-100"},Os={class:"font-mono text-xs text-blue-700"},Fs={key:9,class:"bg-blue-50 border-b border-blue-200"},Vs={class:"font-mono text-xs"},Ps={class:"px-2 py-1 text-right border border-blue-200 font-semibold bg-blue-100"},Bs={class:"font-mono text-xs text-blue-700"},Ls={key:1,class:"px-2 py-1 text-right border border-blue-200 font-semibold bg-blue-100"},Ns={class:"font-mono text-xs text-blue-700"},Js={class:"bg-gradient-to-r from-blue-100 to-blue-200 border-b-2 border-blue-400"},Us={key:1,class:"px-1 py-1 text-center border border-blue-300 bg-blue-200"},Is={key:0,class:"bg-blue-50 border-b border-blue-200"},Gs={class:"px-3 py-2 font-medium border-r border-blue-200"},zs={class:"flex items-center gap-1"},qs={class:"font-mono text-xs"},Hs={class:"px-2 py-1 text-right border border-blue-200 font-semibold bg-blue-100"},Ws={class:"font-mono text-xs text-blue-700"},Ks={key:1,class:"px-2 py-1 text-right border border-blue-200 font-semibold bg-blue-100"},Qs={class:"font-mono text-xs text-blue-700"},Zs={class:"bg-blue-100 border-b-2 border-blue-300"},Xs={class:"font-mono text-xs text-blue-800"},er={class:"px-2 py-1 text-right border border-blue-300 font-bold bg-blue-300"},tr={class:"font-mono text-xs text-blue-900"},or={key:1,class:"px-2 py-1 text-right border border-blue-300 font-bold bg-blue-300"},sr={class:"font-mono text-xs text-blue-900"},rr={key:0,class:"bg-blue-50 border-b border-blue-200"},nr={class:"px-3 py-2 font-medium border-r border-blue-200"},lr={class:"flex items-center gap-1"},ar={class:"font-mono text-xs"},ir={class:"px-2 py-1 text-right border border-blue-200 font-semibold bg-blue-100"},ur={class:"font-mono text-xs text-blue-700"},dr={key:1,class:"px-2 py-1 text-right border border-blue-200 font-semibold bg-blue-100"},cr={class:"font-mono text-xs text-blue-700"},br={class:"bg-blue-100 border-b-2 border-blue-300"},pr={class:"font-mono text-xs text-blue-800"},mr={class:"px-2 py-1 text-right border border-blue-300 font-bold bg-blue-300"},fr={class:"font-mono text-xs text-blue-900"},gr={key:1,class:"px-2 py-1 text-right border border-blue-300 font-bold bg-blue-300"},xr={class:"font-mono text-xs text-blue-900"},vr={class:"bg-gradient-to-r from-blue-100 to-blue-200 border-b-2 border-blue-400"},hr={key:1,class:"px-1 py-1 text-center border border-blue-300 bg-blue-200"},yr={class:"bg-blue-50 border-b border-blue-200"},_r={key:1,class:"px-2 py-1 text-center border border-blue-200 bg-blue-100"},kr={key:0,class:"bg-white border-b border-blue-200"},wr={class:"px-3 py-2 border-r border-blue-200"},Rr={class:"flex items-center gap-1"},Sr={class:"font-mono text-xs"},Yr={class:"px-2 py-1 text-right border border-blue-200 font-semibold bg-blue-50"},Ar={class:"font-mono text-xs text-blue-700"},Er={key:1,class:"px-2 py-1 text-right border border-blue-200 font-semibold bg-blue-50"},$r={class:"font-mono text-xs text-blue-700"},Cr={class:"bg-blue-100 border-b-2 border-blue-300"},Mr={class:"font-mono text-xs text-blue-800"},Tr={class:"px-2 py-1 text-right border border-blue-300 font-bold bg-blue-300"},jr={class:"font-mono text-xs text-blue-900"},Dr={key:1,class:"px-2 py-1 text-right border border-blue-300 font-bold bg-blue-300"},Or={class:"font-mono text-xs text-blue-900"},Fr={class:"bg-blue-50 border-b border-blue-200"},Vr={key:1,class:"px-2 py-1 text-center border border-blue-200 bg-blue-100"},Pr={key:12,class:"bg-blue-50 border-b border-blue-200"},Br={key:1,class:"px-2 py-1 text-center border border-blue-200 bg-blue-100"},Lr={class:"px-3 py-2 border-r border-blue-200"},Nr={class:"flex items-center gap-1"},Jr={class:"font-mono text-xs"},Ur={class:"px-2 py-1 text-right border border-blue-200 font-semibold bg-blue-50"},Ir={class:"font-mono text-xs text-blue-700"},Gr={key:1,class:"px-2 py-1 text-right border border-blue-200 font-semibold bg-blue-50"},zr={class:"font-mono text-xs text-blue-700"},qr={key:13,class:"bg-blue-50 border-b border-blue-200"},Hr={key:1,class:"px-2 py-1 text-center border border-blue-200 bg-blue-100"},Wr={class:"px-3 py-2 border-r border-blue-200"},Kr={class:"flex items-center gap-1"},Qr={class:"font-mono text-xs"},Zr={class:"px-2 py-1 text-right border border-blue-200 font-semibold bg-blue-50"},Xr={class:"font-mono text-xs text-blue-700"},en={key:1,class:"px-2 py-1 text-right border border-blue-200 font-semibold bg-blue-50"},tn={class:"font-mono text-xs text-blue-700"},on={__name:"RoomProfitLoss",props:{visibleYears:{type:Array,required:!0}},setup(h){const p=h,$=st(),{advancedModes:O}=tt($),g=nt();function m(){try{return localStorage.getItem("marketSegmentation")==="true"}catch(l){return!1}}const y=L(()=>{var o;return((o=X.value)==null?void 0:o.project_name)||"Project Name"});pe(X,()=>{N()},{deep:!0}),ot(()=>{if(y.value&&y.value!=="Project Name"){const l=["Number of rooms available","Number of rooms sold (excl.)","Occupancy (excl.) %","Number of guests","Total Covers","Average Spent Per F&B Customer","Average Room Rate","Revenue Per Available Room"];l.forEach(e=>{g.getValue(y.value,"F&B Revenue Assumptions",e,2025,"Jan")}),l.some(e=>{const n=g.getValue(y.value,"F&B Revenue Assumptions",e,2025,"Jan");return n!=null})||(console.warn("Room P&L: To get accurate data, please visit the F&B Revenue page first to populate the cache."),setTimeout(()=>{l.forEach(e=>{g.getValue(y.value,"F&B Revenue Assumptions",e,2025,"Jan")})},3e3))}N()});const F=M({}),T=L(()=>{try{const l=new Set,o=F.value||{};for(const[e,n]of Object.entries(o))for(const[i,x]of Object.entries(n))(x||[]).forEach(S=>{const w=(S.department||"").toLowerCase();if(w==="room"||w==="rooms"){const W=S.expense;W&&l.add(W)}});return Array.from(l)}catch(l){return[]}});function f(l){const o=Number(l);return isNaN(o)?0:o}function N(){return de(this,null,function*(){try{const l=yield Nt();l&&!l.status?F.value=l:F.value={}}catch(l){F.value={}}})}function _(l){return f(l).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}function E(l){return f(l).toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:0})}function z(l){return f(l).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}function ee(l){$.toggleCollapse(l)}function k(l){return $.isYearCollapsed(l)}function d(l){const o=O.value[l]||"monthly";return o==="monthly"?["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]:o==="quarterly"?["Jan-Mar","Apr-Jun","Jul-Sep","Oct-Dec"]:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}function P(l,o,e){var n,i;try{const x=_e(o);let S=0;for(const w of x){const we=(((i=(n=F.value)==null?void 0:n[l])==null?void 0:i[w])||[]).filter(K=>{const Q=(K.department||"").toLowerCase();return(Q==="room"||Q==="rooms")&&K.expense===e});S+=we.reduce((K,Q)=>K+f(Q.amount),0)}return S}catch(x){return 0}}function Ae(l,o){try{return d(l).reduce((n,i)=>n+f(P(l,i,o)),0)}catch(e){return 0}}function Ue(l){if(!p.visibleYears||p.visibleYears.length===0)return!1;for(const o of p.visibleYears){const e=d(o);for(const n of e)if(P(o,n,l)>0)return!0}return!1}function me(l,o){try{let e=0;for(const n of T.value)e+=f(P(l,o,n));return e}catch(e){return 0}}function fe(l){try{return d(l).reduce((e,n)=>e+f(me(l,n)),0)}catch(o){return 0}}function q(l,o){try{const e=localStorage.getItem("marketSegmentation")==="true",n=g.getValue(y.value,"Room Revenue Assumptions","Total Rooms",l,o);return n!=null?f(n):100}catch(e){return console.error("Error fetching room count:",e),100}}function D(l){try{const o=d(l);let e=0;for(const n of o){const i=q(l,n);e+=f(i)}return e}catch(o){return console.error("Error calculating total rooms:",o),0}}function J(l,o){return o==="Jan"||o==="Mar"||o==="May"||o==="Jul"||o==="Aug"||o==="Oct"||o==="Dec"?31:o==="Apr"||o==="Jun"||o==="Sep"||o==="Nov"?30:o==="Feb"?28:o==="Jan-Mar"?90:o==="Apr-Jun"?91:o==="Jul-Sep"||o==="Oct-Dec"?92:30}function ge(l){return d(l).reduce((e,n)=>e+f(J(l,n)),0)}function V(l,o){try{let e=g.getValue(y.value,"F&B Revenue Assumptions","Number of rooms available",l,o);if(e!=null)return f(e);if(localStorage.getItem("marketSegmentation")==="true"){const w=g.getValue(y.value,"Room Revenue Assumptions","Total Rooms",l,o);if(w!=null){const W=J(l,o);return f(w)*W}}const i=q(l,o),x=J(l,o);return i*x}catch(e){console.error("Error fetching available rooms:",e);const n=q(l,o),i=J(l,o);return n*i}}function xe(l){return d(l).reduce((e,n)=>e+f(V(l,n)),0)}function U(l,o){try{const e=g.getValue(y.value,"F&B Revenue Assumptions","Number of rooms sold (excl.)",l,o);if(e!=null)return f(e);const n=g.getValue(y.value,"F&B Revenue Assumptions","Occupancy (excl.) %",l,o);if(n!=null){const S=V(l,o);return Math.round(f(n)/100*S)}const i=V(l,o);return Math.round(i*.75)}catch(e){return console.error("Error fetching sold rooms:",e),0}}function ve(l){return d(l).reduce((e,n)=>e+f(U(l,n)),0)}function Z(l,o){try{const e=g.getValue(y.value,"F&B Revenue Assumptions","Occupancy (excl.) %",l,o);if(e!=null)return f(e);const n=U(l,o),i=V(l,o);return i>0?Number((n/i*100).toFixed(2)):0}catch(e){return console.error("Error fetching occupancy percentage:",e),0}}function he(l){const o=d(l),e=o.reduce((i,x)=>i+f(U(l,x)),0),n=o.reduce((i,x)=>i+f(V(l,x)),0);return n>0?Number((e/n*100).toFixed(2)):0}function te(l,o){try{const e=g.getValue(y.value,"F&B Revenue Assumptions","Number of guests",l,o);return e!=null?f(e):0}catch(e){return console.error("Error fetching number of guests:",e),0}}function oe(l){return d(l).reduce((e,n)=>e+f(te(l,n)),0)}function se(l,o){try{const e=g.getValue(y.value,"F&B Revenue Assumptions","Total Covers",l,o);return e!=null?f(e):0}catch(e){return console.error("Error fetching number of covers:",e),0}}function ye(l){return d(l).reduce((e,n)=>e+f(se(l,n)),0)}function re(l,o){try{const e=g.getValue(y.value,"F&B Revenue Assumptions","Average Spent Per F&B Customer",l,o);return e!=null?f(e):0}catch(e){return console.error("Error fetching average F&B spent:",e),0}}function ne(l){const o=d(l),e=o.reduce((n,i)=>n+f(re(l,i)),0);return e>0?e/o.length:0}function v(l,o){try{const e=g.getValue(y.value,"F&B Revenue Assumptions","Average Room Rate",l,o);return e!=null?f(e):0}catch(e){return console.error("Error fetching average room rate:",e),0}}function c(l){const o=d(l),e=o.reduce((n,i)=>n+f(v(l,i)),0);return e>0?e/o.length:0}function A(l,o){try{const e=g.getValue(y.value,"F&B Revenue Assumptions","Revenue Per Available Room",l,o);if(e!=null)return f(e);const n=U(l,o),i=v(l,o),x=V(l,o);return x>0?n*i/x:0}catch(e){return console.error("Error fetching revenue per available room:",e),0}}function B(l){const o=d(l),e=o.reduce((n,i)=>n+f(A(l,i)),0);return e>0?e/o.length:0}function I(){if(!p.visibleYears||p.visibleYears.length===0)return!1;for(const l of p.visibleYears){const o=d(l);for(const e of o)if(q(l,e)>0)return!0}return!1}function H(){if(!p.visibleYears||p.visibleYears.length===0)return!1;for(const l of p.visibleYears){const o=d(l);for(const e of o)if(J(l,e)>0)return!0}return!1}function le(){if(!p.visibleYears||p.visibleYears.length===0)return!1;for(const l of p.visibleYears){const o=d(l);for(const e of o)if(V(l,e)>0)return!0}return!1}function G(){if(!p.visibleYears||p.visibleYears.length===0)return!1;for(const l of p.visibleYears){const o=d(l);for(const e of o)if(U(l,e)>0)return!0}return!1}function Ee(){if(!p.visibleYears||p.visibleYears.length===0)return!1;for(const l of p.visibleYears){const o=d(l);for(const e of o)if(Z(l,e)>0)return!0}return!1}function lt(){if(!p.visibleYears||p.visibleYears.length===0)return!1;for(const l of p.visibleYears){const o=d(l);for(const e of o)if(te(l,e)>0)return!0}return!1}function at(){if(!p.visibleYears||p.visibleYears.length===0)return!1;for(const l of p.visibleYears){const o=d(l);for(const e of o)if(se(l,e)>0)return!0}return!1}function it(){if(!p.visibleYears||p.visibleYears.length===0)return!1;for(const l of p.visibleYears){const o=d(l);for(const e of o)if(re(l,e)>0)return!0}return!1}function ut(){if(!p.visibleYears||p.visibleYears.length===0)return!1;for(const l of p.visibleYears){const o=d(l);for(const e of o)if(v(l,e)>0)return!0}return!1}function dt(){if(!p.visibleYears||p.visibleYears.length===0)return!1;for(const l of p.visibleYears){const o=d(l);for(const e of o)if(A(l,e)>0)return!0}return!1}function _e(l){return l==="Jan-Mar"?["Jan","Feb","Mar"]:l==="Apr-Jun"?["Apr","May","Jun"]:l==="Jul-Sep"?["Jul","Aug","Sep"]:l==="Oct-Dec"?["Oct","Nov","Dec"]:[l]}function $e(l){try{if(!l||!l.startsWith("MonthlySalary|"))return null;const o=/^MonthlySalary\|position:(.*?)\|location:(.*?)\|designation:(.*)$/,e=l.match(o);return e?{position:(e[1]||"").trim(),location:(e[2]||"").trim(),designation:(e[3]||"").trim()}:null}catch(o){return null}}function Ce(l){if(!l)return!1;const o=l.toLowerCase();return o.includes("manager")&&!o.includes("non-manager")||o.includes("director")||o.includes("supervisor")}const Ie=L(()=>{var l,o;try{const e=y.value,i=((o=(l=g==null?void 0:g.cache)==null?void 0:l[e])==null?void 0:o["Payroll"])||{},x=new Set;return Object.keys(i).forEach(S=>{const w=$e(S);w&&Ce(w.position)&&w.location&&x.add(w.location)}),Array.from(x)}catch(e){return[]}}),Ge=L(()=>{var l,o;try{const e=y.value,i=((o=(l=g==null?void 0:g.cache)==null?void 0:l[e])==null?void 0:o["Payroll"])||{},x=new Set;return Object.keys(i).forEach(S=>{const w=$e(S);w&&!Ce(w.position)&&w.location&&x.add(w.location)}),Array.from(x)}catch(e){return[]}});function Me(l,o,e,n){var i,x;try{const S=y.value,w="Payroll",W=((x=(i=g==null?void 0:g.cache)==null?void 0:i[S])==null?void 0:x[w])||{},we=_e(o);let K=0;return Object.keys(W).forEach(Q=>{const Re=$e(Q);if(!Re||!Re.location||Re.location!==e)return;const qe=Ce(Re.position);if(!(n==="management"&&!qe||n==="non-management"&&qe))for(const pt of we){const Ve=g.getValue(S,w,Q,l,pt);Ve!=null&&(K+=f(Ve))}}),K}catch(S){return 0}}function ae(l,o,e){try{return d(l).reduce((i,x)=>i+f(Me(l,x,o,e)),0)}catch(n){return 0}}function ze(l){try{const o=l==="management"?Ie.value:Ge.value;if(!o||o.length===0)return!1;for(const e of Array.isArray(p.visibleYears)?p.visibleYears:[])for(const n of o){const i=ae(e,n,l);if(f(i)>0)return!0}return!1}catch(o){return!1}}const Te=L(()=>{var l,o;try{const e=y.value,i=((o=(l=g==null?void 0:g.cache)==null?void 0:l[e])==null?void 0:o["Market Segmentation"])||{},x=new Set;return Object.keys(i).forEach(S=>{if(S.startsWith("Room Revenue:")){const w=S.replace("Room Revenue:","").trim();w&&x.add(w)}}),Array.from(x)}catch(e){return[]}});function ie(l,o,e){try{const n=y.value,i=_e(o);let x=0;for(const S of i){const w=g.getValue(n,"Market Segmentation",`Room Revenue:${e}`,l,S);w!=null&&(x+=f(w))}return x}catch(n){return console.error("Error fetching segment revenue:",e,n),0}}function je(l,o){try{const e=y.value,n=g.getValue(e,"Market Segmentation",`Room Revenue Year:${o}`,l,"ALL");return n!=null?f(n):d(l).reduce((x,S)=>x+f(ie(l,S,o)),0)}catch(e){return d(l).reduce((i,x)=>i+f(ie(l,x,o)),0)}}function ct(l){if(!p.visibleYears||p.visibleYears.length===0)return!1;for(const o of p.visibleYears){const e=d(o);for(const n of e)if(ie(o,n,l)>0)return!0}return!1}const De=L(()=>{var l,o;try{const e=y.value,i=((o=(l=g==null?void 0:g.cache)==null?void 0:l[e])==null?void 0:o["Room Revenue Assumptions"])||{},x=new Set;return Object.keys(i).forEach(S=>{if(S.startsWith("Room Type:")){const w=S.replace("Room Type:","").trim();w&&x.add(w)}}),Array.from(x)}catch(e){return[]}});function ue(l,o,e){try{const n=y.value,i=_e(o);let x=0;for(const S of i){const w=g.getValue(n,"Room Revenue Assumptions",`Room Type:${e}`,l,S);w!=null&&(x+=f(w))}return x}catch(n){return console.error("Error fetching Room Type revenue:",e,n),0}}function Oe(l,o){try{const e=y.value,n=g.getValue(e,"Room Revenue Assumptions",`Room Type Year:${o}`,l,"ALL");return n!=null?f(n):d(l).reduce((x,S)=>x+f(ue(l,S,o)),0)}catch(e){return d(l).reduce((i,x)=>i+f(ue(l,x,o)),0)}}function bt(l){if(!p.visibleYears||p.visibleYears.length===0)return!1;for(const o of p.visibleYears){const e=d(o);for(const n of e)if(ue(o,n,l)>0)return!0}return!1}function Fe(l,o){try{return m()?Te.value.reduce((e,n)=>e+f(ie(l,o,n)),0):De.value.reduce((e,n)=>e+f(ue(l,o,n)),0)}catch(e){return console.error("Error calculating total rooms revenue:",e),0}}function ke(l){if(m()){const n=Te.value.map(i=>je(l,i)).reduce((i,x)=>i+f(x),0);if(n>0)return n}else{const n=De.value.map(i=>Oe(l,i)).reduce((i,x)=>i+f(x),0);if(n>0)return n}return d(l).reduce((e,n)=>e+f(Fe(l,n)),0)}return(l,o)=>(s(),r("div",mo,[t("div",fo,[t("div",go,[t("table",xo,[t("thead",vo,[t("tr",ho,[t("td",{colspan:1+h.visibleYears.reduce((e,n)=>e+(k(n)?1:d(n).length+1),0),class:"px-6 py-4 text-center"},[t("div",_o,[R(Y(wt),{class:"w-6 h-6 text-blue-200"}),t("h1",ko,u(y.value),1)])],8,yo)]),t("tr",wo,[t("td",{colspan:1+h.visibleYears.reduce((e,n)=>e+(k(n)?1:d(n).length+1),0),class:"px-6 py-4 text-center"},o[0]||(o[0]=[t("div",{class:"flex items-center justify-center gap-2"},[t("h2",{class:"text-xl font-semibold tracking-wide"},"Room Profit & Loss Report")],-1)]),8,Ro)]),t("tr",null,[o[1]||(o[1]=t("th",{rowspan:"2",class:"px-3 py-2 text-left align-middle border-r border-blue-400 font-semibold text-sm min-w-[200px]"},[t("div",{class:"flex items-center gap-1"}," Details ")],-1)),(s(!0),r(a,null,b(h.visibleYears,e=>(s(),r("th",{key:"header-"+e,colspan:k(e)?1:d(e).length+1,class:"px-2 py-2 text-center border-x-2 border-white cursor-pointer select-none hover:bg-blue-700 transition-all duration-200 group text-sm",onClick:n=>ee(e),title:"Click to collapse/expand"},[t("div",Yo,[t("span",Ao,u(e),1),k(e)?(s(),Ye(Y(_t),{key:1,class:"w-3 h-3 transition-transform group-hover:scale-110"})):(s(),Ye(Y(rt),{key:0,class:"w-3 h-3 transition-transform group-hover:scale-110"}))])],8,So))),128))]),t("tr",Eo,[(s(!0),r(a,null,b(h.visibleYears,e=>(s(),r(a,{key:"months-"+e},[k(e)?(s(),r("th",Mo,[t("div",To,[R(Y(Be),{class:"w-2 h-2"}),o[3]||(o[3]=j(" Total "))])])):(s(),r(a,{key:0},[(s(!0),r(a,null,b(d(e),n=>(s(),r("th",{key:e+"-"+n,class:"px-2 py-1 text-center border border-blue-300 min-w-[100px] font-medium"},u(n),1))),128)),t("th",$o,[t("div",Co,[R(Y(Be),{class:"w-2 h-2"}),o[2]||(o[2]=j(" Total "))])])],64))],64))),128))])]),t("tbody",jo,[t("tr",Do,[o[5]||(o[5]=t("td",{colspan:"2",class:"px-3 py-3 font-bold text-blue-900 border-r border-blue-300"},[t("div",{class:"flex items-center gap-2"}," Statistics ")],-1)),(s(!0),r(a,null,b(h.visibleYears,e=>(s(),r(a,{key:"stats-divider-"+e},[k(e)?(s(),r("td",Oo)):(s(),r(a,{key:0},[(s(!0),r(a,null,b(d(e),n=>(s(),r("td",{key:"stats-divider-cell-"+e+"-"+n,class:"px-1 py-1 text-center border border-blue-300 bg-blue-200"}))),128)),o[4]||(o[4]=t("td",{class:"px-1 py-1 text-center border border-blue-300 bg-blue-200"},null,-1))],64))],64))),128))]),I()?(s(),r("tr",Fo,[o[6]||(o[6]=t("td",{class:"px-3 py-2 font-medium border-r border-blue-200"},[t("div",{class:"flex items-center gap-1"}," NO OF ROOMS ")],-1)),(s(!0),r(a,null,b(h.visibleYears,e=>(s(),r(a,{key:"no-rooms-"+e},[k(e)?(s(),r("td",Lo,[t("span",No,u(E(D(e))),1)])):(s(),r(a,{key:0},[(s(!0),r(a,null,b(d(e),n=>(s(),r("td",{key:"no-rooms-cell-"+e+"-"+n,class:"px-2 py-1 text-right border border-blue-200 bg-blue-50"},[t("span",Vo,u(E(q(e,n))),1)]))),128)),t("td",Po,[t("span",Bo,u(E(D(e))),1)])],64))],64))),128))])):C("",!0),H()?(s(),r("tr",Jo,[o[7]||(o[7]=t("td",{class:"px-3 py-2 font-medium border-r border-blue-200"},[t("div",{class:"flex items-center gap-1"}," NO OF DAYS ")],-1)),(s(!0),r(a,null,b(h.visibleYears,e=>(s(),r(a,{key:"no-days-"+e},[k(e)?(s(),r("td",zo,[t("span",qo,u(E(ge(e))),1)])):(s(),r(a,{key:0},[(s(!0),r(a,null,b(d(e),n=>(s(),r("td",{key:"no-days-cell-"+e+"-"+n,class:"px-2 py-1 text-right border border-blue-200 bg-blue-50"},[t("span",Uo,u(E(J(e,n))),1)]))),128)),t("td",Io,[t("span",Go,u(E(ge(e))),1)])],64))],64))),128))])):C("",!0),le()?(s(),r("tr",Ho,[o[8]||(o[8]=t("td",{class:"px-3 py-2 font-medium border-r border-blue-200"},[t("div",{class:"flex items-center gap-1"}," AVAILABLE ROOMS ")],-1)),(s(!0),r(a,null,b(h.visibleYears,e=>(s(),r(a,{key:"available-rooms-"+e},[k(e)?(s(),r("td",Zo,[t("span",Xo,u(E(xe(e))),1)])):(s(),r(a,{key:0},[(s(!0),r(a,null,b(d(e),n=>(s(),r("td",{key:"available-rooms-cell-"+e+"-"+n,class:"px-2 py-1 text-right border border-blue-200 bg-blue-50"},[t("span",Wo,u(E(V(e,n))),1)]))),128)),t("td",Ko,[t("span",Qo,u(E(xe(e))),1)])],64))],64))),128))])):C("",!0),G()?(s(),r("tr",es,[o[9]||(o[9]=t("td",{class:"px-3 py-2 font-medium border-r border-blue-200"},[t("div",{class:"flex items-center gap-1"}," SOLD ROOMS (excl. comp) ")],-1)),(s(!0),r(a,null,b(h.visibleYears,e=>(s(),r(a,{key:"sold-rooms-"+e},[k(e)?(s(),r("td",rs,[t("span",ns,u(E(ve(e))),1)])):(s(),r(a,{key:0},[(s(!0),r(a,null,b(d(e),n=>(s(),r("td",{key:"sold-rooms-cell-"+e+"-"+n,class:"px-2 py-1 text-right border border-blue-200 bg-blue-50"},[t("span",ts,u(E(U(e,n))),1)]))),128)),t("td",os,[t("span",ss,u(E(ve(e))),1)])],64))],64))),128))])):C("",!0),Ee()?(s(),r("tr",ls,[o[10]||(o[10]=t("td",{class:"px-3 py-2 font-medium border-r border-blue-200"},[t("div",{class:"flex items-center gap-1"}," ROOM OCCUPANCY % ")],-1)),(s(!0),r(a,null,b(h.visibleYears,e=>(s(),r(a,{key:"occupancy-"+e},[k(e)?(s(),r("td",ds,[t("span",cs,u(z(he(e)))+"%",1)])):(s(),r(a,{key:0},[(s(!0),r(a,null,b(d(e),n=>(s(),r("td",{key:"occupancy-cell-"+e+"-"+n,class:"px-2 py-1 text-right border border-blue-200 bg-blue-50"},[t("span",as,u(z(Z(e,n)))+"%",1)]))),128)),t("td",is,[t("span",us,u(z(he(e)))+"%",1)])],64))],64))),128))])):C("",!0),lt()?(s(),r("tr",bs,[o[11]||(o[11]=t("td",{class:"px-3 py-2 font-medium border-r border-blue-200"},[t("div",{class:"flex items-center gap-1"}," NUMBER OF GUESTS ")],-1)),(s(!0),r(a,null,b(h.visibleYears,e=>(s(),r(a,{key:"guests-"+e},[k(e)?(s(),r("td",gs,[t("span",xs,u(E(oe(e))),1)])):(s(),r(a,{key:0},[(s(!0),r(a,null,b(d(e),n=>(s(),r("td",{key:"guests-cell-"+e+"-"+n,class:"px-2 py-1 text-right border border-blue-200 bg-blue-50"},[t("span",ps,u(E(te(e,n))),1)]))),128)),t("td",ms,[t("span",fs,u(E(oe(e))),1)])],64))],64))),128))])):C("",!0),at()?(s(),r("tr",vs,[o[12]||(o[12]=t("td",{class:"px-3 py-2 font-medium border-r border-blue-200"},[t("div",{class:"flex items-center gap-1"}," NUMBER OF F&B COVERS ")],-1)),(s(!0),r(a,null,b(h.visibleYears,e=>(s(),r(a,{key:"covers-"+e},[k(e)?(s(),r("td",ks,[t("span",ws,u(E(ye(e))),1)])):(s(),r(a,{key:0},[(s(!0),r(a,null,b(d(e),n=>(s(),r("td",{key:"covers-cell-"+e+"-"+n,class:"px-2 py-1 text-right border border-blue-200 bg-blue-50"},[t("span",hs,u(E(se(e,n))),1)]))),128)),t("td",ys,[t("span",_s,u(E(ye(e))),1)])],64))],64))),128))])):C("",!0),it()?(s(),r("tr",Rs,[o[13]||(o[13]=t("td",{class:"px-3 py-2 font-medium border-r border-blue-200"},[t("div",{class:"flex items-center gap-1"}," AVERAGE F&B SPENT PER COVER ")],-1)),(s(!0),r(a,null,b(h.visibleYears,e=>(s(),r(a,{key:"avg-fnb-"+e},[k(e)?(s(),r("td",Es,[t("span",$s,u(_(ne(e))),1)])):(s(),r(a,{key:0},[(s(!0),r(a,null,b(d(e),n=>(s(),r("td",{key:"avg-fnb-cell-"+e+"-"+n,class:"px-2 py-1 text-right border border-blue-200 bg-blue-50"},[t("span",Ss,u(_(re(e,n))),1)]))),128)),t("td",Ys,[t("span",As,u(_(ne(e))),1)])],64))],64))),128))])):C("",!0),ut()?(s(),r("tr",Cs,[o[14]||(o[14]=t("td",{class:"px-3 py-2 font-medium border-r border-blue-200"},[t("div",{class:"flex items-center gap-1"}," AVERAGE ROOM RATE ")],-1)),(s(!0),r(a,null,b(h.visibleYears,e=>(s(),r(a,{key:"avg-rate-"+e},[k(e)?(s(),r("td",Ds,[t("span",Os,u(_(c(e))),1)])):(s(),r(a,{key:0},[(s(!0),r(a,null,b(d(e),n=>(s(),r("td",{key:"avg-rate-cell-"+e+"-"+n,class:"px-2 py-1 text-right border border-blue-200 bg-blue-50"},[t("span",Ms,u(_(v(e,n))),1)]))),128)),t("td",Ts,[t("span",js,u(_(c(e))),1)])],64))],64))),128))])):C("",!0),dt()?(s(),r("tr",Fs,[o[15]||(o[15]=t("td",{class:"px-3 py-2 font-medium border-r border-blue-200"},[t("div",{class:"flex items-center gap-1"}," REVENUE PER AVAILABLE ROOM ")],-1)),(s(!0),r(a,null,b(h.visibleYears,e=>(s(),r(a,{key:"rev-per-room-"+e},[k(e)?(s(),r("td",Ls,[t("span",Ns,u(_(B(e))),1)])):(s(),r(a,{key:0},[(s(!0),r(a,null,b(d(e),n=>(s(),r("td",{key:"rev-per-room-cell-"+e+"-"+n,class:"px-2 py-1 text-right border border-blue-200 bg-blue-50"},[t("span",Vs,u(_(A(e,n))),1)]))),128)),t("td",Ps,[t("span",Bs,u(_(B(e))),1)])],64))],64))),128))])):C("",!0),t("tr",Js,[o[17]||(o[17]=t("td",{colspan:"2",class:"px-3 py-3 font-bold text-blue-900 border-r border-blue-300"},[t("div",{class:"flex items-center"}," Rooms Revenue ")],-1)),(s(!0),r(a,null,b(h.visibleYears,e=>(s(),r(a,{key:"rooms-revenue-divider-"+e},[k(e)?(s(),r("td",Us)):(s(),r(a,{key:0},[(s(!0),r(a,null,b(d(e),n=>(s(),r("td",{key:"rooms-revenue-divider-cell-"+e+"-"+n,class:"px-1 py-1 text-center border border-blue-300 bg-blue-200"}))),128)),o[16]||(o[16]=t("td",{class:"px-1 py-1 text-center border border-blue-300 bg-blue-200"},null,-1))],64))],64))),128))]),m()?(s(),r(a,{key:10},[(s(!0),r(a,null,b(Te.value,e=>(s(),r(a,{key:"segment-"+e},[ct(e)?(s(),r("tr",Is,[t("td",Gs,[t("div",zs,u(e),1)]),(s(!0),r(a,null,b(h.visibleYears,n=>(s(),r(a,{key:"segment-"+e+"-"+n},[k(n)?(s(),r("td",Ks,[t("span",Qs,u(_(je(n,e))),1)])):(s(),r(a,{key:0},[(s(!0),r(a,null,b(d(n),i=>(s(),r("td",{key:"segment-cell-"+e+"-"+n+"-"+i,class:"px-2 py-1 text-right border border-blue-200 bg-blue-50"},[t("span",qs,u(_(ie(n,i,e))),1)]))),128)),t("td",Hs,[t("span",Ws,u(_(je(n,e))),1)])],64))],64))),128))])):C("",!0)],64))),128)),t("tr",Zs,[o[18]||(o[18]=t("td",{class:"px-3 py-2 font-bold border-r border-blue-300"},[t("div",{class:"flex items-center gap-1"}," Total Rooms Revenue ")],-1)),(s(!0),r(a,null,b(h.visibleYears,e=>(s(),r(a,{key:"total-rooms-revenue-"+e},[k(e)?(s(),r("td",or,[t("span",sr,u(_(ke(e))),1)])):(s(),r(a,{key:0},[(s(!0),r(a,null,b(d(e),n=>(s(),r("td",{key:"total-rooms-revenue-cell-"+e+"-"+n,class:"px-2 py-1 text-right border border-blue-300 font-semibold bg-blue-200"},[t("span",Xs,u(_(Fe(e,n))),1)]))),128)),t("td",er,[t("span",tr,u(_(ke(e))),1)])],64))],64))),128))])],64)):C("",!0),m()?C("",!0):(s(),r(a,{key:11},[(s(!0),r(a,null,b(De.value,e=>(s(),r(a,{key:"pkg-"+e},[bt(e)?(s(),r("tr",rr,[t("td",nr,[t("div",lr,u(e),1)]),(s(!0),r(a,null,b(h.visibleYears,n=>(s(),r(a,{key:"pkg-"+e+"-"+n},[k(n)?(s(),r("td",dr,[t("span",cr,u(_(Oe(n,e))),1)])):(s(),r(a,{key:0},[(s(!0),r(a,null,b(d(n),i=>(s(),r("td",{key:"pkg-cell-"+e+"-"+n+"-"+i,class:"px-2 py-1 text-right border border-blue-200 bg-blue-50"},[t("span",ar,u(_(ue(n,i,e))),1)]))),128)),t("td",ir,[t("span",ur,u(_(Oe(n,e))),1)])],64))],64))),128))])):C("",!0)],64))),128)),t("tr",br,[o[19]||(o[19]=t("td",{class:"px-3 py-2 font-bold border-r border-blue-300"},[t("div",{class:"flex items-center gap-1"}," Total Rooms Revenue ")],-1)),(s(!0),r(a,null,b(h.visibleYears,e=>(s(),r(a,{key:"total-rooms-revenue-"+e},[k(e)?(s(),r("td",gr,[t("span",xr,u(_(ke(e))),1)])):(s(),r(a,{key:0},[(s(!0),r(a,null,b(d(e),n=>(s(),r("td",{key:"total-rooms-revenue-cell-"+e+"-"+n,class:"px-2 py-1 text-right border border-blue-300 font-semibold bg-blue-200"},[t("span",pr,u(_(Fe(e,n))),1)]))),128)),t("td",mr,[t("span",fr,u(_(ke(e))),1)])],64))],64))),128))])],64)),t("tr",vr,[o[21]||(o[21]=t("td",{colspan:"2",class:"px-3 py-3 font-bold text-blue-900 border-r border-blue-300"},[t("div",{class:"flex items-center"}," Room Expenses ")],-1)),(s(!0),r(a,null,b(h.visibleYears,e=>(s(),r(a,{key:"room-expenses-divider-"+e},[k(e)?(s(),r("td",hr)):(s(),r(a,{key:0},[(s(!0),r(a,null,b(d(e),n=>(s(),r("td",{key:"room-expenses-divider-cell-"+e+"-"+n,class:"px-1 py-1 text-center border border-blue-300 bg-blue-200"}))),128)),o[20]||(o[20]=t("td",{class:"px-1 py-1 text-center border border-blue-300 bg-blue-200"},null,-1))],64))],64))),128))]),t("tr",yr,[o[23]||(o[23]=t("td",{class:"px-3 py-2 font-semibold border-r border-blue-200"},[t("div",{class:"flex items-center gap-1"}," Expense ")],-1)),(s(!0),r(a,null,b(h.visibleYears,e=>(s(),r(a,{key:"expense-subheader-"+e},[k(e)?(s(),r("td",_r)):(s(),r(a,{key:0},[(s(!0),r(a,null,b(d(e),n=>(s(),r("td",{key:"expense-subheader-cell-"+e+"-"+n,class:"px-2 py-1 text-center border border-blue-200 bg-blue-50"}))),128)),o[22]||(o[22]=t("td",{class:"px-2 py-1 text-center border border-blue-200 bg-blue-100"},null,-1))],64))],64))),128))]),(s(!0),r(a,null,b(T.value,e=>(s(),r(a,{key:"room-expense-"+e},[Ue(e)?(s(),r("tr",kr,[t("td",wr,[t("div",Rr,u(e),1)]),(s(!0),r(a,null,b(h.visibleYears,n=>(s(),r(a,{key:"room-expense-"+e+"-"+n},[k(n)?(s(),r("td",Er,[t("span",$r,u(_(Ae(n,e))),1)])):(s(),r(a,{key:0},[(s(!0),r(a,null,b(d(n),i=>(s(),r("td",{key:"room-expense-cell-"+e+"-"+n+"-"+i,class:"px-2 py-1 text-right border border-blue-200 bg-white"},[t("span",Sr,u(_(P(n,i,e))),1)]))),128)),t("td",Yr,[t("span",Ar,u(_(Ae(n,e))),1)])],64))],64))),128))])):C("",!0)],64))),128)),t("tr",Cr,[o[24]||(o[24]=t("td",{class:"px-3 py-2 font-bold border-r border-blue-300"},[t("div",{class:"flex items-center gap-1"}," Gross Total Expenses ")],-1)),(s(!0),r(a,null,b(h.visibleYears,e=>(s(),r(a,{key:"gross-expenses-"+e},[k(e)?(s(),r("td",Dr,[t("span",Or,u(_(fe(e))),1)])):(s(),r(a,{key:0},[(s(!0),r(a,null,b(d(e),n=>(s(),r("td",{key:"gross-expenses-cell-"+e+"-"+n,class:"px-2 py-1 text-right border border-blue-300 font-semibold bg-blue-200"},[t("span",Mr,u(_(me(e,n))),1)]))),128)),t("td",Tr,[t("span",jr,u(_(fe(e))),1)])],64))],64))),128))]),t("tr",Fr,[o[26]||(o[26]=t("td",{class:"px-3 py-2 font-semibold border-r border-blue-200"},[t("div",{class:"flex items-center gap-1"}," Payroll ")],-1)),(s(!0),r(a,null,b(h.visibleYears,e=>(s(),r(a,{key:"expense-subheader-"+e},[k(e)?(s(),r("td",Vr)):(s(),r(a,{key:0},[(s(!0),r(a,null,b(d(e),n=>(s(),r("td",{key:"expense-subheader-cell-"+e+"-"+n,class:"px-2 py-1 text-center border border-blue-200 bg-blue-50"}))),128)),o[25]||(o[25]=t("td",{class:"px-2 py-1 text-center border border-blue-200 bg-blue-100"},null,-1))],64))],64))),128))]),ze("management")?(s(),r("tr",Pr,[o[28]||(o[28]=t("td",{class:"px-3 py-2 font-medium border-r border-blue-200"},[t("div",{class:"flex items-center gap-1"}," Management ")],-1)),(s(!0),r(a,null,b(h.visibleYears,e=>(s(),r(a,{key:"mgmt-subheader-"+e},[k(e)?(s(),r("td",Br)):(s(),r(a,{key:0},[(s(!0),r(a,null,b(d(e),n=>(s(),r("td",{key:"mgmt-subheader-cell-"+e+"-"+n,class:"px-2 py-1 text-center border border-blue-200 bg-blue-50"}))),128)),o[27]||(o[27]=t("td",{class:"px-2 py-1 text-center border border-blue-200 bg-blue-100"},null,-1))],64))],64))),128))])):C("",!0),(s(!0),r(a,null,b(Ie.value,e=>(s(),r("tr",{key:"mgmt-loc-"+e,class:"bg-white border-b border-blue-200"},[t("td",Lr,[t("div",Nr,u(e),1)]),(s(!0),r(a,null,b(h.visibleYears,n=>(s(),r(a,{key:"mgmt-row-"+e+"-"+n},[k(n)?(s(),r("td",Gr,[t("span",zr,u(_(ae(n,e,"management"))),1)])):(s(),r(a,{key:0},[(s(!0),r(a,null,b(d(n),i=>(s(),r("td",{key:"mgmt-cell-"+e+"-"+n+"-"+i,class:"px-2 py-1 text-right border border-blue-200 bg-white"},[t("span",Jr,u(_(Me(n,i,e,"management"))),1)]))),128)),t("td",Ur,[t("span",Ir,u(_(ae(n,e,"management"))),1)])],64))],64))),128))]))),128)),ze("non-management")?(s(),r("tr",qr,[o[30]||(o[30]=t("td",{class:"px-3 py-2 font-medium border-r border-blue-200"},[t("div",{class:"flex items-center gap-1"}," Non-Management ")],-1)),(s(!0),r(a,null,b(h.visibleYears,e=>(s(),r(a,{key:"nonmgmt-subheader-"+e},[k(e)?(s(),r("td",Hr)):(s(),r(a,{key:0},[(s(!0),r(a,null,b(d(e),n=>(s(),r("td",{key:"nonmgmt-subheader-cell-"+e+"-"+n,class:"px-2 py-1 text-center border border-blue-200 bg-blue-50"}))),128)),o[29]||(o[29]=t("td",{class:"px-2 py-1 text-center border border-blue-200 bg-blue-100"},null,-1))],64))],64))),128))])):C("",!0),(s(!0),r(a,null,b(Ge.value,e=>(s(),r("tr",{key:"nonmgmt-loc-"+e,class:"bg-white border-b border-blue-200"},[t("td",Wr,[t("div",Kr,u(e),1)]),(s(!0),r(a,null,b(h.visibleYears,n=>(s(),r(a,{key:"nonmgmt-row-"+e+"-"+n},[k(n)?(s(),r("td",en,[t("span",tn,u(_(ae(n,e,"non-management"))),1)])):(s(),r(a,{key:0},[(s(!0),r(a,null,b(d(n),i=>(s(),r("td",{key:"nonmgmt-cell-"+e+"-"+n+"-"+i,class:"px-2 py-1 text-right border border-blue-200 bg-white"},[t("span",Qr,u(_(Me(n,i,e,"non-management"))),1)]))),128)),t("td",Zr,[t("span",Xr,u(_(ae(n,e,"non-management"))),1)])],64))],64))),128))]))),128))])])])])]))}},sn=Ne(on,[["__scopeId","data-v-65ece9f5"]]),rn={class:"flex"},nn={class:"flex-1 min-h-screen bg-gradient-to-br from-white to-violet-50"},ln={class:"relative p-4"},an={key:0,class:"absolute top-4 left-4 z-30 w-[660px] max-w-[95vw] rounded-2xl overflow-hidden backdrop-blur-xl bg-white/80 border border-violet-200/60 shadow-2xl ring-1 ring-violet-300/30"},un={class:"flex items-center justify-between px-5 py-4 bg-gradient-to-r from-violet-600 to-violet-700 text-white"},dn={class:"flex items-center gap-3"},cn={class:"w-10 h-10 bg-white/20 rounded-lg flex items-center justify-center shadow-sm"},bn={class:"text-sm font-medium"},pn={class:"px-5 pb-5 bg-white/70"},mn={class:"mb-4 pt-4"},fn={class:"text-sm font-semibold text-gray-700 mb-3 flex items-center gap-2"},gn={class:"w-full"},xn={key:0,class:"mt-2 flex gap-2"},vn={class:"mb-4 pt-4"},hn={class:"text-sm font-semibold text-gray-700 mb-3 flex items-center gap-2"},yn={class:"flex gap-2"},_n={class:"bg-white/90 rounded-xl p-5 border border-violet-100 shadow-sm"},kn={class:"space-y-4"},wn={class:"grid grid-cols-2 gap-3"},Rn=["value"],Sn=["value"],Yn={class:"flex gap-2"},An={class:"p-0"},En={key:0},$n={key:1},Cn={key:2,class:"mt-28"},Mn={key:0,class:"mt-28"},Tn={key:1,class:"mt-28 p-8 text-center text-gray-500"},jn={class:"text-sm"},Dn={key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-sm"},On={class:"bg-white rounded-2xl shadow-2xl border border-violet-200 w-[95%] max-w-lg p-0 overflow-hidden"},Fn={class:"flex items-center gap-3 px-8 py-6 bg-gradient-to-r from-violet-600 to-violet-700"},Vn={class:"p-8 pt-6"},Pn={key:0,class:"mb-4 p-4 bg-yellow-50 border border-yellow-200 rounded-lg flex items-center gap-3"},Bn={key:1,class:"space-y-4 max-h-[50vh] overflow-auto pr-2"},Ln={class:"font-medium text-gray-700 flex items-center gap-2"},Nn=["onUpdate:modelValue"],Jn={class:"flex justify-end gap-3 px-8 py-4 bg-gray-50 border-t border-violet-100"},Un={__name:"Reports",setup(h){const p=M([]),$=M("monthly"),O=M([]),g=M({}),m=M([]),y=M(!1),F=M({}),T=M(!1);M({});const f=M([]);M(!1),M(""),M(!1),M(null);const N=M(!0),_=M([]);nt();const E=M(""),z=M(!1),ee=st(),{fromYear:k,toYear:d,advancedModes:P}=tt(ee),{setFromYear:Ae,setToYear:Ue,setAdvancedModes:me,clearYearSettings:fe,getFilteredToYears:q}=ee,D=L(()=>Bt(k.value,d.value)),J=L(()=>q(p.value)),ge=L(()=>m.value.length>0?getAllExpensesGroupedByCategory(m.value):getExpensesGroupedByCategory(g.value,D.value)),V=v=>[...Lt(P.value[v]||$.value),"ex1","ex2"];pe(D,()=>{D.value.forEach(v=>{P.value[v]||ee.setAdvancedMode(v,$.value)})}),pe(X,(v,c)=>de(this,null,function*(){if(v&&v!==c)try{g.value={},m.value=[],O.value=[],yield ne(),f.value=[],T.value=!0,be.success(`Switched to project: ${v.project_name}`)}catch(A){console.error("Error loading project data:",A),be.error("Failed to load project data. Please try again.")}})),pe(y,v=>{v&&(F.value=Pe({},P.value))}),pe(T,v=>{v?window.removeEventListener("beforeunload",Z):window.addEventListener("beforeunload",Z)}),ot(()=>de(this,null,function*(){try{yield xt(),p.value=yield Jt(),g.value={},m.value=[],O.value=[],T.value=!0,X.value&&(yield ne()),localStorage.getItem("showRefreshSuccess")==="true"&&(localStorage.removeItem("showRefreshSuccess"),be.success("Page refreshed successfully"))}catch(v){console.error("Error loading data:",v)}})),vt(()=>{window.removeEventListener("beforeunload",Z)});function xe(){fe(),T.value=!1}function U(){me(Pe({},F.value)),y.value=!1}function ve(){y.value=!1}function Z(v){if(!T.value)return v.preventDefault(),v.returnValue="You have unsaved changes that may be discarded if not saved. Are you sure you want to leave?",v.returnValue}function he(){try{let v="data:text/csv;charset=utf-8,";const c=["Receipt/Payment"];D.value.forEach(I=>{et(I)||V(I).forEach(H=>{c.push(`${I} - ${H}`)}),c.push(`${I} - Total`)}),v+=c.join(",")+`
`,ge.value.forEach(I=>{I.expenses.forEach(H=>{const le=[H];D.value.forEach(G=>{et(G)||V(G).forEach(Ee=>{le.push(getAmountForExpense(g.value,H,G,Ee,P.value[G]||$.value))}),le.push(calculateTotalForExpense(g.value,H,G,P.value[G]||$.value,V))}),v+=le.join(",")+`
`})});const A=encodeURI(v),B=document.createElement("a");B.setAttribute("href",A),B.setAttribute("download",`receipts_payments_data_${k.value}_${d.value}.csv`),document.body.appendChild(B),B.click(),document.body.removeChild(B)}catch(v){console.error("Error exporting data:",v),be.error("Failed to export data. Please try again.")}}function te(){try{window.print()}catch(v){console.error("Error triggering print:",v),be.error("Failed to open print dialog.")}}function oe(){localStorage.setItem("showRefreshSuccess","true"),window.location.reload()}const se=v=>{E.value=v},ye=()=>{z.value=!0},re=()=>{z.value=!1};function ne(){return de(this,null,function*(){try{if(X.value){const v=yield ht(X.value.name);v&&v.data&&v.data.data?_.value=v.data.data:Array.isArray(v)?_.value=v:_.value=[]}else _.value=[]}catch(v){console.error("Error loading departments:",v),_.value=[]}})}return(v,c)=>(s(),r(a,null,[t("div",rn,[R(St,{onOpenSettings:ye}),t("div",nn,[t("div",ln,[D.value.length?(s(),r("div",an,[t("div",un,[t("div",dn,[t("div",cn,[R(Y(Be),{class:"w-6 h-6 text-white"})]),c[6]||(c[6]=t("div",null,[t("h1",{class:"text-xl font-bold"},"Reports"),t("p",{class:"text-xs opacity-80"},"Manage and configure your reports")],-1))]),t("button",{onClick:c[0]||(c[0]=A=>N.value=!N.value),class:"flex items-center gap-2 px-3 py-2 bg-white/10 hover:bg-white/20 border border-white/20 rounded-lg transition-all"},[N.value?(s(),Ye(Y(rt),{key:1,class:"w-5 h-5 text-white"})):(s(),Ye(Y(Yt),{key:0,class:"w-5 h-5 text-white"})),t("span",bn,u(N.value?"Expand":"Collapse"),1)])]),R(Qe,{name:"fade"},{default:Ke(()=>[ce(t("div",pn,[t("div",mn,[t("h3",fn,[R(Y(Le),{class:"w-4 h-4 text-violet-600"}),j(" "+u(E.value?"Current Report":"Select Report"),1)]),t("div",gn,[ce(t("select",{"onUpdate:modelValue":c[1]||(c[1]=A=>E.value=A),class:"w-full px-3 py-2.5 rounded-lg border border-violet-300 focus:border-violet-500 focus:ring-2 focus:ring-violet-200 transition-all bg-white text-sm shadow-sm"},c[7]||(c[7]=[t("option",{value:""},"Select a report...",-1),t("option",{value:"room-pnl"},"Room Profit & Loss",-1),t("option",{value:"fnb-pnl"},"Food And Beverage Profit & Loss",-1),t("option",{value:"ood-pnl"},"Other Operating Departments Profit & Loss",-1),t("option",{value:"pl-statement"},"Profit And Loss Statement",-1),t("option",{value:"balance-sheet"},"Balance Sheet",-1),t("option",{value:"cashflow"},"Cashflow",-1),t("option",{value:"capex-schedule"},"Capex Schedule",-1)]),512),[[Se,E.value]])]),E.value?(s(),r("div",xn,[t("button",{onClick:c[2]||(c[2]=A=>E.value=""),class:"flex items-center gap-1 px-2 py-1 text-xs text-violet-600 hover:text-violet-700 hover:bg-violet-50 rounded transition-all"},[R(Y(Xe),{class:"w-3 h-3"}),c[8]||(c[8]=j(" Change Report "))])])):C("",!0)]),t("div",vn,[t("h3",hn,[R(Y(Ut),{class:"w-4 h-4 text-violet-600"}),c[9]||(c[9]=j(" Quick Actions "))]),t("div",yn,[t("button",{onClick:oe,class:"w-full flex items-center justify-center gap-2 px-3 py-2 bg-white/90 border border-violet-200 text-violet-700 rounded-lg hover:bg-violet-50 transition-all text-sm font-medium shadow-sm"},[R(Y(Xe),{class:"w-4 h-4"}),c[10]||(c[10]=j(" Refresh "))]),t("button",{onClick:he,class:"w-full flex items-center justify-center gap-2 px-3 py-2 bg-white/90 border border-violet-200 text-violet-700 rounded-lg hover:bg-violet-50 transition-all text-sm font-medium shadow-sm"},[R(Y(At),{class:"w-4 h-4"}),c[11]||(c[11]=j(" Export "))]),t("button",{onClick:te,class:"w-full flex items-center justify-center gap-2 px-3 py-2 bg-white/90 border border-violet-200 text-violet-700 rounded-lg hover:bg-violet-50 transition-all text-sm font-medium shadow-sm"},[R(Y(It),{class:"w-4 h-4"}),c[12]||(c[12]=j(" Print "))])])]),t("div",null,[t("div",_n,[c[19]||(c[19]=t("h3",{class:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2"},[t("svg",{class:"w-5 h-5 text-violet-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})]),j(" Year Range Filter ")],-1)),t("div",kn,[t("div",wn,[t("div",null,[c[14]||(c[14]=t("label",{class:"text-sm font-medium text-gray-700 mb-2 flex items-center gap-1"},[t("svg",{class:"w-3 h-3 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})]),j(" From Year ")],-1)),ce(t("select",{disabled:"","onUpdate:modelValue":c[3]||(c[3]=A=>Ze(k)?k.value=A:null),class:"w-full px-3 py-2.5 rounded-lg border border-violet-300 focus:border-violet-500 focus:ring-2 focus:ring-violet-200 transition-all bg-gray-100 text-sm shadow-sm"},[c[13]||(c[13]=t("option",{value:""},"Select Year",-1)),(s(!0),r(a,null,b(p.value,A=>(s(),r("option",{key:"from-"+A,value:A},u(A),9,Rn))),128))],512),[[Se,Y(k)]])]),t("div",null,[c[16]||(c[16]=t("label",{class:"text-sm font-medium text-gray-700 mb-2 flex items-center gap-1"},[t("svg",{class:"w-3 h-3 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})]),j(" To Year ")],-1)),ce(t("select",{disabled:"","onUpdate:modelValue":c[4]||(c[4]=A=>Ze(d)?d.value=A:null),class:"w-full px-3 py-2.5 rounded-lg border border-violet-300 focus:border-violet-500 focus:ring-2 focus:ring-violet-200 transition-all bg-gray-100 text-sm shadow-sm"},[c[15]||(c[15]=t("option",{value:""},"Select Year",-1)),(s(!0),r(a,null,b(J.value,A=>(s(),r("option",{key:"to-"+A,value:A},u(A),9,Sn))),128))],512),[[Se,Y(d)]])])]),t("div",Yn,[t("button",{onClick:xe,class:"flex-1 flex items-center justify-center gap-2 px-3 py-2.5 bg-white/90 text-gray-700 border border-violet-200 rounded-lg hover:bg-violet-50 transition-all duration-200 text-sm font-medium shadow-sm"},c[17]||(c[17]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1),j(" Clear ")])),t("button",{onClick:c[5]||(c[5]=A=>y.value=!0),class:"flex-1 flex items-center justify-center gap-2 px-3 py-2.5 bg-gradient-to-r from-violet-600 to-violet-700 text-white rounded-lg hover:from-violet-700 hover:to-violet-800 transition-all duration-200 text-sm font-medium shadow"},c[18]||(c[18]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})],-1),j(" Advanced ")]))])])])])],512),[[yt,!N.value]])]),_:1})])):C("",!0),t("div",An,[g.value.status==="no_project_selected"?(s(),r("div",En,[R(jt)])):g.value.status==="error"?(s(),r("div",$n,[R(Tt,{message:g.value.message,onRetry:oe},null,8,["message"])])):E.value?D.value.length?(s(),r(a,{key:3},[c[21]||(c[21]=t("div",{class:"mb-4"},null,-1)),E.value==="room-pnl"?(s(),r("div",Mn,[R(sn,{"visible-years":D.value},null,8,["visible-years"])])):(s(),r("div",Tn,[R(Y(Le),{class:"w-16 h-16 mx-auto mb-4 text-gray-300"}),c[20]||(c[20]=t("h3",{class:"text-lg font-medium mb-2"},"Report Not Implemented",-1)),t("p",jn,"The "+u(E.value)+" report is not yet implemented.",1)]))],64)):C("",!0):(s(),r("div",Cn,[R(po,{onReportSelected:se})]))])])])]),R(Qe,{name:"fade"},{default:Ke(()=>[y.value?(s(),r("div",Dn,[t("div",On,[t("div",Fn,[R(Y(Et),{class:"w-4 h-4 text-white"}),c[22]||(c[22]=t("h2",{class:"text-xl font-bold text-white"},"Advanced Display Mode Settings",-1))]),t("div",Vn,[D.value.length?C("",!0):(s(),r("div",Pn,[R(Y($t),{class:"w-4 h-4 text-red-600"}),c[23]||(c[23]=t("span",{class:"text-yellow-800 font-medium"},'Please select both "From Year" and "To Year" to configure advanced settings.',-1))])),D.value.length?(s(),r("div",Bn,[(s(!0),r(a,null,b(D.value,A=>(s(),r("div",{key:"adv-"+A,class:"flex justify-between items-center border-b pb-2"},[t("span",Ln,[R(Y(kt),{class:"w-3 h-3 text-gray-500"}),j(" "+u(A),1)]),ce(t("select",{"onUpdate:modelValue":B=>F.value[A]=B,class:"px-6 py-2 border rounded-md focus:ring-violet-500"},c[24]||(c[24]=[t("option",{value:"monthly"},"Monthly",-1),t("option",{value:"quarterly"},"Quarterly",-1)]),8,Nn),[[Se,F.value[A]]])]))),128))])):C("",!0)]),t("div",Jn,[t("button",{onClick:ve,class:"px-4 py-2 rounded-md bg-gray-100 hover:bg-gray-200 text-gray-700 flex items-center gap-2"},[R(Y(Ct),{class:"w-4 h-4"}),c[25]||(c[25]=j(" Cancel "))]),D.value.length?(s(),r("button",{key:0,onClick:U,class:"px-4 py-2 rounded-md bg-violet-600 text-white hover:bg-violet-700 flex items-center gap-2"},[R(Y(Mt),{class:"w-4 h-4 text-green-600"}),c[26]||(c[26]=j(" Apply "))])):C("",!0)])])])):C("",!0)]),_:1}),R(Rt,{"is-visible":z.value,onClose:re},null,8,["is-visible"])],64))}},al=Ne(Un,[["__scopeId","data-v-a64713ed"]]);export{al as default};
