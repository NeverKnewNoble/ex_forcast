var O=Object.defineProperty;var x=Object.getOwnPropertySymbols;var F=Object.prototype.hasOwnProperty,N=Object.prototype.propertyIsEnumerable;var Y=(e,t,a)=>t in e?O(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,d=(e,t)=>{for(var a in t||(t={}))F.call(t,a)&&Y(e,a,t[a]);if(x)for(var a of x(t))N.call(t,a)&&Y(e,a,t[a]);return e};import{c as T}from"./createLucideIcon-D8X7RiyU.js";import{q as g,Y as E,h as m,p as h}from"./index-DFp4WPHj.js";function c(e){const t=g.value;return!t||!t.project_name?e:`${e}_${t.project_name}`}function _(){["expenseEstimateFromYear","expenseEstimateToYear","expenseEstimateAdvancedModes","totalNumberOfRooms"].forEach(t=>{localStorage.getItem(t)&&localStorage.removeItem(t)})}function J(){const e=g.value;return!e||!e.project_name?[]:["expenseEstimateFromYear","expenseEstimateToYear","expenseEstimateAdvancedModes","totalNumberOfRooms"].map(a=>`${a}_${e.project_name}`)}/**
 * @license lucide-vue-next v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $=T("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),b=E("yearSettings",()=>{const e=m(""),t=m(""),a=m({}),n=m({});function l(){const s=g.value;if(!s||!s.project_name){e.value="",t.value="",a.value={};return}e.value=localStorage.getItem(c("expenseEstimateFromYear"))||"",t.value=localStorage.getItem(c("expenseEstimateToYear"))||"",a.value=JSON.parse(localStorage.getItem(c("expenseEstimateAdvancedModes"))||"{}"),n.value=JSON.parse(localStorage.getItem(c("payrollAnnualIncrementData"))||"{}")}function o(s){e.value=s,localStorage.setItem(c("expenseEstimateFromYear"),s),t.value&&parseInt(t.value)<parseInt(s)&&r("")}function r(s){t.value=s,localStorage.setItem(c("expenseEstimateToYear"),s)}function i(s,p){a.value[s]=p,localStorage.setItem(c("expenseEstimateAdvancedModes"),JSON.stringify(a.value))}function f(s){a.value=d({},s),localStorage.setItem(c("expenseEstimateAdvancedModes"),JSON.stringify(a.value))}function v(){e.value="",t.value="",a.value={},n.value={},localStorage.removeItem(c("expenseEstimateFromYear")),localStorage.removeItem(c("expenseEstimateToYear")),localStorage.removeItem(c("expenseEstimateAdvancedModes")),localStorage.removeItem(c("payrollAnnualIncrementData"))}function S(s){if(!e.value)return s;const p=parseInt(e.value);return s.filter(M=>parseInt(M)>=p)}const u=m(new Set);function y(s){u.value.has(s)?u.value.delete(s):u.value.add(s)}function A(s){return u.value.has(s)}return h(g,()=>{l()},{deep:!0}),l(),h(e,s=>localStorage.setItem(c("expenseEstimateFromYear"),s)),h(t,s=>localStorage.setItem(c("expenseEstimateToYear"),s)),h(a,s=>localStorage.setItem(c("expenseEstimateAdvancedModes"),JSON.stringify(s)),{deep:!0}),h(n,s=>localStorage.setItem(c("payrollAnnualIncrementData"),JSON.stringify(s)),{deep:!0}),{fromYear:e,toYear:t,advancedModes:a,annualIncrementData:n,setFromYear:o,setToYear:r,setAdvancedMode:i,setAdvancedModes:f,clearYearSettings:v,getFilteredToYears:S,loadProjectSettings:l,clearOldLocalStorageKeys:_,getAllProjectKeys:J,collapsedYears:u,toggleCollapse:y,isYearCollapsed:A}}),R=E("calculationCache",{state:()=>({cache:{}}),actions:{setValue(e,t,a,n,l,o){o>0&&(this.cache[e]||(this.cache[e]={}),this.cache[e][t]||(this.cache[e][t]={}),this.cache[e][t][a]||(this.cache[e][t][a]={}),this.cache[e][t][a][n]||(this.cache[e][t][a][n]={}),this.cache[e][t][a][n][l]=o)},getValue(e,t,a,n,l){var o,r,i,f,v,S;return(S=(v=(f=(i=(r=(o=this.cache)==null?void 0:o[e])==null?void 0:r[t])==null?void 0:i[a])==null?void 0:f[n])==null?void 0:v[l])!=null?S:0},getRowValues(e,t,a){var n,l,o,r;return(r=(o=(l=(n=this.cache)==null?void 0:n[e])==null?void 0:l[t])==null?void 0:o[a])!=null?r:{}},clearPageCache(e,t){this.cache[e]&&this.cache[e][t]&&delete this.cache[e][t]},clearCache(e,t=null,a=null,n=null){var l,o,r,i;if(!e){this.cache={};return}if(!t){delete this.cache[e];return}if(!a){this.cache[e]&&delete this.cache[e][t];return}if(!n){(l=this.cache[e])!=null&&l[t]&&delete this.cache[e][t][a];return}(i=(r=(o=this.cache[e])==null?void 0:o[t])==null?void 0:r[a])!=null&&i[n]&&delete this.cache[e][t][a][n]}},persist:{storage:localStorage,key:"calculation-cache"}});export{$ as C,R as a,_ as c,c as g,b as u};
