var Bt=Object.defineProperty,Dt=Object.defineProperties;var Ht=Object.getOwnPropertyDescriptors;var lt=Object.getOwnPropertySymbols;var Mt=Object.prototype.hasOwnProperty,Yt=Object.prototype.propertyIsEnumerable;var ut=(b,_,c)=>_ in b?Bt(b,_,{enumerable:!0,configurable:!0,writable:!0,value:c}):b[_]=c,ge=(b,_)=>{for(var c in _||(_={}))Mt.call(_,c)&&ut(b,c,_[c]);if(lt)for(var c of lt(_))Yt.call(_,c)&&ut(b,c,_[c]);return b},Ie=(b,_)=>Dt(b,Ht(_));var Q=(b,_,c)=>new Promise((m,p)=>{var f=S=>{try{C(c.next(S))}catch(T){p(T)}},k=S=>{try{C(c.throw(S))}catch(T){p(T)}},C=S=>S.done?m(S.value):Promise.resolve(S.value).then(f,k);C((c=c.apply(b,_)).next())});import{_ as Ue,c as s,o,b as n,e as A,u as g,r as Et,v as h,w as Ve,h as M,k as fe,J as Pt,l as je,p as ne,m as Vt,n as Ut,q as $,I as Gt,Q as $t,t as z,j as K,i as q,B as he,d as J,L as at,F as a,x,M as Ae,N as zt,T as it}from"./index-D_rjzJld.js";import{C as bt,a as Jt,u as qt}from"./useCalculationCache-dafppauv.js";import{c as oe,_ as Qt,f as Wt,R as Xt,C as dt,S as Kt,T as Zt,X as en,b as tn,d as nn}from"./SettingsModal-CXq_GQXV.js";import{C as _t,a as Ne}from"./circle-alert-Dm_yBXMV.js";import{A as pt,F as ct}from"./folder-open-COElByeF.js";import{c as Z,T as gt}from"./cloneDeep-k3MjdYTT.js";import{C as on}from"./chevron-left-CrSGpjlw.js";import"./createLucideIcon-DCP_iQLd.js";import"./zap-CemnWSUC.js";const sn=[{code:"in_house_guest_laundry",label:"In House Guest Laundry Revenue"},{code:"in_house_dry_cleaning",label:"In House Dry Cleaning Revenue"},{code:"outside_guest_laundry",label:"Outside Guest Laundry"},{code:"cost_of_sale",label:"COST OF LAUNDRY"},{code:"guest_laundry_cost",label:"Guest Laundry Cost"},{code:"other",label:"Other Laundry Costs"}],Be=[{code:"club_use_revenue",label:"Club Use Revenue",section:"Club Use Revenue"},{code:"sauna",label:"Sauna",section:"Club Use Revenue"},{code:"gym",label:"Gym",section:"Club Use Revenue"},{code:"swimming_pool",label:"Swimming Pool",section:"Club Use Revenue"},{code:"treatments_other_services",label:"Treatments & Other Services",section:"Treatments & Other Services"},{code:"fitness_lessons_group",label:"Fitness Lessons (group)",section:"Treatments & Other Services"},{code:"health_wellness_services",label:"Health / Wellness Services",section:"Treatments & Other Services"},{code:"massage",label:"Massage",section:"Treatments & Other Services"},{code:"personal_training_swimming_lessons",label:"Personal Training & Swimming Lessons",section:"Treatments & Other Services"},{code:"spa_treatment",label:"Spa Treatment",section:"Treatments & Other Services"},{code:"salon_treatment",label:"Salon Treatment",section:"Treatments & Other Services"},{code:"merchandise",label:"Merchandise",section:"Treatments & Other Services"},{code:"clothing",label:"Clothing",section:"Treatments & Other Services"},{code:"memberships",label:"Memberships",section:"Memberships"},{code:"pool_spa",label:"Pool/SPA",section:"Memberships"},{code:"gym_membership",label:"Gym",section:"Memberships"},{code:"pool_gym",label:"Pool / Gym",section:"Memberships"},{code:"spa_gym",label:"Spa / Gym",section:"Memberships"},{code:"gym_pool_spa",label:"Gym / Pool / Spa",section:"Memberships"},{code:"pool_only",label:"Pool",section:"Memberships"},{code:"total_club_use_revenue",label:"TOTAL CLUB USE REVENUE",section:"Totals"},{code:"total_treatments_other_services",label:"TOTAL TREATMENTS & OTHER SERVICES",section:"Totals"},{code:"total_memberships",label:"TOTAL MEMBERSHIPS",section:"Totals"},{code:"total_health_club_spa",label:"TOTAL HEALTH CLUB & SPA",section:"Totals"},{code:"service_charge",label:"SERVICE CHARGE",section:"Totals"},{code:"total_health_club_rev_including_sc",label:"TOTAL HEALTH CLUB REV INCLUDING SC.",section:"Totals"}];function rn(b,_,c,m,p){var T,I,D;if(!b)return 0;const f=Number(((T=b.percentage)==null?void 0:T[_])||0)/100,k=((I=b.base)==null?void 0:I[_])||"per_month",C=Number(((D=b.amount)==null?void 0:D[_])||0);let S=1;return k==="per_week"&&(S=4),f*S*C*Number(p||0)}function De(b,_,c){var C,S,T,I,D,j;if(!b)return 0;const m=Number(((S=(C=b.outside_guest_laundry_number)==null?void 0:C[_])==null?void 0:S[c])||0),p=((I=(T=b.outside_guest_laundry_base)==null?void 0:T[_])==null?void 0:I[c])||"per_month",f=Number(((j=(D=b.outside_guest_laundry_amount)==null?void 0:D[_])==null?void 0:j[c])||0);let k=1;return p==="per_week"&&(k=4),m*k*f}function ln(b,_,c,m,p){var C,S,T,I,D,j;if(!b)return 0;const f=Number(((S=(C=b.guest_laundry_cost_percentage)==null?void 0:C[_])==null?void 0:S[c])||0),k=Number(((I=(T=b.guest_laundry_cost_amount)==null?void 0:T[_])==null?void 0:I[c])||0);if(f>0){const H=m(b,_,c),U=p(b,_,c),P=Number(((j=(D=b.revenue_other)==null?void 0:D[_])==null?void 0:j[c])||0),G=H+U+P;return f/100*G}return k>0?k:0}function be(b,_,c){var m,p,f,k,C,S,T,I,D;return Number(((f=(p=(m=b[_])==null?void 0:m[c])==null?void 0:p.find(j=>j.field==="sauna"))==null?void 0:f.amount)||0)+Number(((S=(C=(k=b[_])==null?void 0:k[c])==null?void 0:C.find(j=>j.field==="gym"))==null?void 0:S.amount)||0)+Number(((D=(I=(T=b[_])==null?void 0:T[c])==null?void 0:I.find(j=>j.field==="swimming_pool"))==null?void 0:D.amount)||0)}function _e(b,_,c){return["fitness_lessons_group","health_wellness_services","massage","personal_training_swimming_lessons","spa_treatment","salon_treatment","merchandise","clothing"].reduce((p,f)=>{var k,C,S;return p+Number(((S=(C=(k=b[_])==null?void 0:k[c])==null?void 0:C.find(T=>T.field===f))==null?void 0:S.amount)||0)},0)}function pe(b,_,c){return["pool_spa","gym_membership","pool_gym","spa_gym","gym_pool_spa","pool_only"].reduce((p,f)=>{var k,C,S;return p+Number(((S=(C=(k=b[_])==null?void 0:k[c])==null?void 0:C.find(T=>T.field===f))==null?void 0:S.amount)||0)},0)}function se(b,_,c){return be(b,_,c)+_e(b,_,c)+pe(b,_,c)}function ye(b,_,c){var m,p,f;return se(b,_,c)+Number(((f=(p=(m=b[_])==null?void 0:m[c])==null?void 0:p.find(k=>k.field==="service_charge"))==null?void 0:f.amount)||0)}function He(b,_,c){const m=se(b,_,c);return m?be(b,_,c)/m*100:0}function Me(b,_,c){const m=se(b,_,c);return m?_e(b,_,c)/m*100:0}function Ye(b,_,c){const m=se(b,_,c);return m?pe(b,_,c)/m*100:0}//! Export all utility functions and constants
//! Format value based on field type
function w(b,_){if(_==null||_==="")return"0.00";const c=Number(_);return isNaN(c)?"0.00":b.includes("percentage")||b.includes("_pct")?c.toFixed(2)+"%":c.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}function un(b,_){if(!b||!_)return[];const c=parseInt(b),m=parseInt(_);if(isNaN(c)||isNaN(m)||c>m)return[];const p=[];for(let f=c;f<=m;f++)p.push(f);return p}//! Utility: Get column labels for display mode
const an=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dn=["Jan-Mar","Apr-Jun","Jul-Sep","Oct-Dec"];function cn(b){return b==="monthly"?an:dn}function gn(b,_,c,m,p="monthly"){if(!b||!b[c]||!b[c][m])return 0;const f=b[c][m];if(!Array.isArray(f))return 0;const k=f.find(C=>C.field===_);return k&&Number(k.amount)||0}//! Handle cell focus for OOD data
function ae({year:b,label:_,field:c,event:m}){m.target.dataset.originalValue=m.target.textContent}//! Handle cell edit for OOD data
function bn({year:b,label:_,field:c,event:m,originalOODData:p,changedCells:f,oodData:k,isSaved:C,isComponentReady:S}){var U;if(!S.value)return;const T=typeof m.target.value=="string"?m.target.value.trim():m.target.textContent.trim(),I=((U=m.target.dataset.originalValue)!=null?U:"").toString();if(typeof c=="string"&&c.endsWith("_base")){if(T!==I){const P=f.value.findIndex(G=>G.year===b&&G.label===_&&G.field===c);P>=0?f.value[P].newValue=T:f.value.push({year:b,label:_,field:c,newValue:T}),C.value=!1}return}const j=T===""?0:Number(T.replace(/[^\d.-]/g,"")),H=I===""?0:Number(I.replace(/[^\d.-]/g,""));if(j!==H){const P=f.value.findIndex(G=>G.year===b&&G.label===_&&G.field===c);P>=0?f.value[P].newValue=j:f.value.push({year:b,label:_,field:c,newValue:j}),C.value=!1}}//! Toggle year collapse functionality
function _n(b,_){const c=_.value.indexOf(b);c>-1?_.value.splice(c,1):_.value.push(b)}//! Check if year is collapsed
function pn(b,_){return _.value.includes(b)}//! Load year options
function mn(){return Q(this,null,function*(){var b;try{const _=yield fetch("/api/method/ex_forcast.api.year.get_year_options");if(!_.ok)throw new Error("Failed to load years");return((b=(yield _.json()).message)==null?void 0:b.options)||[]}catch(_){return console.error("Error loading year options:",_),[]}})}function Ee(b=null){return Q(this,null,function*(){try{let _="/api/method/ex_forcast.api.call_and_save_ood_revenue.ood_laundry_table_display";b&&(_+=`?project=${encodeURIComponent(b)}`);const c=yield fetch(_);if(!c.ok)throw new Error("Failed to load laundry table data");return(yield c.json()).message||{}}catch(_){return console.error("Error loading laundry table data:",_),{}}})}function vn(b,_,c,m=null){return Q(this,null,function*(){try{const p="/api/method/ex_forcast.api.call_and_save_ood_revenue.upsert_ood_laundry_table",f=new FormData;f.append("year",b),f.append("month",_),f.append("laundry_table",JSON.stringify(c)),m&&f.append("project",m);const k=yield fetch(p,{method:"POST",body:f});if(!k.ok)throw new Error("Failed to save laundry table data");return(yield k.json()).message}catch(p){throw console.error("Error saving laundry table data:",p),p}})}function Pe(b=null){return Q(this,null,function*(){try{let _="/api/method/ex_forcast.api.call_and_save_ood_revenue.ood_health_club_table_display";b&&(_+=`?project=${encodeURIComponent(b)}`);const c=yield fetch(_);if(!c.ok)throw new Error("Failed to load health club table data");return(yield c.json()).message||{}}catch(_){return console.error("Error loading health club table data:",_),{}}})}function xn(b,_,c,m=null){return Q(this,null,function*(){try{const p="/api/method/ex_forcast.api.call_and_save_ood_revenue.upsert_ood_health_club_table",f=new FormData;f.append("year",b),f.append("month",_),f.append("health_club_table",JSON.stringify(c)),m&&f.append("project",m);const k=yield fetch(p,{method:"POST",body:f});if(!k.ok)throw new Error("Failed to save health club table data");return(yield k.json()).message}catch(p){throw console.error("Error saving health club table data:",p),p}})}const fn={class:"flex flex-col items-center justify-center min-h-[400px] bg-white border-2 border-dashed border-violet-300 rounded-xl shadow-sm"},hn={class:"w-16 h-16 bg-violet-100 rounded-full flex items-center justify-center mb-4"},yn={class:"mt-4 flex items-center gap-2 text-xs text-violet-600"},wn={__name:"NoProjectSelectedState",setup(b){return(_,c)=>(o(),s("div",fn,[n("div",hn,[A(g(_t),{class:"w-8 h-8 text-violet-500"})]),c[1]||(c[1]=n("h3",{class:"text-lg text-violet-700 font-semibold mb-2"},"No Project Selected",-1)),c[2]||(c[2]=n("p",{class:"text-gray-500 text-center max-w-md leading-relaxed text-sm"}," Please select a project from the dashboard to view and manage other operating departments data. ",-1)),n("div",yn,[A(g(pt),{class:"w-3 h-3"}),c[0]||(c[0]=n("span",null,"Use the project selector in the dashboard to get started",-1))])]))}},kn=Ue(wn,[["__scopeId","data-v-90e59329"]]),Cn={class:"flex flex-col items-center justify-center min-h-[400px] bg-white border-2 border-dashed border-violet-300 rounded-xl shadow-sm"},Sn={class:"w-16 h-16 bg-violet-100 rounded-full flex items-center justify-center mb-4"},Fn={class:"text-lg text-violet-700 font-semibold mb-2"},Tn={class:"text-gray-500 text-center max-w-md leading-relaxed text-sm"},On={class:"mt-4 flex items-center gap-2 text-xs text-violet-600"},Ln={class:"mt-6"},Rn={__name:"NoYearsSelectedState",props:{fromYear:{type:String,default:""},toYear:{type:String,default:""}},setup(b){return(_,c)=>{const m=Et("router-link");return o(),s("div",Cn,[n("div",Sn,[A(g(_t),{class:"w-8 h-8 text-violet-500"})]),n("h3",Fn,h(b.fromYear&&!b.toYear?'Select "To Year"':!b.fromYear&&b.toYear?'Select "From Year"':"No Years Selected"),1),n("p",Tn,h(b.fromYear&&!b.toYear?"You have selected a From Year, now please select a To Year to display the tables.":!b.fromYear&&b.toYear?"You have selected a To Year, now please select a From Year to display the tables.":'Please select both "From Year" and "To Year" in the left panel to display the tables.'),1),n("div",On,[A(g(pt),{class:"w-3 h-3"}),c[0]||(c[0]=n("span",null,"Use the filters on the left to get started",-1))]),n("div",Ln,[A(m,{to:"/expense_estimate",class:"inline-flex items-center gap-2 px-4 py-2 rounded-lg bg-gradient-to-r from-violet-600 to-violet-700 text-white hover:from-violet-700 hover:to-violet-800 shadow"},{default:Ve(()=>[A(g(bt),{class:"w-4 h-4"}),c[1]||(c[1]=n("span",null,"Set Years in Expense",-1))]),_:1,__:[1]})])])}}},In=Ue(Rn,[["__scopeId","data-v-18adc525"]]),jn={class:"flex"},An={class:"flex-1 min-h-screen bg-gradient-to-br from-white to-violet-50"},Nn={class:"flex"},Bn={key:2,class:"text-violet-700 text-sm font-medium dark:text-white"},Dn={class:"mb-8"},Hn={class:"flex items-center gap-3 mb-2"},Mn={class:"w-12 h-12 bg-gradient-to-br from-violet-500 to-violet-600 rounded-xl flex items-center justify-center shadow-lg"},Yn={class:"mb-8"},En={class:"flex gap-2"},Pn={class:"flex-1"},Vn={class:"bg-white rounded-xl p-5 border border-gray-200 shadow-sm"},Un={class:"space-y-4"},Gn={class:"grid grid-cols-2 gap-3"},$n=["value"],zn=["value"],Jn={class:"flex gap-2"},qn={class:"flex-1 p-4"},Qn={class:"mb-10"},Wn={class:"flex items-center gap-2 mb-2"},Xn={class:"w-6 h-6 bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg flex items-center justify-center"},Kn={class:"mb-4 flex items-center gap-3"},Zn={key:1,class:"text-xs inline-flex items-center px-2 py-0.5 rounded-full bg-blue-300 text-blue-900"},eo={key:0,class:"text-xs inline-flex items-center px-2 py-0.5 rounded-full bg-red-300 text-red-900"},to={key:1,class:"text-xs inline-flex items-center px-2 py-0.5 rounded-full bg-green-300 text-green-900"},no={class:"bg-white rounded-lg border border-blue-200 shadow-sm overflow-x-auto md:max-w-[1800px] lg:max-w-[1800px] xl:max-w-[2000px] 2xl:max-w-[2000px]"},oo={class:"min-w-full w-max text-sm border border-blue-300"},so={class:"bg-blue-50"},ro={rowspan:"2",class:"px-3 py-2 text-left font-semibold text-white bg-blue-700 w-[300px] border border-blue-300"},lo={class:"flex items-center gap-1"},uo=["colspan","onClick"],ao={class:"flex items-center justify-center gap-1"},io={class:"font-semibold"},co={key:1,class:"px-2 py-1 text-center font-medium text-xs border border-blue-300 min-w-[110px]"},go=["value","onInput","onBlur"],bo={key:1,class:"bg-blue-50 text-center font-semibold text-blue-700 border border-blue-300"},_o=["value","onChange","onBlur"],po={key:1,class:"bg-blue-50 text-center font-semibold text-blue-700 border border-blue-300"},mo=["value","onInput","onBlur"],vo={key:1,class:"bg-blue-50 text-center font-semibold text-blue-700 border border-blue-300"},xo=["value","onInput","onBlur"],fo={key:1,class:"bg-blue-50 text-center font-semibold text-blue-700 border border-blue-300"},ho=["value","onChange","onBlur"],yo={key:1,class:"bg-blue-50 text-center font-semibold text-blue-700 border border-blue-300"},wo=["value","onInput","onBlur"],ko={key:1,class:"bg-blue-50 text-center font-semibold text-blue-700 border border-blue-300"},Co=["value","onInput","onBlur"],So={key:1,class:"bg-blue-50 text-center font-semibold text-blue-700 border border-blue-300"},Fo=["value","onChange","onBlur"],To={key:1,class:"bg-blue-50 text-center font-semibold text-blue-700 border border-blue-300"},Oo=["value","onInput","onBlur"],Lo={key:1,class:"bg-blue-50 text-center font-semibold text-blue-700 border border-blue-300"},Ro=["value","onInput","disabled","onBlur"],Io={key:1,class:"bg-blue-50 text-center font-semibold text-blue-700 border border-blue-300"},jo=["value","onInput","disabled","onBlur"],Ao={key:1,class:"bg-blue-50 text-center font-semibold text-blue-700 border border-blue-300"},No={key:1,class:"bg-blue-50 text-center font-semibold text-blue-700 border border-blue-300"},Bo={key:1,class:"bg-blue-50 text-center font-semibold text-blue-700 border border-blue-300"},Do=["onInput","onBlur"],Ho={key:1,class:"bg-blue-50 text-center font-semibold text-blue-700 border border-blue-300"},Mo={key:1,class:"bg-blue-50 text-center font-semibold text-blue-700 border border-blue-300"},Yo={key:1,class:"bg-blue-50 text-center font-semibold text-blue-700 border border-blue-300"},Eo=["onInput","onBlur"],Po={key:1,class:"bg-blue-50 text-center font-semibold text-blue-700 border border-blue-300"},Vo={class:"mb-8"},Uo={class:"flex items-center gap-2 mb-2"},Go={class:"w-6 h-6 bg-gradient-to-br from-green-500 to-green-600 rounded-lg flex items-center justify-center"},$o={class:"mb-4 flex items-center gap-3"},zo={key:1,class:"text-xs inline-flex items-center px-2 py-0.5 rounded-full bg-green-300 text-green-900"},Jo={key:0,class:"text-xs inline-flex items-center px-2 py-0.5 rounded-full bg-red-300 text-red-900"},qo={key:1,class:"text-xs inline-flex items-center px-2 py-0.5 rounded-full bg-green-300 text-green-900"},Qo={class:"bg-white rounded-lg border border-green-200 shadow-sm overflow-hidden md:max-w-[1800px] lg:max-w-[1800px] xl:max-w-[2000px] 2xl:max-w-[2000px]"},Wo={class:"overflow-x-auto max-w-[100%] md:max-w-[1800px] lg:max-w-[1800px] xl:max-w-[2000px] 2xl:max-w-[2000px]"},Xo={class:"min-w-full w-max"},Ko={class:"w-full border border-green-300"},Zo={class:"bg-gradient-to-r from-green-600 to-green-700 text-white"},es={rowspan:"2",class:"px-3 py-2 text-left border-r font-semibold text-sm w-[300px] border border-green-300"},ts={class:"flex items-center gap-1"},ns=["colspan","onClick"],os={class:"flex items-center justify-center gap-1"},ss={class:"font-semibold"},rs={class:"bg-green-500/90 text-xs"},ls={class:"px-2 py-1 text-center border border-green-300 min-w-[100px] font-medium"},us={class:"text-gray-700 bg-white text-sm"},as={key:0},is=["colspan"],ds={key:1},cs={class:"px-2 py-1 text-right border border-green-200 bg-green-100 font-semibold",style:{"pointer-events":"none",opacity:"1"}},gs={class:"px-2 py-1 text-right border border-green-200 bg-green-100 font-semibold",style:{"pointer-events":"none",opacity:"1"}},bs={class:"px-2 py-1 text-right border border-green-200 bg-green-100 font-semibold",style:{"pointer-events":"none",opacity:"1"}},_s={class:"px-2 py-1 text-right border border-green-200 bg-green-100 font-semibold",style:{"pointer-events":"none",opacity:"1"}},ps={class:"px-2 py-1 text-right border border-green-200 bg-green-100 font-semibold",style:{"pointer-events":"none",opacity:"1"}},ms={class:"px-2 py-1 text-right border border-green-200 bg-green-100 font-semibold",style:{"pointer-events":"none",opacity:"1"}},vs={key:2},xs={class:"px-2 py-1 text-right border border-green-200 bg-green-100 font-semibold",style:{"pointer-events":"none",opacity:"1"}},fs={class:"px-2 py-1 text-right border border-green-200 bg-green-100 font-semibold",style:{"pointer-events":"none",opacity:"1"}},hs={class:"px-2 py-1 text-right border border-green-200 bg-green-100 font-semibold",style:{"pointer-events":"none",opacity:"1"}},ys={class:"px-2 py-1 text-right border border-green-200 bg-green-100 font-semibold",style:{"pointer-events":"none",opacity:"1"}},ws={class:"px-2 py-1 text-right border border-green-200 bg-green-100 font-semibold",style:{"pointer-events":"none",opacity:"1"}},ks={class:"px-2 py-1 text-right border border-green-200 bg-green-100 font-semibold",style:{"pointer-events":"none",opacity:"1"}},Cs={key:3},Ss={class:"px-2 py-1 text-right border border-green-200 bg-green-100 font-semibold",style:{"pointer-events":"none",opacity:"1"}},Fs={class:"px-2 py-1 text-right border border-green-200 bg-green-100 font-semibold",style:{"pointer-events":"none",opacity:"1"}},Ts={class:"px-2 py-1 text-right border border-green-200 bg-green-100 font-semibold",style:{"pointer-events":"none",opacity:"1"}},Os={class:"px-2 py-1 text-right border border-green-200 bg-green-100 font-semibold",style:{"pointer-events":"none",opacity:"1"}},Ls={class:"px-2 py-1 text-right border border-green-200 bg-green-100 font-semibold",style:{"pointer-events":"none",opacity:"1"}},Rs={class:"px-2 py-1 text-right border border-green-200 bg-green-100 font-semibold",style:{"pointer-events":"none",opacity:"1"}},Is={key:4},js={class:"px-2 py-1 text-right border border-green-200 bg-green-100 font-semibold",style:{"pointer-events":"none",opacity:"1"}},As={class:"px-2 py-1 text-right border border-green-200 bg-green-100 font-semibold",style:{"pointer-events":"none",opacity:"1"}},Ns={class:"px-2 py-1 text-right border border-green-200 bg-green-100 font-semibold",style:{"pointer-events":"none",opacity:"1"}},Bs={key:5},Ds=["onInput","onFocus","onBlur"],Hs=["onInput","onFocus","onBlur"],Ms=["onInput","onFocus","onBlur"],Ys={key:6},Es={class:"px-2 py-1 text-right border border-green-200 bg-green-100 font-semibold",style:{"pointer-events":"none",opacity:"1"}},Ps={class:"px-2 py-1 text-right border border-green-200 bg-green-100 font-semibold",style:{"pointer-events":"none",opacity:"1"}},Vs={class:"px-2 py-1 text-right border border-green-200 bg-green-100 font-semibold",style:{"pointer-events":"none",opacity:"1"}},Us=["onInput","onFocus","onBlur"],Gs=["onInput","onFocus","onBlur"],$s=["onInput","onFocus","onBlur"],zs={class:"px-2 py-1 text-right border border-green-200 bg-green-100 font-semibold",style:{"pointer-events":"none",opacity:"1"}},Js={key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-sm"},qs={class:"bg-white rounded-2xl shadow-2xl border border-violet-200 w-[95%] max-w-lg p-0 overflow-hidden"},Qs={class:"flex items-center gap-3 px-8 py-6 bg-gradient-to-r from-violet-600 to-violet-700"},Ws={class:"p-8 pt-6"},Xs={key:0,class:"mb-4 p-4 bg-yellow-50 border border-yellow-200 rounded-lg flex items-center gap-3"},Ks={key:1,class:"space-y-4 max-h-[50vh] overflow-auto pr-2"},Zs={class:"font-medium text-gray-700 flex items-center gap-2"},er=["onUpdate:modelValue"],tr={class:"flex justify-end gap-3 px-8 py-4 bg-gray-50 border-t border-violet-100"},nr={__name:"OOD_Data",setup(b){const _=M([]),c=M("monthly"),m=fe({}),p=fe({}),f=M(!1),k=M({}),C=M(!1),S=M(!0),T=M(!0),I=M({}),D=M({}),j=M([]),H=M(!1),U=M(""),P=M(!1),G=M(!1),Ge=M([]),me=Jt();function $e(){var i;return((i=$.value)==null?void 0:i.project_name)||"default"}const d=fe({in_house_guest_laundry_percentage:{},in_house_guest_laundry_base:{},in_house_guest_laundry_amount:{},in_house_dry_cleaning_percentage:{},in_house_dry_cleaning_base:{},in_house_dry_cleaning_amount:{},outside_guest_laundry_number:{},outside_guest_laundry_base:{},outside_guest_laundry_amount:{},guest_laundry_cost_percentage:{},guest_laundry_cost_amount:{},revenue_in_house:{},revenue_outside:{},revenue_other:{},other_laundry_costs:{}}),we=qt(),{fromYear:ie,toYear:de,advancedModes:W}=Pt(we),{setFromYear:or,setToYear:sr,setAdvancedModes:mt,clearYearSettings:vt,getFilteredToYears:xt}=we,y=je(()=>un(ie.value,de.value)),ft=je(()=>xt(_.value)),O=i=>cn(W.value[i]||c.value),ht=je(()=>Be);ne(y,()=>{y.value.forEach(i=>{W.value[i]||we.setAdvancedMode(i,c.value)})}),ne([m,p],()=>{},{deep:!0,immediate:!0}),ne(f,i=>{i&&(k.value=ge({},W.value))});function yt(){mt(ge({},k.value)),f.value=!1}function wt(){f.value=!1}Vt(()=>Q(this,null,function*(){try{if(yield Ut(),yield new Promise(i=>setTimeout(i,100)),_.value=yield mn(),$.value){const[i,t]=yield Promise.all([Ee($.value.project_name),Pe($.value.project_name)]);Object.assign(m,Fe(i||{})),Te(m),C.value=!0,ue=!0,Object.assign(p,Se(t||{}))}else m.value={status:"no_project_selected",message:"No project selected"},p.value={status:"no_project_selected",message:"No project selected"};I.value=Z(m),D.value=Z(p),G.value=!0,ue=!1,localStorage.getItem("showRefreshSuccess")==="true"&&(localStorage.removeItem("showRefreshSuccess"),oe.success("Page refreshed successfully"))}catch(i){console.error("Error loading data:",i)}})),ne($,(i,t)=>Q(this,null,function*(){if(i){try{const[e,l]=yield Promise.all([Ee(i.project_name),Pe(i.project_name)]);Object.assign(m,Fe(e||{})),Te(m),C.value=!0,ue=!0,Object.assign(p,Se(l||{})),I.value=Z(m),D.value=Z(p),j.value=[],U.value="",oe.success(`Switched to project: ${i.project_name}`)}catch(e){console.error("Error reloading OOD data for new project:",e),oe.error("Failed to load project data. Please try again.")}ue=!1}else m.value={status:"no_project_selected",message:"No project selected"},p.value={status:"no_project_selected",message:"No project selected"},I.value=Z(m),D.value=Z(p),j.value=[],C.value=!0,U.value=""}),{deep:!0});function kt(){vt(),C.value=!1}function B({year:i,label:t,field:e,event:l}){bn({year:i,label:t,field:e,event:l,originalOODData:I,changedCells:j,oodData:m,isSaved:C,isComponentReady:G})}const Ct=()=>Q(this,null,function*(){var i,t,e,l;try{H.value=!0,U.value="";const r={};for(const L of j.value){const{year:R,label:Y}=L;Y!=="Forecast"&&(r[R]||(r[R]={}),r[R][Y]=!0)}const u=[{section:"In House Guest Laundry Revenue",detail:"Percentage",key:"in_house_guest_laundry_percentage"},{section:"In House Guest Laundry Revenue",detail:"Base",key:"in_house_guest_laundry_base"},{section:"In House Guest Laundry Revenue",detail:"Average Amount",key:"in_house_guest_laundry_amount"},{section:"In House Dry Cleaning Revenue",detail:"Percentage",key:"in_house_dry_cleaning_percentage"},{section:"In House Dry Cleaning Revenue",detail:"Base",key:"in_house_dry_cleaning_base"},{section:"In House Dry Cleaning Revenue",detail:"Average Amount",key:"in_house_dry_cleaning_amount"},{section:"Outside Guest Laundry",detail:"Number",key:"outside_guest_laundry_number"},{section:"Outside Guest Laundry",detail:"Base",key:"outside_guest_laundry_base"},{section:"Outside Guest Laundry",detail:"Average Amount",key:"outside_guest_laundry_amount"},{section:"Guest Laundry Cost",detail:"Percentage",key:"guest_laundry_cost_percentage"},{section:"Guest Laundry Cost",detail:"Amount",key:"guest_laundry_cost_amount"},{section:"Revenue",detail:"Other Revenue",key:"revenue_other"},{section:"COST OF LAUNDRY",detail:"Other Laundry Costs",key:"other_laundry_costs"}],v=[];for(const L in r)for(const R in r[L]){const Y=[];for(const ee of u){const te=(t=(i=d[ee.key])==null?void 0:i[L])==null?void 0:t[R];te!==void 0&&te!==""&&Y.push({section:ee.section,detail:ee.detail,amount:te})}Y.length>0&&v.push(vn(L,R,Y,(e=$.value)==null?void 0:e.project_name))}if(v.length===0){H.value=!1;return}yield Promise.all(v);const N=yield Ee((l=$.value)==null?void 0:l.project_name);Object.assign(m,Fe(N||{})),Te(m),I.value=Z(m),oe.success("Laundry changes saved"),S.value=!0,H.value=!1}catch(r){U.value=r.message||"Failed to save laundry changes",oe.error(U.value),H.value=!1}}),St=()=>Q(this,null,function*(){var i,t,e,l,r;try{H.value=!0,U.value="";const u={};for(const L of j.value){const{year:R,label:Y}=L;Y!=="Forecast"&&(u[R]||(u[R]={}),u[R][Y]=!0)}const v=[];for(const L in u)for(const R in u[L]){const Y=new Map,ee=((t=(i=D.value)==null?void 0:i[L])==null?void 0:t[R])||[];for(const E of ee)E.section&&E.detail&&Y.set(`${E.section}||${E.detail}`,Number(E.amount)||0);const te=((e=p[L])==null?void 0:e[R])||[];for(const E of te)E.section&&E.detail&&Y.set(`${E.section}||${E.detail}`,Number(E.amount)||0);const ce=[];for(const[E,Re]of Y.entries()){const[ve,xe]=E.split("||");ce.push({section:ve,detail:xe,amount:Re})}ce.length>0&&v.push(xn(L,R,ce,(l=$.value)==null?void 0:l.project_name))}if(v.length===0){H.value=!1;return}yield Promise.all(v);const N=yield Pe((r=$.value)==null?void 0:r.project_name);ue=!0,Object.assign(p,Se(N||{})),D.value=Z(p),oe.success("Health Club changes saved"),T.value=!0,H.value=!1,ue=!1}catch(u){U.value=u.message||"Failed to save health club changes",oe.error(U.value),H.value=!1}});ne(C,i=>{i?window.removeEventListener("beforeunload",ke):window.addEventListener("beforeunload",ke)});function ke(i){if(!C.value)return i.preventDefault(),i.returnValue="You have unsaved changes that may be discarded if not saved. Are you sure you want to leave?",i.returnValue}Gt(()=>{window.removeEventListener("beforeunload",ke)});function Ft(){localStorage.setItem("showRefreshSuccess","true"),window.location.reload()}function re(i,t,e,l,r="monthly"){var u;if(t==="in_house_guest_laundry"||t==="in_house_dry_cleaning"){const v=(u=$.value)==null?void 0:u.project_name,R=me.getValue(v,"F&B Revenue Assumptions","Number of guests",e,l);return rn(m.static,t,e,l,R)}return gn(i,t,e,l,r)}function ze(i){_n(i,Ge)}function F(i){return pn(i,Ge)}function X(i){return["total_club_use_revenue","total_treatments_other_services","total_memberships","total_health_club_spa","service_charge","total_health_club_rev_including_sc"].includes(i)}function V(i){let t;"value"in i.target?t=i.target.value:"innerText"in i.target?t=i.target.innerText:t="",t=t.replace(/[^0-9.]/g,"");const e=t.split(".");return e.length>2&&(t=e[0]+"."+e.slice(1).join("")),t=t.replace(/^0+(?!\.)/,""),"value"in i.target?i.target.value=t:"innerText"in i.target&&(i.target.innerText=t),t}function Je(i,t,e,l){let r=i.target.innerText.replace(/[^\d.]/g,"");const u=r.split(".");u.length>2&&(r=u[0]+"."+u.slice(1).join("")),r=r.replace(/^0+(?!\.)/,""),i.target.innerText=r,t[e]||(t[e]={}),t[e][l]=r}function qe(i){const t=(i.clipboardData||window.clipboardData).getData("text");/[^\d.]/.test(t)&&(i.preventDefault(),document.execCommand("insertText",!1,t.replace(/[^\d.]/g,"")))}const Ce=(i,t)=>{var ve,xe,Qe,We,Xe,Ke,Ze,et,tt,nt,ot,st,rt;const e=(ve=$.value)==null?void 0:ve.project_name,u=me.getValue(e,"F&B Revenue Assumptions","Number of guests",i,t),v=Number(((Qe=(xe=d.in_house_guest_laundry_percentage)==null?void 0:xe[i])==null?void 0:Qe[t])||0)/100,N=((Xe=(We=d.in_house_guest_laundry_base)==null?void 0:We[i])==null?void 0:Xe[t])||"per_month",L=Number(((Ze=(Ke=d.in_house_guest_laundry_amount)==null?void 0:Ke[i])==null?void 0:Ze[t])||0),R=Number(((tt=(et=d.in_house_dry_cleaning_percentage)==null?void 0:et[i])==null?void 0:tt[t])||0)/100,Y=((ot=(nt=d.in_house_dry_cleaning_base)==null?void 0:nt[i])==null?void 0:ot[t])||"per_month",ee=Number(((rt=(st=d.in_house_dry_cleaning_amount)==null?void 0:st[i])==null?void 0:rt[t])||0),te=N==="per_week"?4:1,ce=Y==="per_week"?4:1,E=v*te*L*Number(u||0),Re=R*ce*ee*Number(u||0);return E+Re},Tt=(i,t)=>ln(d,i,t,Ce,(e,l,r)=>De(e,l,r));function Ot(i,t){var N,L;const e=Number(Ce(i,t)||0),l=Number(De(d,i,t)||0),r=Number(((L=(N=d.revenue_other)==null?void 0:N[i])==null?void 0:L[t])||0),u=e+l+r,v=$e();return me.setValue(v,"OOD Revenue Assumptions","Total Laundry Revenue",i,t,u),u}function Lt(i,t){const e=Number(ye(p,i,t)||0),l=$e();return me.setValue(l,"OOD Revenue Assumptions","Total Health Club Rev Including SC",i,t,e),e}ne([()=>p,y],()=>{var i;try{if(!((i=y.value)!=null&&i.length))return;for(const t of y.value)for(const e of O(t))Lt(t,e)}catch(t){}},{deep:!0}),ne(d,()=>{Oe||(S.value=!1)},{deep:!0});function Rt(i){const t=Be.find(e=>e.code===i);return t?{section:t.section,detail:t.label}:{section:"",detail:i}}function le({year:i,label:t,field:e,event:l}){const r=typeof l.target.value=="string"?l.target.value.trim():l.target.textContent.trim(),u=r===""?0:Number(r.replace(/[^\d.-]/g,""));p[i]||(p[i]={}),Array.isArray(p[i][t])||(p[i][t]=[]);const{section:v,detail:N}=Rt(e),L=p[i][t].findIndex(R=>R.field===e);L>=0?(p[i][t][L].amount=u,p[i][t][L].section=v,p[i][t][L].detail=N):p[i][t].push({field:e,section:v,detail:N,amount:u}),T.value=!1}function It(i,t){const e=Be.find(l=>l.section===i&&l.label===t);return e?e.code:void 0}function Se(i){var e;const t={};for(const l in i){t[l]={};for(const r in i[l]){const u=(((e=i[l][r])==null?void 0:e.health_club_table)||[]).map(v=>Ie(ge({},v),{field:It(v.section,v.detail)}));t[l][r]=u}}return t}function jt(i,t){if(i==="In House Guest Laundry Revenue")return"in_house_guest_laundry";if(i==="In House Dry Cleaning Revenue")return"in_house_dry_cleaning";if(i==="Outside Guest Laundry")return"outside_guest_laundry";if(i==="Guest Laundry Cost")return"guest_laundry_cost";if(i==="Revenue"&&t==="Other Revenue")return"revenue_other";if(i==="COST OF LAUNDRY"&&t==="Other Laundry Costs")return"other_laundry_costs";const e=sn.find(l=>l.label===i);return e?e.code:void 0}function Fe(i){var e;const t={};for(const l in i){t[l]={};for(const r in i[l]){const u=(((e=i[l][r])==null?void 0:e.laundry_table)||[]).map(v=>Ie(ge({},v),{field:jt(v.section,v.detail)}));t[l][r]=u}}return t}function Te(i){Oe=!0,Object.keys(d).forEach(t=>{d[t]={}});for(const t in i)for(const e in i[t])for(const l of i[t][e])switch(l.field){case"in_house_guest_laundry":l.detail==="Percentage"?(d.in_house_guest_laundry_percentage[t]||(d.in_house_guest_laundry_percentage[t]={}),d.in_house_guest_laundry_percentage[t][e]=l.amount):l.detail==="Base"?(d.in_house_guest_laundry_base[t]||(d.in_house_guest_laundry_base[t]={}),d.in_house_guest_laundry_base[t][e]=l.base):l.detail==="Average Amount"&&(d.in_house_guest_laundry_amount[t]||(d.in_house_guest_laundry_amount[t]={}),d.in_house_guest_laundry_amount[t][e]=l.amount);break;case"in_house_dry_cleaning":l.detail==="Percentage"?(d.in_house_dry_cleaning_percentage[t]||(d.in_house_dry_cleaning_percentage[t]={}),d.in_house_dry_cleaning_percentage[t][e]=l.amount):l.detail==="Base"?(d.in_house_dry_cleaning_base[t]||(d.in_house_dry_cleaning_base[t]={}),d.in_house_dry_cleaning_base[t][e]=l.base):l.detail==="Average Amount"&&(d.in_house_dry_cleaning_amount[t]||(d.in_house_dry_cleaning_amount[t]={}),d.in_house_dry_cleaning_amount[t][e]=l.amount);break;case"outside_guest_laundry":l.detail==="Number"?(d.outside_guest_laundry_number[t]||(d.outside_guest_laundry_number[t]={}),d.outside_guest_laundry_number[t][e]=l.amount):l.detail==="Base"?(d.outside_guest_laundry_base[t]||(d.outside_guest_laundry_base[t]={}),d.outside_guest_laundry_base[t][e]=l.base):l.detail==="Average Amount"&&(d.outside_guest_laundry_amount[t]||(d.outside_guest_laundry_amount[t]={}),d.outside_guest_laundry_amount[t][e]=l.amount);break;case"guest_laundry_cost":l.detail==="Percentage"?(d.guest_laundry_cost_percentage[t]||(d.guest_laundry_cost_percentage[t]={}),d.guest_laundry_cost_percentage[t][e]=l.amount):l.detail==="Amount"&&(d.guest_laundry_cost_amount[t]||(d.guest_laundry_cost_amount[t]={}),d.guest_laundry_cost_amount[t][e]=l.amount);break;case"revenue_other":d.revenue_other[t]||(d.revenue_other[t]={}),d.revenue_other[t][e]=l.amount;break;case"other_laundry_costs":d.other_laundry_costs[t]||(d.other_laundry_costs[t]={}),d.other_laundry_costs[t][e]=l.amount;break}$t(()=>{Oe=!1})}let Oe=!1,ue=!1;const Le=M(!1);fe({});function At(){Le.value=!0}function Nt(){Le.value=!1}return(i,t)=>(o(),s(a,null,[n("div",jn,[A(Qt,{onOpenSettings:At}),n("div",An,[n("div",Nn,[n("div",{class:z(["bg-gradient-to-b from-white to-gray-50 border-r border-gray-200 min-h-screen flex flex-col shadow-sm transition-all duration-300",P.value?"w-14 p-2":"w-80 p-6"])},[n("button",{onClick:t[0]||(t[0]=e=>P.value=!P.value),class:"mb-4 flex items-center gap-2 px-2 py-1 bg-violet-100 hover:bg-violet-200 rounded transition-all dark:bg-violet-900/30 dark:hover:bg-violet-800/40"},[P.value?(o(),K(g(Ne),{key:1,class:"w-5 h-5 text-violet-700 dark:text-white"})):(o(),K(g(on),{key:0,class:"w-5 h-5 text-violet-700 dark:text-white"})),P.value?q("",!0):(o(),s("span",Bn,"Collapse"))]),A(it,{name:"fade"},{default:Ve(()=>[he(n("div",null,[n("div",Dn,[n("div",Hn,[n("div",Mn,[A(g(Wt),{class:"w-7 h-7 mx-2 text-white"})]),t[4]||(t[4]=n("h1",{class:"text-2xl font-bold text-gray-900"},"Other Operating Departments Revenue Assumptions",-1))]),t[5]||(t[5]=n("p",{class:"text-sm text-gray-500"},"Manage and configure your other operating departments data",-1))]),n("div",Yn,[t[7]||(t[7]=n("h3",{class:"text-sm font-semibold text-gray-700 mb-3 flex items-center gap-2"},[n("svg",{class:"w-4 h-4 text-violet-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})]),J(" Quick Actions ")],-1)),n("div",En,[n("button",{onClick:Ft,class:"w-full flex items-center justify-center gap-2 px-3 py-2 bg-white border border-violet-200 text-violet-700 rounded-lg hover:bg-violet-50 transition-all text-sm font-medium"},[A(g(Xt),{class:"w-4 h-4"}),t[6]||(t[6]=J(" Refresh ",-1))])])]),n("div",Pn,[n("div",Vn,[t[14]||(t[14]=n("h3",{class:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2"},[n("svg",{class:"w-5 h-5 text-violet-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})]),J(" Year Range Filter ")],-1)),n("div",Un,[n("div",Gn,[n("div",null,[t[9]||(t[9]=n("label",{class:"text-sm font-medium text-gray-700 mb-2 flex items-center gap-1"},[n("svg",{class:"w-3 h-3 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})]),J(" From Year ")],-1)),he(n("select",{disabled:"","onUpdate:modelValue":t[1]||(t[1]=e=>at(ie)?ie.value=e:null),class:"w-full px-3 py-2.5 rounded-lg border border-gray-300 focus:border-violet-500 focus:ring-2 focus:ring-violet-200 transition-all bg-gray-100 text-sm"},[t[8]||(t[8]=n("option",{value:""},"Select Year",-1)),(o(!0),s(a,null,x(_.value,e=>(o(),s("option",{key:"from-"+e,value:e},h(e),9,$n))),128))],512),[[Ae,g(ie)]])]),n("div",null,[t[11]||(t[11]=n("label",{class:"text-sm font-medium text-gray-700 mb-2 flex items-center gap-1"},[n("svg",{class:"w-3 h-3 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})]),J(" To Year ")],-1)),he(n("select",{disabled:"","onUpdate:modelValue":t[2]||(t[2]=e=>at(de)?de.value=e:null),class:"w-full px-3 py-2.5 rounded-lg border border-gray-300 focus:border-violet-500 focus:ring-2 focus:ring-violet-200 transition-all bg-gray-100 text-sm"},[t[10]||(t[10]=n("option",{value:""},"Select Year",-1)),(o(!0),s(a,null,x(ft.value,e=>(o(),s("option",{key:"to-"+e,value:e},h(e),9,zn))),128))],512),[[Ae,g(de)]])])]),n("div",Jn,[n("button",{onClick:kt,class:"flex-1 flex items-center justify-center gap-2 px-3 py-2.5 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-all duration-200 text-sm font-medium"},t[12]||(t[12]=[n("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1),J(" Clear ",-1)])),n("button",{onClick:t[3]||(t[3]=e=>f.value=!0),class:"flex-1 flex items-center justify-center gap-2 px-3 py-2.5 bg-white border border-violet-500 text-violet-700 rounded-lg hover:bg-violet-50 transition-all duration-200 text-sm font-medium"},t[13]||(t[13]=[n("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})],-1),J(" Advanced ",-1)]))])])])])],512),[[zt,!P.value]])]),_:1})],2),n("div",qn,[g($)?y.value.length&&G.value?(o(),s(a,{key:1},[n("div",Qn,[n("div",Wn,[n("div",Xn,[A(g(gt),{class:"w-4 h-4 text-white"})]),t[15]||(t[15]=n("h2",{class:"text-lg font-bold text-gray-800"},"Laundry",-1))]),n("div",Kn,[!S.value&&!H.value?(o(),s("button",{key:0,onClick:Ct,class:"px-3 py-1.5 text-xs bg-blue-600 text-white rounded-md hover:bg-blue-700 transition"}," Save Laundry ")):q("",!0),H.value?(o(),s("span",Zn," Saving... ")):(o(),s(a,{key:2},[S.value?(o(),s("span",to," Saved ")):(o(),s("span",eo," Unsaved "))],64))]),n("div",no,[n("table",oo,[n("thead",so,[n("tr",null,[n("th",ro,[n("div",lo,[A(g(ct),{class:"w-3 h-3"}),t[16]||(t[16]=J(" Assumption Details ",-1))])]),(o(!0),s(a,null,x(y.value,e=>(o(),s("th",{key:"header-"+e,colspan:F(e)?1:O(e).length,class:"px-2 py-2 text-center font-semibold text-white bg-blue-700 border border-blue-300 cursor-pointer select-none group",onClick:l=>ze(e),title:"Click to collapse/expand"},[n("div",ao,[n("span",io,h(e),1),F(e)?(o(),K(g(Ne),{key:1,class:"w-3 h-3 transition-transform group-hover:scale-110"})):(o(),K(g(dt),{key:0,class:"w-3 h-3 transition-transform group-hover:scale-110"}))])],8,uo))),128))]),n("tr",null,[(o(!0),s(a,null,x(y.value,e=>(o(),s(a,{key:"months-"+e},[F(e)?(o(),s("th",co,"Forecast")):(o(!0),s(a,{key:0},x(O(e),l=>(o(),s("th",{key:e+"-"+l,class:"px-2 py-1 text-center font-medium text-xs border border-white min-w-[100px] bg-blue-500 text-white"},h(l),1))),128))],64))),128))])]),n("tbody",null,[t[37]||(t[37]=n("tr",{class:"bg-blue-100"},[n("td",{colspan:"100",class:"font-semibold text-blue-900 px-4 py-2 border border-blue-300"},"In House Guest Laundry Revenue")],-1)),n("tr",null,[t[17]||(t[17]=n("td",{class:"px-4 py-2 font-medium text-gray-700 border border-blue-300"},"Percentage",-1)),(o(!0),s(a,null,x(y.value,e=>(o(),s(a,{key:"perc-guest-"+e},[F(e)?(o(),s("td",bo,"-")):(o(!0),s(a,{key:0},x(O(e),l=>{var r;return o(),s("td",{key:"perc-guest-"+e+"-"+l,class:"border border-blue-300"},[n("input",{type:"number",value:((r=d.in_house_guest_laundry_percentage[e])==null?void 0:r[l])||"",onInput:u=>{const v=V(u);d.in_house_guest_laundry_percentage[e]||(d.in_house_guest_laundry_percentage[e]={}),d.in_house_guest_laundry_percentage[e][l]=v},placeholder:"0%",class:"borderless-input w-full",onBlur:u=>B({year:e,label:l,field:"in_house_guest_laundry_percentage",event:u})},null,40,go)])}),128))],64))),128))]),n("tr",null,[t[19]||(t[19]=n("td",{class:"px-4 py-2 font-medium text-gray-700 border border-blue-300"},"Base",-1)),(o(!0),s(a,null,x(y.value,e=>(o(),s(a,{key:"base-guest-"+e},[F(e)?(o(),s("td",po,"-")):(o(!0),s(a,{key:0},x(O(e),l=>{var r;return o(),s("td",{key:"base-guest-"+e+"-"+l,class:"border border-blue-300"},[n("select",{value:((r=d.in_house_guest_laundry_base[e])==null?void 0:r[l])||"",onChange:u=>{d.in_house_guest_laundry_base[e]||(d.in_house_guest_laundry_base[e]={}),d.in_house_guest_laundry_base[e][l]=u.target.value},class:"borderless-input w-full",onBlur:u=>B({year:e,label:l,field:"in_house_guest_laundry_base",event:u})},t[18]||(t[18]=[n("option",{disabled:"",value:""},"Select base",-1),n("option",{value:"per_month"},"per month",-1),n("option",{value:"per_week"},"per week",-1)]),40,_o)])}),128))],64))),128))]),n("tr",null,[t[20]||(t[20]=n("td",{class:"px-4 py-2 font-medium text-gray-700 border border-blue-300"},"Average Amount",-1)),(o(!0),s(a,null,x(y.value,e=>(o(),s(a,{key:"amt-guest-"+e},[F(e)?(o(),s("td",vo,"-")):(o(!0),s(a,{key:0},x(O(e),l=>{var r;return o(),s("td",{key:"amt-guest-"+e+"-"+l,class:"border border-blue-300"},[n("input",{type:"number",value:((r=d.in_house_guest_laundry_amount[e])==null?void 0:r[l])||"",onInput:u=>{const v=V(u);d.in_house_guest_laundry_amount[e]||(d.in_house_guest_laundry_amount[e]={}),d.in_house_guest_laundry_amount[e][l]=v},placeholder:"0",class:"borderless-input w-full",onBlur:u=>B({year:e,label:l,field:"in_house_guest_laundry_amount",event:u})},null,40,mo)])}),128))],64))),128))]),t[38]||(t[38]=n("tr",{class:"bg-blue-100"},[n("td",{colspan:"100",class:"font-semibold text-blue-900 px-4 py-2 border border-blue-300"},"In House Dry Cleaning Revenue")],-1)),n("tr",null,[t[21]||(t[21]=n("td",{class:"px-4 py-2 font-medium text-gray-700 border border-blue-300"},"Percentage",-1)),(o(!0),s(a,null,x(y.value,e=>(o(),s(a,{key:"perc-dry-"+e},[F(e)?(o(),s("td",fo,"-")):(o(!0),s(a,{key:0},x(O(e),l=>{var r;return o(),s("td",{key:"perc-dry-"+e+"-"+l,class:"border border-blue-300"},[n("input",{type:"number",value:((r=d.in_house_dry_cleaning_percentage[e])==null?void 0:r[l])||"",onInput:u=>{const v=V(u);d.in_house_dry_cleaning_percentage[e]||(d.in_house_dry_cleaning_percentage[e]={}),d.in_house_dry_cleaning_percentage[e][l]=v},placeholder:"0%",class:"borderless-input w-full",onBlur:u=>B({year:e,label:l,field:"in_house_dry_cleaning_percentage",event:u})},null,40,xo)])}),128))],64))),128))]),n("tr",null,[t[23]||(t[23]=n("td",{class:"px-4 py-2 font-medium text-gray-700 border border-blue-300"},"Base",-1)),(o(!0),s(a,null,x(y.value,e=>(o(),s(a,{key:"base-dry-"+e},[F(e)?(o(),s("td",yo,"-")):(o(!0),s(a,{key:0},x(O(e),l=>{var r;return o(),s("td",{key:"base-dry-"+e+"-"+l,class:"border border-blue-300"},[n("select",{value:((r=d.in_house_dry_cleaning_base[e])==null?void 0:r[l])||"",onChange:u=>{d.in_house_dry_cleaning_base[e]||(d.in_house_dry_cleaning_base[e]={}),d.in_house_dry_cleaning_base[e][l]=u.target.value},class:"borderless-input w-full",onBlur:u=>B({year:e,label:l,field:"in_house_dry_cleaning_base",event:u})},t[22]||(t[22]=[n("option",{disabled:"",value:""},"Select base",-1),n("option",{value:"per_month"},"per month",-1),n("option",{value:"per_week"},"per week",-1)]),40,ho)])}),128))],64))),128))]),n("tr",null,[t[24]||(t[24]=n("td",{class:"px-4 py-2 font-medium text-gray-700 border border-blue-300"},"Average Amount",-1)),(o(!0),s(a,null,x(y.value,e=>(o(),s(a,{key:"amt-dry-"+e},[F(e)?(o(),s("td",ko,"-")):(o(!0),s(a,{key:0},x(O(e),l=>{var r;return o(),s("td",{key:"amt-dry-"+e+"-"+l,class:"border border-blue-300"},[n("input",{type:"number",value:((r=d.in_house_dry_cleaning_amount[e])==null?void 0:r[l])||"",onInput:u=>{const v=V(u);d.in_house_dry_cleaning_amount[e]||(d.in_house_dry_cleaning_amount[e]={}),d.in_house_dry_cleaning_amount[e][l]=v},placeholder:"0",class:"borderless-input w-full",onBlur:u=>B({year:e,label:l,field:"in_house_dry_cleaning_amount",event:u})},null,40,wo)])}),128))],64))),128))]),t[39]||(t[39]=n("tr",{class:"bg-blue-100"},[n("td",{colspan:"100",class:"font-semibold text-blue-900 px-4 py-2 border border-blue-300"},"Outside Guest Laundry")],-1)),n("tr",null,[t[25]||(t[25]=n("td",{class:"px-4 py-2 font-medium text-gray-700 border border-blue-300"},"Number",-1)),(o(!0),s(a,null,x(y.value,e=>(o(),s(a,{key:"num-outside-"+e},[F(e)?(o(),s("td",So,"-")):(o(!0),s(a,{key:0},x(O(e),l=>{var r;return o(),s("td",{key:"num-outside-"+e+"-"+l,class:"border border-blue-300"},[n("input",{type:"number",value:((r=d.outside_guest_laundry_number[e])==null?void 0:r[l])||"",onInput:u=>{const v=V(u);d.outside_guest_laundry_number[e]||(d.outside_guest_laundry_number[e]={}),d.outside_guest_laundry_number[e][l]=v},placeholder:"0",class:"borderless-input w-full",onBlur:u=>B({year:e,label:l,field:"outside_guest_laundry_number",event:u})},null,40,Co)])}),128))],64))),128))]),n("tr",null,[t[27]||(t[27]=n("td",{class:"px-4 py-2 font-medium text-gray-700 border border-blue-300"},"Base",-1)),(o(!0),s(a,null,x(y.value,e=>(o(),s(a,{key:"base-outside-"+e},[F(e)?(o(),s("td",To,"-")):(o(!0),s(a,{key:0},x(O(e),l=>{var r;return o(),s("td",{key:"base-outside-"+e+"-"+l,class:"border border-blue-300"},[n("select",{value:((r=d.outside_guest_laundry_base[e])==null?void 0:r[l])||"",onChange:u=>{d.outside_guest_laundry_base[e]||(d.outside_guest_laundry_base[e]={}),d.outside_guest_laundry_base[e][l]=u.target.value},class:"borderless-input w-full",onBlur:u=>B({year:e,label:l,field:"outside_guest_laundry_base",event:u})},t[26]||(t[26]=[n("option",{disabled:"",value:""},"Select base",-1),n("option",{value:"per_month"},"per month",-1),n("option",{value:"per_week"},"per week",-1)]),40,Fo)])}),128))],64))),128))]),n("tr",null,[t[28]||(t[28]=n("td",{class:"px-4 py-2 font-medium text-gray-700 border border-blue-300"},"Average Amount",-1)),(o(!0),s(a,null,x(y.value,e=>(o(),s(a,{key:"amt-outside-"+e},[F(e)?(o(),s("td",Lo,"-")):(o(!0),s(a,{key:0},x(O(e),l=>{var r;return o(),s("td",{key:"amt-outside-"+e+"-"+l,class:"border border-blue-300"},[n("input",{type:"number",value:((r=d.outside_guest_laundry_amount[e])==null?void 0:r[l])||"",onInput:u=>{const v=V(u);d.outside_guest_laundry_amount[e]||(d.outside_guest_laundry_amount[e]={}),d.outside_guest_laundry_amount[e][l]=v},placeholder:"0",class:"borderless-input w-full",onBlur:u=>B({year:e,label:l,field:"outside_guest_laundry_amount",event:u})},null,40,Oo)])}),128))],64))),128))]),t[40]||(t[40]=n("tr",{class:"bg-blue-100"},[n("td",{colspan:"100",class:"font-semibold text-blue-900 px-4 py-2 border border-blue-300"},"Guest Laundry Cost")],-1)),n("tr",null,[t[29]||(t[29]=n("td",{class:"px-4 py-2 font-medium text-gray-700 border border-blue-300"},"Percentage",-1)),(o(!0),s(a,null,x(y.value,e=>(o(),s(a,{key:"perc-cost-"+e},[F(e)?(o(),s("td",Io,"-")):(o(!0),s(a,{key:0},x(O(e),l=>{var r,u,v;return o(),s("td",{key:"perc-cost-"+e+"-"+l,class:"border border-blue-300"},[n("input",{type:"number",value:((r=d.guest_laundry_cost_percentage[e])==null?void 0:r[l])||"",onInput:N=>{const L=V(N);d.guest_laundry_cost_percentage[e]||(d.guest_laundry_cost_percentage[e]={}),d.guest_laundry_cost_percentage[e][l]=L,L>0&&(d.guest_laundry_cost_amount[e]||(d.guest_laundry_cost_amount[e]={}),d.guest_laundry_cost_amount[e][l]="")},disabled:Number(((u=d.guest_laundry_cost_amount[e])==null?void 0:u[l])||0)>0,placeholder:"0%",class:z(["borderless-input w-full",Number(((v=d.guest_laundry_cost_amount[e])==null?void 0:v[l])||0)>0?"bg-gray-100 cursor-not-allowed":""]),onBlur:N=>B({year:e,label:l,field:"guest_laundry_cost_percentage",event:N})},null,42,Ro)])}),128))],64))),128))]),n("tr",null,[t[30]||(t[30]=n("td",{class:"px-4 py-2 font-medium text-gray-700 border border-blue-300"},"Average Amount",-1)),(o(!0),s(a,null,x(y.value,e=>(o(),s(a,{key:"amt-cost-"+e},[F(e)?(o(),s("td",Ao,"-")):(o(!0),s(a,{key:0},x(O(e),l=>{var r,u,v;return o(),s("td",{key:"amt-cost-"+e+"-"+l,class:"border border-blue-300"},[n("input",{type:"number",value:((r=d.guest_laundry_cost_amount[e])==null?void 0:r[l])||"",onInput:N=>{const L=V(N);d.guest_laundry_cost_amount[e]||(d.guest_laundry_cost_amount[e]={}),d.guest_laundry_cost_amount[e][l]=L,L>0&&(d.guest_laundry_cost_percentage[e]||(d.guest_laundry_cost_percentage[e]={}),d.guest_laundry_cost_percentage[e][l]="")},disabled:Number(((u=d.guest_laundry_cost_percentage[e])==null?void 0:u[l])||0)>0,placeholder:"0",class:z(["borderless-input w-full",Number(((v=d.guest_laundry_cost_percentage[e])==null?void 0:v[l])||0)>0?"bg-gray-100 cursor-not-allowed":""]),onBlur:N=>B({year:e,label:l,field:"guest_laundry_cost_amount",event:N})},null,42,jo)])}),128))],64))),128))]),t[41]||(t[41]=n("tr",{class:"bg-blue-100"},[n("td",{colspan:"100",class:"font-semibold bg-blue-700 text-white px-4 py-2 border border-blue-300"},"Revenue")],-1)),n("tr",null,[t[31]||(t[31]=n("td",{class:"px-4 py-2 font-medium text-gray-700 border flex justify-between items-end"},[n("span",null,"In House"),n("span",{class:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800"}," Auto ")],-1)),(o(!0),s(a,null,x(y.value,e=>(o(),s(a,{key:"rev-inhouse-"+e},[F(e)?(o(),s("td",No,"-")):(o(!0),s(a,{key:0},x(O(e),l=>(o(),s("td",{key:"rev-inhouse-"+e+"-"+l,class:"px-2 py-1 text-right text-blue-700 bg-blue-50 min-w-[110px] border border-blue-300"},h(g(w)("revenue_in_house",Ce(e,l))),1))),128))],64))),128))]),n("tr",null,[t[32]||(t[32]=n("td",{class:"px-4 py-2 font-medium text-gray-700 flex justify-between items-end"},[n("span",null,"Outside"),n("span",{class:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800"}," Auto ")],-1)),(o(!0),s(a,null,x(y.value,e=>(o(),s(a,{key:"rev-outside-"+e},[F(e)?(o(),s("td",Bo,"-")):(o(!0),s(a,{key:0},x(O(e),l=>(o(),s("td",{key:"rev-outside-"+e+"-"+l,class:"px-2 py-1 text-right text-blue-700 bg-blue-50 min-w-[110px] border border-blue-300"},h(g(w)("revenue_outside",g(De)(d,e,l))),1))),128))],64))),128))]),n("tr",null,[t[33]||(t[33]=n("td",{class:"px-4 py-2 font-medium text-gray-700 border border-blue-300"},"Other Revenue",-1)),(o(!0),s(a,null,x(y.value,e=>(o(),s(a,{key:"rev-other-"+e},[F(e)?(o(),s("td",Ho,"-")):(o(!0),s(a,{key:0},x(O(e),l=>{var r,u;return o(),s("td",{key:"rev-other-"+e+"-"+l,class:"px-2 py-1 text-right text-blue-700 bg-blue-50 min-w-[110px] border border-blue-300",contenteditable:"true",onInput:v=>Je(v,d.revenue_other,e,l),onPaste:qe,onBlur:v=>B({year:e,label:l,field:"revenue_other",event:v})},h(g(w)("revenue_other",((u=(r=d.revenue_other)==null?void 0:r[e])==null?void 0:u[l])||"")),41,Do)}),128))],64))),128))]),n("tr",null,[t[34]||(t[34]=n("td",{class:"px-4 py-2 font-medium text-gray-700 flex justify-between items-end"},[n("span",null,"Total Laundry Revenue"),n("span",{class:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800"}," Auto ")],-1)),(o(!0),s(a,null,x(y.value,e=>(o(),s(a,{key:"rev-total-"+e},[F(e)?(o(),s("td",Mo,"-")):(o(!0),s(a,{key:0},x(O(e),l=>(o(),s("td",{key:"rev-total-"+e+"-"+l,class:"px-2 py-1 text-right text-blue-700 bg-blue-50 min-w-[110px] border border-blue-300"},h(g(w)("total_laundry_revenue",Ot(e,l))),1))),128))],64))),128))]),t[42]||(t[42]=n("tr",{class:"bg-blue-100"},[n("td",{colspan:"100",class:"font-semibold bg-blue-700 text-white px-4 py-2 border border-blue-300"},"COST OF LAUNDRY")],-1)),n("tr",null,[t[35]||(t[35]=n("td",{class:"px-4 py-2 font-medium text-gray-700 flex justify-between items-end"},[n("span",null,"Guest Laundry Cost"),n("span",{class:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800"}," Auto ")],-1)),(o(!0),s(a,null,x(y.value,e=>(o(),s(a,{key:"cost-guest-"+e},[F(e)?(o(),s("td",Yo,"-")):(o(!0),s(a,{key:0},x(O(e),l=>(o(),s("td",{key:"cost-guest-"+e+"-"+l,class:"px-2 py-1 text-right text-blue-700 bg-blue-50 min-w-[110px] border border-blue-300"},h(g(w)("guest_laundry_cost",Tt(e,l))),1))),128))],64))),128))]),n("tr",null,[t[36]||(t[36]=n("td",{class:"px-4 py-2 font-medium text-gray-700 border border-blue-300"},"Other Laundry Costs",-1)),(o(!0),s(a,null,x(y.value,e=>(o(),s(a,{key:"cost-other-"+e},[F(e)?(o(),s("td",Po,"-")):(o(!0),s(a,{key:0},x(O(e),l=>{var r,u;return o(),s("td",{key:"cost-other-"+e+"-"+l,class:"px-2 py-1 text-right text-blue-700 bg-blue-50 min-w-[110px] border border-blue-300",contenteditable:"true",onInput:v=>Je(v,d.other_laundry_costs,e,l),onPaste:qe,onBlur:v=>B({year:e,label:l,field:"other_laundry_costs",event:v})},h(g(w)("other_laundry_costs",((u=(r=d.other_laundry_costs)==null?void 0:r[e])==null?void 0:u[l])||"")),41,Eo)}),128))],64))),128))])])])])]),n("div",Vo,[n("div",Uo,[n("div",Go,[A(g(gt),{class:"w-4 h-4 text-white"})]),t[43]||(t[43]=n("h2",{class:"text-lg font-bold text-gray-800"},"Health Club",-1))]),n("div",$o,[!T.value&&!H.value?(o(),s("button",{key:0,onClick:St,class:"px-3 py-1.5 text-xs bg-green-600 text-white rounded-md hover:bg-green-700 transition"}," Save Health Club ")):q("",!0),H.value?(o(),s("span",zo," Saving... ")):(o(),s(a,{key:2},[T.value?(o(),s("span",qo," Saved ")):(o(),s("span",Jo," Unsaved "))],64))]),n("div",Qo,[n("div",Wo,[n("div",Xo,[n("table",Ko,[n("thead",Zo,[n("tr",null,[n("th",es,[n("div",ts,[A(g(ct),{class:"w-3 h-3"}),t[44]||(t[44]=J(" Details ",-1))])]),(o(!0),s(a,null,x(y.value,e=>(o(),s("th",{key:"header-"+e,colspan:F(e)?2:O(e).length*2+2,class:"px-2 py-2 text-center border-x-2 border-white cursor-pointer select-none hover:bg-green-700 transition-all duration-200 group text-sm",onClick:l=>ze(e),title:"Click to collapse/expand"},[n("div",os,[n("span",ss,h(e),1),F(e)?(o(),K(g(Ne),{key:1,class:"w-3 h-3 transition-transform group-hover:scale-110"})):(o(),K(g(dt),{key:0,class:"w-3 h-3 transition-transform group-hover:scale-110"}))])],8,ns))),128))]),n("tr",rs,[(o(!0),s(a,null,x(y.value,e=>(o(),s(a,{key:"months-"+e},[F(e)?(o(),s(a,{key:1},[t[48]||(t[48]=n("th",{class:"px-2 py-1 text-center border border-green-300 min-w-[110px] font-semibold"},[n("div",{class:"flex items-center justify-center gap-1"}," Forecast ")],-1)),t[49]||(t[49]=n("th",{class:"px-2 py-1 text-center border border-green-300 min-w-[80px] font-semibold"}," % ",-1))],64)):(o(),s(a,{key:0},[(o(!0),s(a,null,x(O(e),l=>(o(),s(a,{key:e+"-"+l},[n("th",ls,h(l),1),t[45]||(t[45]=n("th",{class:"px-2 py-1 text-center border border-green-300 min-w-[80px] font-medium"}," % ",-1))],64))),128)),t[46]||(t[46]=n("th",{class:"px-2 py-1 text-center border border-green-300 min-w-[110px] font-semibold"},[n("div",{class:"flex items-center justify-center gap-1"}," Forecast ")],-1)),t[47]||(t[47]=n("th",{class:"px-2 py-1 text-center border border-green-300 min-w-[80px] font-semibold"}," % ",-1))],64))],64))),128))])]),n("tbody",us,[(o(!0),s(a,null,x(ht.value,(e,l)=>(o(),s(a,{key:e.code},[["Club Use Revenue","Treatments & Other Services","Memberships"].includes(e.label)?(o(),s("tr",as,[n("td",{colspan:1+y.value.length*(F(y.value[0])?2:O(y.value[0]).length*2+2),class:"bg-green-100 text-green-900 font-bold text-left px-3 py-2 border-t-2 border-b-2 uppercase tracking-wider border border-green-300"},h(e.label),9,is)])):e.code==="total_club_use_revenue"?(o(),s("tr",ds,[t[50]||(t[50]=n("td",{class:"px-3 py-2 border-r w-[300px] font-bold text-green-800 bg-green-200 flex justify-between items-end"},[n("span",null,"Total Club Use Revenue"),n("span",{class:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800"},"Auto")],-1)),(o(!0),s(a,null,x(y.value,r=>(o(),s(a,{key:"row-"+r+"-"+e.code},[F(r)?(o(),s(a,{key:1},[n("td",ps,h(g(w)(e.code,g(be)(p,r,"Forecast"))),1),n("td",ms,h(g(w)(e.code+"_pct",g(He)(p,r,"Forecast"))),1)],64)):(o(),s(a,{key:0},[(o(!0),s(a,null,x(O(r),u=>(o(),s(a,{key:r+"-"+u},[n("td",cs,h(g(w)(e.code,g(be)(p,r,u))),1),n("td",gs,h(g(w)(e.code+"_pct",g(He)(p,r,u))),1)],64))),128)),n("td",bs,h(g(w)(e.code,g(be)(p,r,"Forecast"))),1),n("td",_s,h(g(w)(e.code+"_pct",g(He)(p,r,"Forecast"))),1)],64))],64))),128))])):e.code==="total_treatments_other_services"?(o(),s("tr",vs,[t[51]||(t[51]=n("td",{class:"px-3 py-2 border-r w-[300px] font-bold text-green-800 bg-green-200 flex justify-between items-end"},[n("span",null,"Total Treatments & Other Services"),n("span",{class:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800"},"Auto")],-1)),(o(!0),s(a,null,x(y.value,r=>(o(),s(a,{key:"row-"+r+"-"+e.code},[F(r)?(o(),s(a,{key:1},[n("td",ws,h(g(w)(e.code,g(_e)(p,r,"Forecast"))),1),n("td",ks,h(g(w)(e.code+"_pct",g(Me)(p,r,"Forecast"))),1)],64)):(o(),s(a,{key:0},[(o(!0),s(a,null,x(O(r),u=>(o(),s(a,{key:r+"-"+u},[n("td",xs,h(g(w)(e.code,g(_e)(p,r,u))),1),n("td",fs,h(g(w)(e.code+"_pct",g(Me)(p,r,u))),1)],64))),128)),n("td",hs,h(g(w)(e.code,g(_e)(p,r,"Forecast"))),1),n("td",ys,h(g(w)(e.code+"_pct",g(Me)(p,r,"Forecast"))),1)],64))],64))),128))])):e.code==="total_memberships"?(o(),s("tr",Cs,[t[52]||(t[52]=n("td",{class:"px-3 py-2 border-r w-[300px] font-bold text-green-800 bg-green-200 flex justify-between items-end"},[n("span",null,"Total Memberships"),n("span",{class:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800"},"Auto")],-1)),(o(!0),s(a,null,x(y.value,r=>(o(),s(a,{key:"row-"+r+"-"+e.code},[F(r)?(o(),s(a,{key:1},[n("td",Ls,h(g(w)(e.code,g(pe)(p,r,"Forecast"))),1),n("td",Rs,h(g(w)(e.code+"_pct",g(Ye)(p,r,"Forecast"))),1)],64)):(o(),s(a,{key:0},[(o(!0),s(a,null,x(O(r),u=>(o(),s(a,{key:r+"-"+u},[n("td",Ss,h(g(w)(e.code,g(pe)(p,r,u))),1),n("td",Fs,h(g(w)(e.code+"_pct",g(Ye)(p,r,u))),1)],64))),128)),n("td",Ts,h(g(w)(e.code,g(pe)(p,r,"Forecast"))),1),n("td",Os,h(g(w)(e.code+"_pct",g(Ye)(p,r,"Forecast"))),1)],64))],64))),128))])):e.code==="total_health_club_spa"?(o(),s("tr",Is,[t[56]||(t[56]=n("td",{class:"px-3 py-2 border-r w-[300px] font-bold text-green-800 bg-green-200 flex justify-between items-end"},[n("span",null,"Total Health Club & Spa"),n("span",{class:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800"},"Auto")],-1)),(o(!0),s(a,null,x(y.value,r=>(o(),s(a,{key:"row-"+r+"-"+e.code},[F(r)?(o(),s(a,{key:1},[n("td",Ns,h(g(w)(e.code,g(se)(p,r,"Forecast"))),1),t[55]||(t[55]=n("td",{class:"px-2 py-1 text-right border border-green-200 bg-green-100 font-semibold",style:{"pointer-events":"none",opacity:"1"}}," 0.00% ",-1))],64)):(o(),s(a,{key:0},[(o(!0),s(a,null,x(O(r),u=>(o(),s(a,{key:r+"-"+u},[n("td",js,h(g(w)(e.code,g(se)(p,r,u))),1),t[53]||(t[53]=n("td",{class:"px-2 py-1 text-right border border-green-200 bg-green-100 font-semibold",style:{"pointer-events":"none",opacity:"1"}}," 0.00% ",-1))],64))),128)),n("td",As,h(g(w)(e.code,g(se)(p,r,"Forecast"))),1),t[54]||(t[54]=n("td",{class:"px-2 py-1 text-right border border-green-200 bg-green-100 font-semibold",style:{"pointer-events":"none",opacity:"1"}}," 0.00% ",-1))],64))],64))),128))])):e.code==="service_charge"?(o(),s("tr",Bs,[t[60]||(t[60]=n("td",{class:"px-3 py-2 border-r w-[300px] font-bold text-green-800 bg-green-200"}," Service Charge ",-1)),(o(!0),s(a,null,x(y.value,r=>(o(),s(a,{key:"row-"+r+"-"+e.code},[F(r)?(o(),s(a,{key:1},[n("td",{contenteditable:"true",class:"px-2 py-1 text-right border border-green-200 bg-green-50",onInput:u=>{V(u),le({year:r,label:"Forecast",field:e.code,event:u})},onFocus:u=>g(ae)({year:r,label:"Forecast",field:e.code,event:u}),onBlur:u=>B({year:r,label:"Forecast",field:e.code,event:u})},[n("span",null,h(g(w)(e.code,re(p,e.code,r,"Forecast",g(W)[r]||c.value))),1)],40,Ms),t[59]||(t[59]=n("td",{class:"px-2 py-1 text-right border border-green-200 bg-green-100 font-semibold",style:{"pointer-events":"none",opacity:"1"}}," 0.00% ",-1))],64)):(o(),s(a,{key:0},[(o(!0),s(a,null,x(O(r),u=>(o(),s(a,{key:r+"-"+u},[n("td",{contenteditable:"true",class:"px-2 py-1 text-right border border-green-200 bg-green-50",style:{direction:"ltr","text-align":"right","unicode-bidi":"plaintext"},onInput:v=>{V(v),le({year:r,label:u,field:e.code,event:v})},onFocus:v=>g(ae)({year:r,label:u,field:e.code,event:v}),onBlur:v=>B({year:r,label:u,field:e.code,event:v})},[n("span",null,h(g(w)(e.code,re(p,e.code,r,u,g(W)[r]||c.value))),1)],40,Ds),t[57]||(t[57]=n("td",{class:"px-2 py-1 text-right border border-green-200 bg-green-100 font-semibold",style:{"pointer-events":"none",opacity:"1"}}," 0.00% ",-1))],64))),128)),n("td",{contenteditable:"true",class:"px-2 py-1 text-right border border-green-200 bg-green-50",style:{direction:"ltr","text-align":"right","unicode-bidi":"plaintext"},onInput:u=>{V(u),le({year:r,label:"Forecast",field:e.code,event:u})},onFocus:u=>g(ae)({year:r,label:"Forecast",field:e.code,event:u}),onBlur:u=>B({year:r,label:"Forecast",field:e.code,event:u})},[n("span",null,h(g(w)(e.code,re(p,e.code,r,"Forecast",g(W)[r]||c.value))),1)],40,Hs),t[58]||(t[58]=n("td",{class:"px-2 py-1 text-right border border-green-200 bg-green-100 font-semibold",style:{"pointer-events":"none",opacity:"1"}}," 0.00% ",-1))],64))],64))),128))])):e.code==="total_health_club_rev_including_sc"?(o(),s("tr",Ys,[t[64]||(t[64]=n("td",{class:"px-3 py-2 border-r w-[300px] font-bold text-green-800 bg-green-200 flex justify-between items-end"},[n("span",null,"Total Health Club Rev Including SC"),n("span",{class:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800"},"Auto")],-1)),(o(!0),s(a,null,x(y.value,r=>(o(),s(a,{key:"row-"+r+"-"+e.code},[F(r)?(o(),s(a,{key:1},[n("td",Vs,h(g(w)(e.code,g(ye)(p,r,"Forecast"))),1),t[63]||(t[63]=n("td",{class:"px-2 py-1 text-right border border-green-200 bg-green-100 font-semibold",style:{"pointer-events":"none",opacity:"1"}}," 0.00% ",-1))],64)):(o(),s(a,{key:0},[(o(!0),s(a,null,x(O(r),u=>(o(),s(a,{key:r+"-"+u},[n("td",Es,h(g(w)(e.code,g(ye)(p,r,u))),1),t[61]||(t[61]=n("td",{class:"px-2 py-1 text-right border border-green-200 bg-green-100 font-semibold",style:{"pointer-events":"none",opacity:"1"}}," 0.00% ",-1))],64))),128)),n("td",Ps,h(g(w)(e.code,g(ye)(p,r,"Forecast"))),1),t[62]||(t[62]=n("td",{class:"px-2 py-1 text-right border border-green-200 bg-green-100 font-semibold",style:{"pointer-events":"none",opacity:"1"}}," 0.00% ",-1))],64))],64))),128))])):(o(),s("tr",{key:7,class:z(["transition-all duration-200 border-b border-gray-100 hover:bg-green-50",X(e.code)?"bg-gradient-to-r from-green-100 to-green-50 border-green-300 font-semibold":"even:bg-gray-50"])},[n("td",{class:z(["px-3 py-2 border-r w-[300px]",X(e.code)?"font-bold text-green-800 bg-green-200":"font-medium text-gray-600"])},h(e.label),3),(o(!0),s(a,null,x(y.value,r=>(o(),s(a,{key:"row-"+r+"-"+e.code},[F(r)?(o(),s(a,{key:1},[n("td",{contenteditable:"true",class:z(["px-2 py-1 text-right border border-green-200 outline-none  text-xs",X(e.code)?"bg-green-100 font-semibold":"bg-green-50"]),style:{direction:"ltr","text-align":"right","unicode-bidi":"plaintext"},onInput:u=>{V(u),le({year:r,label:"Forecast",field:e.code,event:u})},onFocus:u=>g(ae)({year:r,label:"Forecast",field:e.code,event:u}),onBlur:u=>B({year:r,label:"Forecast",field:e.code,event:u})},[n("span",null,h(g(w)(e.code,re(p,e.code,r,"Forecast",g(W)[r]||c.value))),1)],42,$s),n("td",zs,[e.code==="service_charge"?(o(),s(a,{key:0},[],64)):q("",!0)])],64)):(o(),s(a,{key:0},[(o(!0),s(a,null,x(O(r),u=>(o(),s(a,{key:r+"-"+u},[n("td",{contenteditable:"true",class:z(["px-2 py-1 text-right border border-green-200 outline-none focus:ring-2 focus:ring-green-500 transition-all duration-200",X(e.code)?"bg-green-100 hover:bg-green-200 font-semibold":"hover:bg-green-50"]),style:{direction:"ltr","text-align":"right","unicode-bidi":"plaintext"},onInput:v=>{V(v),le({year:r,label:u,field:e.code,event:v})},onFocus:v=>g(ae)({year:r,label:u,field:e.code,event:v}),onBlur:v=>B({year:r,label:u,field:e.code,event:v})},[n("span",{class:z([" text-xs",X(e.code)?"text-green-800 font-semibold":""])},h(g(w)(e.code,re(p,e.code,r,u,g(W)[r]||c.value))),3)],42,Us),n("td",{class:z(["px-2 py-1 text-right border border-green-200 outline-none  text-xs",X(e.code)?"bg-green-100 font-semibold":"bg-green-50"]),style:{"pointer-events":"none",opacity:"1"}},[e.code==="service_charge"?(o(),s(a,{key:0},[],64)):q("",!0)],2)],64))),128)),n("td",{contenteditable:"true",class:z(["px-2 py-1 text-right border border-green-200 outline-none focus:ring-2 focus:ring-green-500 transition-all duration-200",X(e.code)?"bg-green-100 hover:bg-green-200 font-semibold":"hover:bg-green-50"]),style:{direction:"ltr","text-align":"right","unicode-bidi":"plaintext"},onInput:u=>{V(u),le({year:r,label:"Forecast",field:e.code,event:u})},onFocus:u=>g(ae)({year:r,label:"Forecast",field:e.code,event:u}),onBlur:u=>B({year:r,label:"Forecast",field:e.code,event:u})},[n("span",{class:z([" text-xs",X(e.code)?"text-green-800 font-semibold":""])},h(g(w)(e.code,re(p,e.code,r,"Forecast",g(W)[r]||c.value))),3)],42,Gs),n("td",{class:z(["px-2 py-1 text-right border border-green-200 outline-none  text-xs",X(e.code)?"bg-green-100 font-semibold":"bg-green-50"]),style:{"pointer-events":"none",opacity:"1"}},[e.code==="service_charge"?(o(),s(a,{key:0},[],64)):q("",!0)],2)],64))],64))),128))],2))],64))),128))])])])])])])],64)):g($)?(o(),K(In,{key:2,"from-year":g(ie),"to-year":g(de)},null,8,["from-year","to-year"])):q("",!0):(o(),K(kn,{key:0}))])])])]),A(it,{name:"fade"},{default:Ve(()=>[f.value?(o(),s("div",Js,[n("div",qs,[n("div",Qs,[A(g(Kt),{class:"w-6 h-6 text-white"}),t[65]||(t[65]=n("h2",{class:"text-xl font-bold text-white"},"Advanced Display Mode Settings",-1))]),n("div",Ws,[y.value.length?q("",!0):(o(),s("div",Xs,[A(g(Zt),{class:"w-6 h-6 text-yellow-600"}),t[66]||(t[66]=n("span",{class:"text-yellow-800 font-medium"},'Please select both "From Year" and "To Year" to configure advanced settings.',-1))])),y.value.length?(o(),s("div",Ks,[(o(!0),s(a,null,x(y.value,e=>(o(),s("div",{key:"adv-"+e,class:"flex justify-between items-center border-b pb-2"},[n("span",Zs,[A(g(bt),{class:"w-4 h-4 text-violet-600"}),J(" "+h(e),1)]),he(n("select",{"onUpdate:modelValue":l=>k.value[e]=l,class:"px-6 py-2 border rounded-md focus:ring-violet-500"},t[67]||(t[67]=[n("option",{value:"monthly"},"Monthly",-1),n("option",{value:"quarterly"},"Quarterly",-1)]),8,er),[[Ae,k.value[e]]])]))),128))])):q("",!0)]),n("div",tr,[n("button",{onClick:wt,class:"px-4 py-2 rounded-md bg-gray-100 hover:bg-gray-200 text-gray-700 flex items-center gap-2"},[A(g(en),{class:"w-4 h-4"}),t[68]||(t[68]=J(" Cancel ",-1))]),y.value.length?(o(),s("button",{key:0,onClick:yt,class:"px-4 py-2 rounded-md bg-violet-600 text-white hover:bg-violet-700 flex items-center gap-2"},[A(g(tn),{class:"w-4 h-4"}),t[69]||(t[69]=J(" Apply ",-1))])):q("",!0)])])])):q("",!0)]),_:1}),A(nn,{"is-visible":Le.value,onClose:Nt},null,8,["is-visible"])],64))}},pr=Ue(nr,[["__scopeId","data-v-696e56b6"]]);export{pr as default};
