var Mt=Object.defineProperty;var tt=Object.getOwnPropertySymbols;var Bt=Object.prototype.hasOwnProperty,Yt=Object.prototype.propertyIsEnumerable;var ot=(_,R,g)=>R in _?Mt(_,R,{enumerable:!0,configurable:!0,writable:!0,value:g}):_[R]=g,Te=(_,R)=>{for(var g in R||(R={}))Bt.call(R,g)&&ot(_,g,R[g]);if(tt)for(var g of tt(R))Yt.call(R,g)&&ot(_,g,R[g]);return _};var ie=(_,R,g)=>new Promise((M,w)=>{var I=m=>{try{v(g.next(m))}catch(B){w(B)}},E=m=>{try{v(g.throw(m))}catch(B){w(B)}},v=m=>m.done?M(m.value):Promise.resolve(m.value).then(I,E);v((g=g.apply(_,R)).next())});import{r as Ot,c as n,o as r,b as t,e as W,u as c,v as u,w as Ve,_ as Tt,h as Q,K as At,l as Ae,p as Ce,q as xe,m as Et,n as Nt,J as Vt,L as Dt,t as It,j as me,i as ae,B as Pe,d as Z,M as st,F as a,x as b,N as Ee,O as $t,T as rt}from"./index-ZSaFeStz.js";import{C as it,a as Kt,u as qt}from"./useCalculationCache-D-0K7ViD.js";import{c as le,_ as Lt,i as Ne,R as zt,C as Ht,S as Ut,T as Qt,X as Jt,b as Wt,d as Gt}from"./SettingsModal-CkmocsMj.js";import{N as Xt,E as Zt}from"./ErrorState-by_2K4Ei.js";import{C as eo,a as nt}from"./circle-alert-CRlonPQM.js";import{A as to}from"./arrow-left-Bf9tYyjG.js";import{b as oo,t as so,i as A,a as lt,q as ye,n as ro}from"./advanced_settings-C_PPpQZr.js";import{c as no}from"./data_service-Cpa0GR8w.js";import{a as G}from"./index-jObAZPhM.js";import{C as lo}from"./chevron-left-DEHdKNR-.js";import{T as io,c as dt}from"./cloneDeep-81xIscxh.js";import"./createLucideIcon-Diyw-P4a.js";import"./zap-C5sVj9GT.js";import"./folder-open-Dz0FFDMm.js";import"./payroll_data_service-C3ePcm_z.js";const ao={class:"flex flex-col items-center justify-center min-h-[400px] bg-white border-2 border-dashed border-violet-300 rounded-xl shadow-sm"},co={class:"w-16 h-16 bg-violet-100 rounded-full flex items-center justify-center mb-4"},uo={class:"text-lg text-violet-700 font-semibold mb-2"},xo={class:"text-gray-500 text-center max-w-md leading-relaxed text-sm"},fo={class:"mt-4 flex items-center gap-2 text-xs text-violet-600"},po={class:"mt-6"},bo={__name:"NoYearsSelectedState",props:{fromYear:{type:String,default:""},toYear:{type:String,default:""}},setup(_){return(R,g)=>{const M=Ot("router-link");return r(),n("div",ao,[t("div",co,[W(c(eo),{class:"w-8 h-8 text-violet-500"})]),t("h3",uo,u(_.fromYear&&!_.toYear?'Select "To Year"':!_.fromYear&&_.toYear?'Select "From Year"':"No Years Selected"),1),t("p",xo,u(_.fromYear&&!_.toYear?"You have selected a From Year, now please select a To Year to display the Receipts & Payments table.":!_.fromYear&&_.toYear?"You have selected a To Year, now please select a From Year to display the Receipts & Payments table.":'Please select both "From Year" and "To Year" to display the Receipts & Payments table.'),1),t("div",fo,[W(c(to),{class:"w-3 h-3"}),g[0]||(g[0]=t("span",null,"Use the filters to get started",-1))]),t("div",po,[W(M,{to:"/expense_estimate",class:"inline-flex items-center gap-2 px-4 py-2 rounded-lg bg-gradient-to-r from-violet-600 to-violet-700 text-white hover:from-violet-700 hover:to-violet-800 shadow"},{default:Ve(()=>[W(c(it),{class:"w-4 h-4"}),g[1]||(g[1]=t("span",null,"Set Years in Expense",-1))]),_:1,__:[1]})])])}}};function _e(_){var E,v,m;const R=B=>B>1?B/100:B,g=R(Number((E=_==null?void 0:_.month)!=null?E:0)),M=R(Number((v=_==null?void 0:_.following)!=null?v:0)),w=R(Number((m=_==null?void 0:_.second)!=null?m:0));if([g,M,w].some(B=>isNaN(B)||B<0))throw new Error("Percentages must be non-negative numbers.");const I=g+M+w;if(I>1+1e-9)throw new Error(`Collection percentages exceed 100% (got ${(I*100).toFixed(2)}%).`);return{month:g,following:M,second:w}}function go(_,R,g){const M=_e(R),w=g.length,I={},E={},v={},m={};let B=0,L=0;g.forEach(f=>{I[f]=0,E[f]=0,v[f]=0,m[f]=0});const S=f=>{var F;return Number((F=_[f])!=null?F:0)};for(let f=0;f<w;f++){const F=g[f],X=S(F),z=X*M.month;I[F]+=z;const p=X*M.following;f+1<w?E[g[f+1]]+=p:B+=p;const k=X*M.second;f+2<w?v[g[f+2]]+=k:f+2===w?B+=k:L+=k}g.forEach(f=>{m[f]=I[f]+E[f]+v[f]}),m.ex1=B,m.ex2=L;const V={sameMonth:Object.values(I).reduce((f,F)=>f+F,0),following:Object.values(E).reduce((f,F)=>f+F,0)+B,second:Object.values(v).reduce((f,F)=>f+F,0)+L,cashInflow:Object.values(m).reduce((f,F)=>f+(typeof F=="number"?F:0),0)};return{sameMonth:I,following:E,second:v,cashInflow:m,totals:V}}function vo(_,R,g,M=null){const w=_e(R),I=g.length,E={},v=(S,V=_)=>{var f;return Number((f=V==null?void 0:V[S])!=null?f:0)};for(let S=0;S<I;S++){const V=g[S],f=v(V),F=S>0?v(g[S-1]):0;E[V]=(w.following+w.second)*f+w.second*F}let m=null,B=null;if(M){const S=v("Jan",M),V=v("Feb",M);v("Dec",_);const f=v("Dec",_);m=(w.following+w.second)*S+w.second*f,B=(w.following+w.second)*V+w.second*S}const L=Object.values(E).reduce((S,V)=>S+V,0)+(m!=null?m:0)+(B!=null?B:0);return{ar:E,ex1:m,ex2:B,total:L}}function ho(_,R,g){const M=_e(R),w=g.length,I={},E={},v={},m={};let B=0,L=0;g.forEach(f=>{I[f]=0,E[f]=0,v[f]=0,m[f]=0});const S=f=>{var F;return Number((F=_==null?void 0:_[f])!=null?F:0)};for(let f=0;f<w;f++){const F=g[f],X=S(F),z=X*M.month;I[F]+=z;const p=X*M.following;f+1<w?E[g[f+1]]+=p:B+=p;const k=X*M.second;f+2<w?v[g[f+2]]+=k:f+2===w?B+=k:L+=k}g.forEach(f=>{m[f]=I[f]+E[f]+v[f]}),m.ex1=B,m.ex2=L;const V={sameMonth:Object.values(I).reduce((f,F)=>f+F,0),following:Object.values(E).reduce((f,F)=>f+F,0)+B,second:Object.values(v).reduce((f,F)=>f+F,0)+L,cashOutflow:Object.values(m).reduce((f,F)=>f+(typeof F=="number"?F:0),0)};return{sameMonth:I,following:E,second:v,cashOutflow:m,totals:V}}function mo(_,R,g,M=null){const w=_e(R),I=g.length,E={},v=(S,V=_)=>{var f;return Number((f=V==null?void 0:V[S])!=null?f:0)};for(let S=0;S<I;S++){const V=g[S],f=v(V),F=S>0?v(g[S-1]):0;E[V]=(w.following+w.second)*f+w.second*F}let m=null,B=null;if(M){const S=v("Jan",M),V=v("Feb",M),f=v("Dec",_);m=(w.following+w.second)*S+w.second*f,B=(w.following+w.second)*V+w.second*S}const L=Object.values(E).reduce((S,V)=>S+V,0)+(m!=null?m:0)+(B!=null?B:0);return{payables:E,ex1:m,ex2:B,total:L}}function yo({paymentBases:_,paymentPercentages:R,getDeptKey:g,advancedModes:M,displayMode:w,monthlyLabels:I,quarterToMonths:E,getNumber:v}){function m(p,k,K){const Y=g(p),P={};return I.forEach(H=>{var U,O,q,de;const J=(de=(q=(O=(U=_.value)==null?void 0:U[Y])==null?void 0:O[k])==null?void 0:q[K])==null?void 0:de[H];P[H]=v(J||0)}),P}function B(p,k,K){const Y=g(p),P={};return I.forEach(H=>{var U,O,q,de;const J=(de=(q=(O=(U=_.value)==null?void 0:U[Y])==null?void 0:O[k])==null?void 0:q[K+1])==null?void 0:de[H];P[H]=v(J||0)}),P}function L(p,k){var P,H;const K=g(p),Y=((H=(P=R.value)==null?void 0:P[K])==null?void 0:H[k])||{month:0,following:0,second:0};return{month:v(Y.month),following:v(Y.following),second:v(Y.second)}}function S(p,k,K){const Y=m(p,k,K),P=L(p,k);return ho(Y,P,I)}function V(p,k,K,Y,P){const H=M.value[K]||w.value,J=S(p,k,K);if(Y==="ex1"){if(P==="sameMonth")return 0;if(P==="following"){const U=m(p,k,K),O=L(p,k),q=O.following>1?O.following/100:O.following;return v(U.Dec)*q}if(P==="second"){const U=m(p,k,K),O=L(p,k),q=O.second>1?O.second/100:O.second;return v(U.Nov)*q}if(P==="cashOutflow")return v(J.cashOutflow.ex1||0)}if(Y==="ex2"){if(P==="sameMonth"||P==="following")return 0;if(P==="second"){const U=m(p,k,K),O=L(p,k),q=O.second>1?O.second/100:O.second;return v(U.Dec)*q}if(P==="cashOutflow")return v(J.cashOutflow.ex2||0)}if(H==="monthly")return P==="sameMonth"?v(J.sameMonth[Y]||0):P==="following"?v(J.following[Y]||0):P==="second"?v(J.second[Y]||0):P==="cashOutflow"?v(J.cashOutflow[Y]||0):0;if(H==="quarterly"&&E[Y]){const U=E[Y];if(P==="sameMonth")return U.reduce((O,q)=>O+v(J.sameMonth[q]||0),0);if(P==="following")return U.reduce((O,q)=>O+v(J.following[q]||0),0);if(P==="second")return U.reduce((O,q)=>O+v(J.second[q]||0),0);if(P==="cashOutflow")return U.reduce((O,q)=>O+v(J.cashOutflow[q]||0),0)}return 0}function f(p,k,K,Y){const P=S(p,k,K);return Y==="sameMonth"?v(P.totals.sameMonth||0):Y==="following"?v(P.totals.following||0):Y==="second"?v(P.totals.second||0):Y==="cashOutflow"?v(P.totals.cashOutflow||0):0}function F(p,k,K){const Y=m(p,k,K),P=B(p,k,K),H=L(p,k);return mo(Y,H,I,P)}function X(p,k,K,Y){const P=M.value[K]||w.value,H=F(p,k,K);return Y==="ex1"?v(H.ex1||0):Y==="ex2"?v(H.ex2||0):P==="monthly"?v(H.payables[Y]||0):P==="quarterly"&&E[Y]?E[Y].reduce((U,O)=>U+v(H.payables[O]||0),0):0}function z(p,k,K){const Y=F(p,k,K);return v(Y.total||0)}return{getPaymentValue:V,getPaymentTotal:f,getPayablesValue:X,getPayablesTotal:z}}const at="/api/method/ex_forcast.api.call_and_save_receipts";function _o(_=null){return ie(this,null,function*(){let R=`${at}.receipts_payments_display`;_&&(R+=`?project=${encodeURIComponent(_)}`);const g=yield fetch(R);if(!g.ok)throw new Error(`HTTP ${g.status}`);const M=yield g.json();return M.message||M})}function wo(_,R=null){return ie(this,null,function*(){const g=new FormData;g.append("changes",JSON.stringify(_||[])),R&&g.append("project",R);const M=yield fetch(`${at}.upsert_receipts_payments_items`,{method:"POST",body:g});if(!M.ok){const w=yield M.text();throw new Error(`HTTP ${M.status}: ${w}`)}return yield M.json()})}const ko={class:"flex"},Fo={class:"flex-1 min-h-screen bg-gradient-to-br from-white to-violet-50"},Co={class:"flex"},Po={key:2,class:"text-violet-700 text-sm font-medium dark:text-white"},jo={class:"mb-8"},So={class:"flex items-center gap-3 mb-2"},Ro={class:"w-12 h-12 bg-gradient-to-br from-violet-500 to-violet-600 rounded-xl flex items-center justify-center shadow-lg"},Mo={class:"bg-white rounded-xl p-4 mb-6 border border-gray-200 shadow-sm"},Bo={class:"flex items-center justify-between"},Yo={class:"flex items-center gap-2"},Oo={key:0,class:"flex items-center gap-2 text-sm font-medium text-red-600 bg-red-50 px-3 py-2 rounded-lg border border-red-200"},To={key:1,class:"flex items-center gap-2 text-sm font-medium text-green-600 bg-green-50 px-3 py-2 rounded-lg border border-green-200"},Ao=["disabled"],Eo={key:1,class:"flex items-center gap-2 px-4 py-2 bg-gray-500 text-white rounded-lg cursor-not-allowed"},No={key:0,class:"mt-2 text-xs text-red-500 flex items-center gap-1"},Vo={class:"mb-8"},Do={class:"flex gap-2 mt-3"},Io={class:"flex-1"},$o={class:"bg-white rounded-xl p-5 border border-gray-200 shadow-sm"},Ko={class:"space-y-4"},qo={class:"grid grid-cols-2 gap-3"},Lo=["value"],zo=["value"],Ho={class:"flex gap-2"},Uo={class:"flex-1 p-4"},Qo={key:0},Jo={key:1},Wo={class:"mb-4"},Go={class:"flex items-center gap-2"},Xo={class:"w-6 h-6 bg-gradient-to-br from-violet-500 to-violet-600 rounded-lg flex items-center justify-center"},Zo={class:"bg-white rounded-lg border border-violet-200 shadow-sm overflow-hidden md:max-w-[1800px] lg:max-w-[1800px] xl:max-w-[2000px] 2xl:max-w-[2000px]"},es={class:"overflow-x-auto max-w-[100%] md:max-w-[1800px] lg:max-w-[1800px] xl:max-w-[2000px] 2xl:max-w-[2000px]"},ts={class:"min-w-full w-max"},os={class:"w-full"},ss={class:"bg-gradient-to-r from-violet-600 to-violet-700 text-white"},rs=["colspan","onClick"],ns={class:"flex items-center justify-center gap-1"},ls={class:"font-semibold"},ds={class:"bg-violet-500/90 text-xs"},is={class:"px-2 py-1 text-center border border-violet-300 min-w-[110px] font-semibold"},as={class:"flex items-center justify-center gap-1"},cs={key:1,class:"px-2 py-1 text-center border border-violet-300 min-w-[110px] font-semibold"},us={class:"flex items-center justify-center gap-1"},xs={class:"text-gray-700 bg-white text-sm"},fs={class:"bg-gradient-to-r from-violet-600 to-violet-700 border-y-2 border-white"},ps={colspan:"2",class:"px-3 py-3 font-extrabold text-white border-r border-violet-800"},bs={class:"flex items-center gap-2"},gs={key:1,class:"px-1 py-1 text-center border border-violet-500 bg-violet-600/30"},vs={class:"bg-violet-100 border-b border-violet-200 dark:bg-violet-800/30 dark:border-violet-700"},hs={key:1,class:"px-1 py-1 text-center border border-violet-200 bg-violet-100 dark:border-violet-700 dark:bg-violet-800/30"},ms={class:"bg-violet-50 border-b border-violet-200 dark:bg-violet-900/20 dark:border-violet-700"},ys={colspan:"2",class:"px-3 py-2 font-medium border-r border-violet-200 dark:border-violet-700"},_s={class:"flex items-center gap-1"},ws={class:"text-xs"},ks={class:"px-2 py-1 text-right border border-violet-200 font-semibold bg-violet-100 dark:border-violet-700 dark:bg-violet-800/30"},Fs={class:"text-xs text-violet-700"},Cs={key:1,class:"px-2 py-1 text-right border border-violet-200 font-semibold bg-violet-100 dark:border-violet-700 dark:bg-violet-800/30"},Ps={class:"text-xs text-violet-700"},js={class:"bg-violet-50 border-b border-violet-200 dark:bg-violet-900/20 dark:border-violet-700"},Ss={class:"px-3 py-2 font-medium border-r border-violet-200 dark:border-violet-700"},Rs={class:"flex items-center gap-1"},Ms=["onInput","onFocus","onBlur"],Bs={class:"flex items-center justify-end gap-1"},Ys={class:"text-xs"},Os={class:"text-xs"},Ts={class:"px-2 py-1 text-right border border-violet-200 font-semibold bg-violet-100 dark:border-violet-700 dark:bg-violet-800/30"},As={class:"text-xs text-violet-700"},Es={key:1,class:"px-2 py-1 text-right border border-violet-200 font-semibold bg-violet-100 dark:border-violet-700 dark:bg-violet-800/30"},Ns={class:"text-xs text-violet-700"},Vs={class:"bg-violet-50 border-b border-violet-200 dark:bg-violet-900/20 dark:border-violet-700"},Ds={class:"px-3 py-2 font-medium border-r border-violet-200 dark:border-violet-700"},Is={class:"flex items-center gap-1"},$s=["onInput","onFocus","onBlur"],Ks={class:"flex items-center justify-end gap-1"},qs={class:"text-xs"},Ls={class:"text-xs"},zs={class:"px-2 py-1 text-right border border-violet-200 font-semibold bg-violet-100 dark:border-violet-700 dark:bg-violet-800/30"},Hs={class:"text-xs text-violet-700"},Us={key:1,class:"px-2 py-1 text-right border border-violet-200 font-semibold bg-violet-100 dark:border-violet-700 dark:bg-violet-800/30"},Qs={class:"text-xs text-violet-700"},Js={class:"bg-violet-50 border-b border-violet-200 dark:bg-violet-900/20 dark:border-violet-700"},Ws={class:"px-3 py-2 font-medium border-r border-violet-200 dark:border-violet-700"},Gs={class:"flex items-center gap-1"},Xs=["onInput","onFocus","onBlur"],Zs={class:"flex items-center justify-end gap-1"},er={class:"text-xs"},tr={class:"text-xs"},or={class:"px-2 py-1 text-right border border-violet-200 font-semibold bg-violet-100 dark:border-violet-700 dark:bg-violet-800/30"},sr={class:"text-xs text-violet-700"},rr={key:1,class:"px-2 py-1 text-right border border-violet-200 font-semibold bg-violet-100 dark:border-violet-700 dark:bg-violet-800/30"},nr={class:"bg-gradient-to-r from-violet-100 to-violet-200 border-b-2 border-violet-400"},lr={class:"text-xs"},dr={class:"px-2 py-1 text-right border border-violet-300 bg-violet-200 font-bold text-violet-900"},ir={class:"text-xs"},ar={key:1,class:"px-2 py-1 text-right border border-violet-300 bg-violet-200 font-bold text-violet-900"},cr={class:"bg-gradient-to-r from-violet-100 to-violet-200 border-b-2 border-violet-400"},ur={colspan:"2",class:"px-3 py-2 font-bold border-r border-violet-300 text-violet-900 text-right"},xr={class:"flex items-center gap-1 justify-end"},fr={class:"text-xs"},pr={class:"px-2 py-1 text-right border border-violet-300 bg-violet-200 font-bold text-violet-900"},br={class:"text-xs"},gr={key:1,class:"px-2 py-1 text-right border border-violet-300 bg-violet-200 font-bold text-violet-900"},vr={class:"bg-red-100 border-b border-red-200"},hr={key:1,class:"px-1 py-1 text-center border border-red-200 bg-red-100"},mr={class:"bg-red-50 border-b border-red-200"},yr=["onInput","onBlur"],_r={class:"text-xs"},wr={class:"px-2 py-1 text-right border border-red-200 font-semibold bg-red-100"},kr={class:"text-xs text-red-700"},Fr={key:1,class:"px-2 py-1 text-right border border-red-200 font-semibold bg-red-100"},Cr={class:"bg-red-50 border-b border-red-200"},Pr={class:"px-3 py-2 font-medium border-r border-red-200"},jr={class:"flex items-center gap-1"},Sr=["onInput","onFocus","onBlur"],Rr={class:"flex items-center justify-end gap-1"},Mr={class:"text-xs"},Br={class:"text-xs"},Yr={class:"px-2 py-1 text-right border border-red-200 font-semibold bg-red-100"},Or={class:"text-xs text-red-700"},Tr={key:1,class:"px-2 py-1 text-right border border-red-200 font-semibold bg-red-100"},Ar={class:"bg-red-50 border-b border-red-200"},Er={class:"px-3 py-2 font-medium border-r border-red-200"},Nr={class:"flex items-center gap-1"},Vr=["onInput","onFocus","onBlur"],Dr={class:"flex items-center justify-end gap-1"},Ir={class:"text-xs"},$r={class:"text-xs"},Kr={class:"px-2 py-1 text-right border border-red-200 font-semibold bg-red-100"},qr={class:"text-xs text-red-700"},Lr={key:1,class:"px-2 py-1 text-right border border-red-200 font-semibold bg-red-100"},zr={class:"bg-red-50 border-b border-red-200"},Hr={class:"px-3 py-2 font-medium border-r border-red-200"},Ur={class:"flex items-center gap-1"},Qr=["onInput","onFocus","onBlur"],Jr={class:"flex items-center justify-end gap-1"},Wr={class:"text-xs"},Gr={class:"text-xs"},Xr={class:"px-2 py-1 text-right border border-red-200 font-semibold bg-red-100"},Zr={class:"text-xs text-red-700"},en={key:1,class:"px-2 py-1 text-right border border-red-200 font-semibold bg-red-100"},tn={class:"bg-gradient-to-r from-red-100 to-red-200 border-b-2 border-red-400"},on={class:"text-xs"},sn={class:"px-2 py-1 text-right border border-red-300 bg-red-200 font-bold text-red-900"},rn={class:"text-xs"},nn={key:1,class:"px-2 py-1 text-right border border-red-300 bg-red-200 font-bold text-red-900"},ln={class:"bg-gradient-to-r from-red-100 to-red-200 border-b-2 border-red-400"},dn={colspan:"2",class:"px-3 py-2 font-bold border-r border-red-300 text-red-900 text-right"},an={class:"flex items-center gap-1 justify-end"},cn={class:"text-xs"},un={class:"px-2 py-1 text-right border border-red-300 bg-red-200 font-bold text-red-900"},xn={class:"text-xs"},fn={key:1,class:"px-2 py-1 text-right border border-red-300 bg-red-200 font-bold text-red-900"},pn={class:"bg-red-50 border-b border-red-200"},bn=["onInput","onBlur"],gn={class:"text-xs"},vn={class:"px-2 py-1 text-right border border-red-200 font-semibold bg-red-100"},hn={class:"text-xs text-red-700"},mn={key:1,class:"px-2 py-1 text-right border border-red-200 font-semibold bg-red-100"},yn={class:"bg-red-50 border-b border-red-200"},_n={class:"px-3 py-2 font-medium border-r border-red-200"},wn={class:"flex items-center gap-1"},kn=["onInput","onFocus","onBlur"],Fn={class:"flex items-center justify-end gap-1"},Cn={class:"text-xs"},Pn={class:"text-xs"},jn={class:"px-2 py-1 text-right border border-red-200 font-semibold bg-red-100"},Sn={class:"text-xs text-red-700"},Rn={key:1,class:"px-2 py-1 text-right border border-red-200 font-semibold bg-red-100"},Mn={class:"bg-red-50 border-b border-red-200"},Bn={class:"px-3 py-2 font-medium border-r border-red-200"},Yn={class:"flex items-center gap-1"},On=["onInput","onFocus","onBlur"],Tn={class:"flex items-center justify-end gap-1"},An={class:"text-xs"},En={class:"text-xs"},Nn={class:"px-2 py-1 text-right border border-red-200 font-semibold bg-red-100"},Vn={class:"text-xs text-red-700"},Dn={key:1,class:"px-2 py-1 text-right border border-red-200 font-semibold bg-red-100"},In={class:"bg-red-50 border-b border-red-200"},$n={class:"px-3 py-2 font-medium border-r border-red-200"},Kn={class:"flex items-center gap-1"},qn=["onInput","onFocus","onBlur"],Ln={class:"flex items-center justify-end gap-1"},zn={class:"text-xs"},Hn={class:"text-xs"},Un={class:"px-2 py-1 text-right border border-red-200 font-semibold bg-red-100"},Qn={class:"text-xs text-red-700"},Jn={key:1,class:"px-2 py-1 text-right border border-red-200 font-semibold bg-red-100"},Wn={class:"bg-gradient-to-r from-red-100 to-red-200 border-b-2 border-red-400"},Gn={class:"text-xs"},Xn={class:"px-2 py-1 text-right border border-red-300 bg-red-200 font-bold text-red-900"},Zn={class:"text-xs"},el={key:1,class:"px-2 py-1 text-right border border-red-300 bg-red-200 font-bold text-red-900"},tl={class:"bg-gradient-to-r from-red-100 to-red-200 border-b-2 border-red-400"},ol={colspan:"2",class:"px-3 py-2 font-bold border-r border-red-300 text-red-900 text-right"},sl={class:"flex items-center gap-1 justify-end"},rl={class:"text-xs"},nl={class:"px-2 py-1 text-right border border-red-300 bg-red-200 font-bold text-red-900"},ll={class:"text-xs"},dl={key:1,class:"px-2 py-1 text-right border border-red-300 bg-red-200 font-bold text-red-900"},il={class:"bg-red-50 border-b border-red-200"},al=["onInput","onBlur"],cl={class:"text-xs"},ul={class:"px-2 py-1 text-right border border-red-200 font-semibold bg-red-100"},xl={class:"text-xs text-red-700"},fl={key:1,class:"px-2 py-1 text-right border border-red-200 font-semibold bg-red-100"},pl={class:"bg-red-50 border-b border-red-200"},bl={class:"px-3 py-2 font-medium border-r border-red-200"},gl={class:"flex items-center gap-1"},vl=["onInput","onFocus","onBlur"],hl={class:"flex items-center justify-end gap-1"},ml={class:"text-xs"},yl={class:"text-xs"},_l={class:"px-2 py-1 text-right border border-red-200 font-semibold bg-red-100"},wl={class:"text-xs text-red-700"},kl={key:1,class:"px-2 py-1 text-right border border-red-200 font-semibold bg-red-100"},Fl={class:"bg-red-50 border-b border-red-200"},Cl={class:"px-3 py-2 font-medium border-r border-red-200"},Pl={class:"flex items-center gap-1"},jl=["onInput","onFocus","onBlur"],Sl={class:"flex items-center justify-end gap-1"},Rl={class:"text-xs"},Ml={class:"text-xs"},Bl={class:"px-2 py-1 text-right border border-red-200 font-semibold bg-red-100"},Yl={class:"text-xs text-red-700"},Ol={key:1,class:"px-2 py-1 text-right border border-red-200 font-semibold bg-red-100"},Tl={class:"bg-red-50 border-b border-red-200"},Al={class:"px-3 py-2 font-medium border-r border-red-200"},El={class:"flex items-center gap-1"},Nl=["onInput","onFocus","onBlur"],Vl={class:"flex items-center justify-end gap-1"},Dl={class:"text-xs"},Il={class:"text-xs"},$l={class:"px-2 py-1 text-right border border-red-200 font-semibold bg-red-100"},Kl={class:"text-xs text-red-700"},ql={key:1,class:"px-2 py-1 text-right border border-red-200 font-semibold bg-red-100"},Ll={class:"bg-gradient-to-r from-red-100 to-red-200 border-b-2 border-red-400"},zl={class:"text-xs"},Hl={class:"px-2 py-1 text-right border border-red-300 bg-red-200 font-bold text-red-900"},Ul={class:"text-xs"},Ql={key:1,class:"px-2 py-1 text-right border border-red-300 bg-red-200 font-bold text-red-900"},Jl={class:"bg-gradient-to-r from-red-100 to-red-200 border-b-2 border-red-400"},Wl={colspan:"2",class:"px-3 py-2 font-bold border-r border-red-300 text-red-900 text-right"},Gl={class:"flex items-center gap-1 justify-end"},Xl={class:"text-xs"},Zl={class:"px-2 py-1 text-right border border-red-300 bg-red-200 font-bold text-red-900"},e0={class:"text-xs"},t0={key:1,class:"px-2 py-1 text-right border border-red-300 bg-red-200 font-bold text-red-900"},o0={class:"bg-red-50 border-b border-red-200"},s0=["onInput","onBlur"],r0={class:"text-xs"},n0={class:"px-2 py-1 text-right border border-red-200 font-semibold bg-red-100"},l0={class:"text-xs text-red-700"},d0={key:1,class:"px-2 py-1 text-right border border-red-200 font-semibold bg-red-100"},i0={class:"bg-red-50 border-b border-red-200"},a0={class:"px-3 py-2 font-medium border-r border-red-200"},c0={class:"flex items-center gap-1"},u0=["onInput","onFocus","onBlur"],x0={class:"flex items-center justify-end gap-1"},f0={class:"text-xs"},p0={class:"text-xs"},b0={class:"px-2 py-1 text-right border border-red-200 font-semibold bg-red-100"},g0={class:"text-xs text-red-700"},v0={key:1,class:"px-2 py-1 text-right border border-red-200 font-semibold bg-red-100"},h0={class:"bg-red-50 border-b border-red-200"},m0={class:"px-3 py-2 font-medium border-r border-red-200"},y0={class:"flex items-center gap-1"},_0=["onInput","onFocus","onBlur"],w0={class:"flex items-center justify-end gap-1"},k0={class:"text-xs"},F0={class:"text-xs"},C0={class:"px-2 py-1 text-right border border-red-200 font-semibold bg-red-100"},P0={class:"text-xs text-red-700"},j0={key:1,class:"px-2 py-1 text-right border border-red-200 font-semibold bg-red-100"},S0={class:"bg-red-50 border-b border-red-200"},R0={class:"px-3 py-2 font-medium border-r border-red-200"},M0={class:"flex items-center gap-1"},B0=["onInput","onFocus","onBlur"],Y0={class:"flex items-center justify-end gap-1"},O0={class:"text-xs"},T0={class:"text-xs"},A0={class:"px-2 py-1 text-right border border-red-200 font-semibold bg-red-100"},E0={class:"text-xs text-red-700"},N0={key:1,class:"px-2 py-1 text-right border border-red-200 font-semibold bg-red-100"},V0={class:"bg-gradient-to-r from-red-100 to-red-200 border-b-2 border-red-400"},D0={class:"text-xs"},I0={class:"px-2 py-1 text-right border border-red-300 bg-red-200 font-bold text-red-900"},$0={class:"text-xs"},K0={key:1,class:"px-2 py-1 text-right border border-red-300 bg-red-200 font-bold text-red-900"},q0={class:"bg-gradient-to-r from-red-100 to-red-200 border-b-2 border-red-400"},L0={colspan:"2",class:"px-3 py-2 font-bold border-r border-red-300 text-red-900 text-right"},z0={class:"flex items-center gap-1 justify-end"},H0={class:"text-xs"},U0={class:"px-2 py-1 text-right border border-red-300 bg-red-200 font-bold text-red-900"},Q0={class:"text-xs"},J0={key:1,class:"px-2 py-1 text-right border border-red-300 bg-red-200 font-bold text-red-900"},W0={key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-sm"},G0={class:"bg-white rounded-2xl shadow-2xl border border-violet-200 w-[95%] max-w-lg p-0 overflow-hidden"},X0={class:"flex items-center gap-3 px-8 py-6 bg-gradient-to-r from-violet-600 to-violet-700"},Z0={class:"p-8 pt-6"},ed={key:0,class:"mb-4 p-4 bg-yellow-50 border border-yellow-200 rounded-lg flex items-center gap-3"},td={key:1,class:"space-y-4 max-h-[50vh] overflow-auto pr-2"},od={class:"font-medium text-gray-700 flex items-center gap-2"},sd=["onUpdate:modelValue"],rd={class:"flex justify-end gap-3 px-8 py-4 bg-gray-50 border-t border-violet-100"},nd={__name:"Receipts_Payments",setup(_){const R=Q([]),g=Q("monthly"),M=Q([]),w=Q({}),I=Q([]),E=Q(!1),v=Q({}),m=Q(!1);Q({});const B=Q([]),L=Q(!1),S=Q("");Q(!1),Q(null);const V=Q(!1),f=Q(!1),F=Q([]),X=Kt(),z=Q({rooms:{month:0,following:0,second:0},fnb:{month:0,following:0,second:0},ood:{month:0,following:0,second:0}}),p=Q({rooms:{salary:{month:0,following:0,second:0},bonus:{month:0,following:0,second:0},payroll:{month:0,following:0,second:0},expenses:{month:0,following:0,second:0}},fnb:{salary:{month:0,following:0,second:0},bonus:{month:0,following:0,second:0},payroll:{month:0,following:0,second:0},expenses:{month:0,following:0,second:0}},ood:{salary:{month:0,following:0,second:0},bonus:{month:0,following:0,second:0},payroll:{month:0,following:0,second:0},expenses:{month:0,following:0,second:0}}}),k=Q({});function K(l,o,s){k.value[l]||(k.value[l]={}),k.value[l][o]||(k.value[l][o]={}),k.value[l][o][s]||(k.value[l][o][s]={})}function Y(l){if(l==null)return 0;const o=Number(String(l).replace(/,/g,"").trim());return isNaN(o)?0:o}function P(l,o,s,d){var y,T,$,D;const e=x(l),i=(D=($=(T=(y=k.value)==null?void 0:y[e])==null?void 0:T[o])==null?void 0:$[s])==null?void 0:D[d];return N(i)}function H(l,o,s){var T,$,D;const d=x(l),e=ce.value[s]||g.value,i=lt(e),y=((D=($=(T=k.value)==null?void 0:T[d])==null?void 0:$[o])==null?void 0:D[s])||{};return i.reduce((oe,ue)=>oe+N(y[ue]||0),0)}function J(l,o,s,d,e){const i=x(l);K(i,o,s);const y=Y(e.target.textContent);k.value[i][o][s][d]=y,m.value=!1}function U(l,o,s,d,e){const i=x(l);K(i,o,s);const y=Y(e.target.textContent);k.value[i][o][s][d]=y,pe(e,h(y))}function O(l){if(!l||typeof l!="string")return"rooms";const o=l.trim().toLowerCase();return o==="rooms"||o.includes("room")?"rooms":o==="food and beverage"||o==="f & b"||o==="f&b"||o.includes("beverage")?"fnb":o==="banquet"||o==="banquets"||o.includes("banquet")?"banquet":o==="other operating departments"||o.includes("other operating")||o==="ood"?"ood":o}function q(l){if(!z.value[l]){const o=z.value.rooms||{month:0,following:0,second:0};z.value[l]=dt(o)}if(!p.value[l]){let o;l==="rooms"?o=p.value.rooms:l==="fnb"?o=p.value.fnb:l==="ood"?o=p.value.ood:o=p.value.rooms,p.value[l]=dt(o)}}function de(l){Array.isArray(l)&&l.forEach(o=>{const s=O(o);q(s)})}const je=qt(),{fromYear:be,toYear:ge,advancedModes:ce}=At(je),{setFromYear:ld,setToYear:dd,setAdvancedModes:ct,clearYearSettings:ut,getFilteredToYears:xt}=je,C=Ae(()=>oo(be.value,ge.value)),ft=Ae(()=>xt(R.value));Ae(()=>I.value.length>0?getAllExpensesGroupedByCategory(I.value):getExpensesGroupedByCategory(w.value,C.value));const j=l=>[...lt(ce.value[l]||g.value),"ex1","ex2"],x=l=>O(l);function ve(){var l;return((l=xe.value)==null?void 0:l.project_name)||"default"}function De(){try{return localStorage.getItem("marketSegmentation")==="true"}catch(l){return!1}}function N(l){const o=Number(l);return isNaN(o)?0:o}function h(l){return N(l).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}const he=ro,Ie=Q({});function $e(l,o){const s={};return he.forEach(d=>{s[d]=N(Re(l,o,d))}),s}function Ke(l){const o=x(l),s=z.value[o]||{month:0,following:0,second:0};try{const d=_e(s);return Ie.value[o]=d,d}catch(d){return Ie.value[o]||{month:0,following:0,second:0}}}function qe(l,o){const s=$e(l,o),d=Ke(l);return{out:go(s,d,he),revenue:s,perc:d}}function we(l,o,s,d){const{out:e,revenue:i,perc:y}=qe(l,o),T=ce.value[o]||g.value;if(s==="ex1"){if(d==="sameMonth")return 0;if(d==="following")return N(i.Dec)*y.following;if(d==="second")return N(i.Nov)*y.second;if(d==="cashInflow")return N(e.cashInflow.ex1||0)}if(s==="ex2"){if(d==="sameMonth"||d==="following")return 0;if(d==="second")return N(i.Dec)*y.second;if(d==="cashInflow")return N(e.cashInflow.ex2||0)}if(T==="monthly")return d==="sameMonth"?N(e.sameMonth[s]||0):d==="following"?N(e.following[s]||0):d==="second"?N(e.second[s]||0):d==="cashInflow"?N(e.cashInflow[s]||0):0;if(T==="quarterly"&&ye[s]){const $=ye[s];if(d==="sameMonth")return $.reduce((D,oe)=>D+N(e.sameMonth[oe]||0),0);if(d==="following")return $.reduce((D,oe)=>D+N(e.following[oe]||0),0);if(d==="second")return $.reduce((D,oe)=>D+N(e.second[oe]||0),0);if(d==="cashInflow")return $.reduce((D,oe)=>D+N(e.cashInflow[oe]||0),0)}return 0}function fe(l,o,s){const{out:d}=qe(l,o);return s==="sameMonth"?N(d.totals.sameMonth||0):s==="following"?N(d.totals.following||0):s==="second"?N(d.totals.second||0):s==="cashInflow"?N(d.totals.cashInflow||0):0}function pt(l,o){const s={};return he.forEach(d=>{s[d]=N(Re(l,o+1,d))}),s}function Le(l,o){const s=$e(l,o),d=pt(l,o),e=Ke(l);return vo(s,e,he,d)}function bt(l,o,s){const d=ce.value[o]||g.value,e=Le(l,o);return s==="ex1"?N(e.ex1||0):s==="ex2"?N(e.ex2||0):d==="monthly"?N(e.ar[s]||0):d==="quarterly"&&ye[s]?ye[s].reduce((y,T)=>y+N(e.ar[T]||0),0):0}function gt(l,o){const s=Le(l,o);return N(s.total||0)}const{getPaymentValue:ee,getPaymentTotal:te,getPayablesValue:ke,getPayablesTotal:Fe}=yo({paymentBases:k,paymentPercentages:p,getDeptKey:x,advancedModes:ce,displayMode:g,monthlyLabels:he,quarterToMonths:ye,getNumber:N});function Se(l,o){const s=ve();return De()?X.getValue(s,"Market Segmentation","Total Rooms Revenue Including SC",l,o):X.getValue(s,"Room Revenue Assumptions","Total Room Revenue",l,o)}function vt(l){const o=ve();if(De()){const d=X.getValue(o,"Market Segmentation","Total Rooms Revenue Including SC Year",l,"ALL");return d>0?d:(j(l)||[]).reduce((e,i)=>e+N(Se(l,i)),0)}const s=X.getValue(o,"Room Revenue Assumptions","Total Room Revenue Year",l,"ALL");return s>0?s:(j(l)||[]).reduce((d,e)=>d+N(Se(l,e)),0)}function ze(l,o){const s=ve();return X.getValue(s,"F&B Revenue Assumptions","Total F&B Revenue",l,o)}function ht(l){return(j(l)||[]).reduce((o,s)=>o+N(ze(l,s)),0)}function He(l,o){const s=ve();return X.getValue(s,"Banquet Revenue Assumptions","Net Amount",l,o)}function mt(l){return(j(l)||[]).reduce((o,s)=>o+N(He(l,s)),0)}function Ue(l,o){const s=ve(),d=X.getValue(s,"OOD Revenue Assumptions","Total Laundry Revenue",l,o),e=X.getValue(s,"OOD Revenue Assumptions","Total Health Club Rev Including SC",l,o);return N(d)+N(e)}function yt(l){return(j(l)||[]).reduce((o,s)=>o+N(Ue(l,s)),0)}function Re(l,o,s){const d=O(l);return d==="rooms"?Se(o,s):d==="fnb"?ze(o,s):d==="banquet"||d==="banquets"?He(o,s):d==="ood"||d==="other operating departments"?Ue(o,s):0}function Qe(l,o){const s=O(l);return s==="rooms"?vt(o):s==="fnb"?ht(o):s==="banquet"||s==="banquets"?mt(o):s==="ood"||s==="other operating departments"?yt(o):0}Ce(C,()=>{C.value.forEach(l=>{ce.value[l]||je.setAdvancedMode(l,g.value)})}),Ce(xe,(l,o)=>ie(this,null,function*(){if(l&&l!==o)try{w.value={},I.value=[],M.value=[],yield Ze(),yield We(),B.value=[],m.value=!0,le.success(`Switched to project: ${l.project_name}`)}catch(s){console.error("Error loading project data:",s),le.error("Failed to load project data. Please try again.")}})),Ce(E,l=>{l&&(v.value=Te({},ce.value))}),Ce(m,l=>{l?window.removeEventListener("beforeunload",Me):window.addEventListener("beforeunload",Me)}),Et(()=>ie(this,null,function*(){try{yield Nt(),R.value=yield no(),w.value={},I.value=[],M.value=[],m.value=!0,xe.value&&(yield Ze(),yield We()),localStorage.getItem("showRefreshSuccess")==="true"&&(localStorage.removeItem("showRefreshSuccess"),le.success("Page refreshed successfully"))}catch(l){console.error("Error loading data:",l)}})),Vt(()=>{window.removeEventListener("beforeunload",Me)});function _t(){ut(),m.value=!1}const wt=()=>ie(this,null,function*(){var l;try{L.value=!0,S.value="";const o=((l=xe.value)==null?void 0:l.project_name)||null,s=Ft();if(!s.length){le.info("No changes to save");return}const d=yield wo(s,o);if(d.status==="error")throw new Error(d.message||"Save failed");le.success("Receipts & Payments saved"),m.value=!0,B.value=[]}catch(o){S.value=(o==null?void 0:o.message)||"Save failed",le.error(S.value)}finally{L.value=!1}});function Je(l){return l==="salary"?"Net Salary & Wage":l==="bonus"?"Bonus":l==="payroll"?"Payroll related":l==="expenses"?"Expenses":l}function kt(l){const o=(l||"").trim().toLowerCase();return o==="net salary & wage"||o==="net salary & wages"||o.includes("net salary")?"salary":o==="bonus"||o.includes("bonus")?"bonus":o==="payroll related"||o.includes("payroll")?"payroll":o==="expenses"||o.includes("expense")?"expenses":o}function We(){return ie(this,null,function*(){var l;try{const o=((l=xe.value)==null?void 0:l.project_name)||null,s=yield _o(o);if(!s||typeof s!="object")return;Object.keys(s).forEach(d=>{const e=s[d]||{};Object.keys(e).forEach(i=>{(e[i]||[]).forEach(T=>{const $=x(T.department||"");if(q($),T.section==="Revenue"&&T.percent_position&&T.percent!=null)z.value[$][T.percent_position]=Number(T.percent)||0;else if(T.section==="Payment"){const D=kt(T.payment_row||"");T.percent_position&&T.percent!=null&&(p.value[$][D]||(p.value[$][D]={month:0,following:0,second:0}),p.value[$][D][T.percent_position]=Number(T.percent)||0),Number(T.amount)>0&&(K($,D,d),k.value[$][D][d][i]=Number(T.amount)||0)}})})})}catch(o){console.error("Failed to load Receipts & Payments:",o),le.error("Failed to load Receipts & Payments")}})}function Ft(){var o;const l=[];for(const s of C.value)for(const d of F.value){const e=x(d),i=z.value[e]||{month:0,following:0,second:0};["month","following","second"].forEach($=>{const D=Number(i[$]||0);D>0&&l.push({year:s,month:"Jan",department:d,section:"Revenue",percent_position:$,percent:D})});const y=p.value[e]||{};Object.keys(y).forEach($=>{const D=y[$]||{month:0,following:0,second:0};["month","following","second"].forEach(oe=>{const ue=Number(D[oe]||0);ue>0&&l.push({year:s,month:"Jan",department:d,section:"Payment",payment_row:Je($),percent_position:oe,percent:ue})})});const T=((o=k.value)==null?void 0:o[e])||{};Object.keys(T).forEach($=>{var oe;const D=((oe=T[$])==null?void 0:oe[s])||{};Object.keys(D).forEach(ue=>{const et=Number(D[ue]||0);et>0&&l.push({year:s,month:ue,department:d,section:"Payment",payment_row:Je($),amount:et})})})}return l}function Ct(){ct(Te({},v.value)),E.value=!1}function Pt(){E.value=!1}function Me(l){if(!m.value)return l.preventDefault(),l.returnValue="You have unsaved changes that may be discarded if not saved. Are you sure you want to leave?",l.returnValue}function Ge(){localStorage.setItem("showRefreshSuccess","true"),window.location.reload()}function pe(l,o){var d,e;const s=((e=(d=l.currentTarget)==null?void 0:d.closest)==null?void 0:e.call(d,'td[contenteditable="true"]'))||l.currentTarget||l.target;if(s&&s.querySelector){const i=s.querySelector("span");i&&(i.textContent=o)}}function jt(l,o,s){const d=z.value[l]||{month:0,following:0,second:0},e=$=>{const D=Number($)||0;return D>1?D/100:D},i=e(o==="month"?s:d.month),y=e(o==="following"?s:d.following),T=e(o==="second"?s:d.second);return i+y+T}function Be(l,o,s){const d=parseFloat(s.target.textContent.replace("%","")),e=O(l);q(e),!isNaN(d)&&d>=0&&d<=100&&(z.value[e][o]=d,m.value=!1)}function Ye({type:l,period:o,event:s}){}function Oe({type:l,period:o,event:s}){const d=parseFloat(s.target.textContent.replace("%","")),e=O(l);if(q(e),!isNaN(d)&&d>=0&&d<=100){const i=jt(e,o,d);if(i>1){const y=Number(z.value[e][o])||0;pe(s,y.toFixed(2)+"%"),le.error(`Collection percentages cannot exceed 100%. Current total would be ${(i*100).toFixed(2)}%.`);return}z.value[e][o]=d,m.value=!1}else pe(s,(Number(z.value[e][o])||0).toFixed(2)+"%")}function Xe(l,o,s,d){const e=p.value[l]&&p.value[l][o]||{month:0,following:0,second:0},i=s==="month"?d:Number(e.month)||0,y=s==="following"?d:Number(e.following)||0,T=s==="second"?d:Number(e.second)||0;return i+y+T}function se(l,o,s,d){const e=parseFloat(d.target.textContent.replace("%","")),i=O(l);if(q(i),!isNaN(e)&&e>=0&&e<=100){const y=Xe(i,o,s,e);if(y>100){const T=Number(p.value[i][o][s])||0;pe(d,T.toFixed(2)+"%"),le.error(`Payment percentages for ${o} cannot exceed 100%. Current total would be ${y.toFixed(2)}%.`);return}p.value[i][o][s]=e,m.value=!1}}function re({type:l,category:o,period:s,event:d}){}function ne({type:l,category:o,period:s,event:d}){const e=parseFloat(d.target.textContent.replace("%","")),i=O(l);if(q(i),!isNaN(e)&&e>=0&&e<=100){const y=Xe(i,o,s,e);if(y>100){const T=Number(p.value[i][o][s])||0;pe(d,T.toFixed(2)+"%"),le.error(`Payment percentages for ${o} cannot exceed 100%. Current total would be ${y.toFixed(2)}%.`);return}p.value[i][o][s]=e,m.value=!1}else pe(d,(Number(p.value[i][o][s])||0).toFixed(2)+"%")}function Ze(){return ie(this,null,function*(){try{if(xe.value){const l=yield Dt(xe.value.name);l&&l.data&&l.data.data?(F.value=l.data.data,de(F.value)):Array.isArray(l)?(F.value=l,de(F.value)):F.value=[]}else F.value=[]}catch(l){console.error("Error loading departments:",l),F.value=[]}})}function St(){f.value=!0}function Rt(){f.value=!1}return(l,o)=>(r(),n(a,null,[t("div",ko,[W(Lt,{onOpenSettings:St}),t("div",Fo,[t("div",Co,[t("div",{class:It(["bg-gradient-to-b from-white to-gray-50 border-r border-gray-200 min-h-screen flex flex-col shadow-sm transition-all duration-300",V.value?"w-14 p-2":"w-80 p-6"])},[t("button",{onClick:o[0]||(o[0]=s=>V.value=!V.value),class:"mb-4 flex items-center gap-2 px-2 py-1 bg-violet-100 hover:bg-violet-200 rounded transition-all dark:bg-violet-900/30 dark:hover:bg-violet-800/40"},[V.value?(r(),me(c(nt),{key:1,class:"w-5 h-5 text-violet-700 dark:text-white"})):(r(),me(c(lo),{key:0,class:"w-5 h-5 text-violet-700 dark:text-white"})),V.value?ae("",!0):(r(),n("span",Po,"Collapse"))]),W(rt,{name:"fade"},{default:Ve(()=>[Pe(t("div",null,[t("div",jo,[t("div",So,[t("div",Ro,[W(c(Ne),{class:"w-7 h-7 mx-2 text-white"})]),o[23]||(o[23]=t("h1",{class:"text-2xl font-bold text-gray-900"},"Receipts & Payments",-1))]),o[24]||(o[24]=t("p",{class:"text-sm text-gray-500"},"Manage and configure your receipts and payments data",-1))]),t("div",Mo,[t("div",Bo,[t("div",Yo,[m.value?(r(),n("div",To,o[26]||(o[26]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1),Z(" All Saved ",-1)]))):(r(),n("div",Oo,o[25]||(o[25]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})],-1),Z(" Unsaved ",-1)])))]),!L.value&&!m.value?(r(),n("button",{key:0,disabled:L.value,onClick:wt,class:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-violet-600 to-violet-700 text-white rounded-lg hover:from-violet-700 hover:to-violet-800 transition-all duration-200 shadow-md hover:shadow-lg transform hover:scale-105"},o[27]||(o[27]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"})],-1),Z(" Save ",-1)]),8,Ao)):ae("",!0),L.value?(r(),n("button",Eo,o[28]||(o[28]=[t("svg",{class:"w-4 h-4 animate-spin",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1),Z(" Saving... ",-1)]))):ae("",!0)]),S.value?(r(),n("span",No,[o[29]||(o[29]=t("svg",{class:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),Z(" "+u(S.value),1)])):ae("",!0)]),t("div",Vo,[o[31]||(o[31]=t("h3",{class:"text-sm font-semibold text-gray-700 mb-3 flex items-center gap-2"},[t("svg",{class:"w-4 h-4 text-violet-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})]),Z(" Quick Actions ")],-1)),t("div",Do,[t("button",{onClick:Ge,class:"w-full flex items-center justify-center gap-2 px-3 py-2 bg-white border border-violet-200 text-violet-700 rounded-lg hover:bg-violet-50 transition-all text-sm font-medium"},[W(c(zt),{class:"w-4 h-4"}),o[30]||(o[30]=Z(" Refresh ",-1))])])]),t("div",Io,[t("div",$o,[o[38]||(o[38]=t("h3",{class:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2"},[t("svg",{class:"w-5 h-5 text-violet-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})]),Z(" Year Range Filter ")],-1)),t("div",Ko,[t("div",qo,[t("div",null,[o[33]||(o[33]=t("label",{class:"text-sm font-medium text-gray-700 mb-2 flex items-center gap-1"},[t("svg",{class:"w-3 h-3 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})]),Z(" From Year ")],-1)),Pe(t("select",{disabled:"","onUpdate:modelValue":o[1]||(o[1]=s=>st(be)?be.value=s:null),class:"w-full px-3 py-2.5 rounded-lg border border-gray-300 focus:border-violet-500 focus:ring-2 focus:ring-violet-200 transition-all bg-gray-100 text-sm"},[o[32]||(o[32]=t("option",{value:""},"Select Year",-1)),(r(!0),n(a,null,b(R.value,s=>(r(),n("option",{key:"from-"+s,value:s},u(s),9,Lo))),128))],512),[[Ee,c(be)]])]),t("div",null,[o[35]||(o[35]=t("label",{class:"text-sm font-medium text-gray-700 mb-2 flex items-center gap-1"},[t("svg",{class:"w-3 h-3 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})]),Z(" To Year ")],-1)),Pe(t("select",{disabled:"","onUpdate:modelValue":o[2]||(o[2]=s=>st(ge)?ge.value=s:null),class:"w-full px-3 py-2.5 rounded-lg border border-gray-300 focus:border-violet-500 focus:ring-2 focus:ring-violet-200 transition-all bg-gray-100 text-sm"},[o[34]||(o[34]=t("option",{value:""},"Select Year",-1)),(r(!0),n(a,null,b(ft.value,s=>(r(),n("option",{key:"to-"+s,value:s},u(s),9,zo))),128))],512),[[Ee,c(ge)]])])]),t("div",Ho,[t("button",{onClick:_t,class:"flex-1 flex items-center justify-center gap-2 px-3 py-2.5 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-all duration-200 text-sm font-medium"},o[36]||(o[36]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1),Z(" Clear ",-1)])),t("button",{onClick:o[3]||(o[3]=s=>E.value=!0),class:"flex-1 flex items-center justify-center gap-2 px-3 py-2.5 bg-white border border-violet-500 text-violet-700 rounded-lg hover:bg-violet-50 transition-all duration-200 text-sm font-medium"},o[37]||(o[37]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})],-1),Z(" Advanced ",-1)]))])])])])],512),[[$t,!V.value]])]),_:1})],2),t("div",Uo,[w.value.status==="no_project_selected"?(r(),n("div",Qo,[W(Xt)])):w.value.status==="error"?(r(),n("div",Jo,[W(Zt,{message:w.value.message,onRetry:Ge},null,8,["message"])])):C.value.length?(r(),n(a,{key:2},[t("div",Wo,[t("div",Go,[t("div",Xo,[W(c(io),{class:"w-3 h-3 text-white"})]),o[39]||(o[39]=t("h2",{class:"text-lg font-bold text-gray-800"},"Receipts & Payments Overview",-1))])]),t("div",Zo,[t("div",es,[t("div",ts,[t("table",os,[t("thead",ss,[t("tr",null,[o[40]||(o[40]=t("th",{rowspan:"2",class:"px-3 py-2 text-left align-middle border-r border-violet-400 font-semibold text-sm"},[t("div",{class:"flex items-center gap-1"}," Collections ")],-1)),o[41]||(o[41]=t("th",{rowspan:"2",class:"px-3 py-2 text-left align-middle border-r border-violet-400 font-semibold text-sm"},[t("div",{class:"flex items-center gap-1"}," Collection % ")],-1)),(r(!0),n(a,null,b(C.value,s=>(r(),n("th",{key:"header-"+s,colspan:c(A)(s)?1:j(s).length+1,class:"px-2 py-2 text-center border-x-2 border-white cursor-pointer select-none hover:bg-violet-700 transition-all duration-200 group text-sm",onClick:d=>c(so)(s),title:"Click to collapse/expand"},[t("div",ns,[t("span",ls,u(s),1),c(A)(s)?(r(),me(c(nt),{key:1,class:"w-3 h-3 transition-transform group-hover:scale-110"})):(r(),me(c(Ht),{key:0,class:"w-3 h-3 transition-transform group-hover:scale-110"}))])],8,rs))),128))]),t("tr",ds,[(r(!0),n(a,null,b(C.value,s=>(r(),n(a,{key:"months-"+s},[c(A)(s)?(r(),n("th",cs,[t("div",us,[W(c(Ne),{class:"w-2 h-2"}),o[43]||(o[43]=Z(" Total ",-1))])])):(r(),n(a,{key:0},[(r(!0),n(a,null,b(j(s),d=>(r(),n("th",{key:s+"-"+d,class:"px-2 py-1 text-center border border-violet-300 min-w-[100px] font-medium"},u(d),1))),128)),t("th",is,[t("div",as,[W(c(Ne),{class:"w-2 h-2"}),o[42]||(o[42]=Z(" Total ",-1))])])],64))],64))),128))])]),t("tbody",xs,[(r(!0),n(a,null,b(F.value,(s,d)=>(r(),n(a,{key:"dept-"+d},[t("tr",fs,[t("td",ps,[t("div",bs,u(s),1)]),(r(!0),n(a,null,b(C.value,e=>(r(),n(a,{key:"dept-header-"+d+"-"+e},[c(A)(e)?(r(),n("td",gs)):(r(),n(a,{key:0},[(r(!0),n(a,null,b(j(e),i=>(r(),n("td",{key:"dept-header-cell-"+d+"-"+e+"-"+i,class:"px-1 py-1 text-center border border-violet-500 bg-violet-600/30 text-white/90"}))),128)),o[44]||(o[44]=t("td",{class:"px-1 py-1 text-center border border-violet-500 bg-violet-600/30"},null,-1))],64))],64))),128))]),t("tr",vs,[o[46]||(o[46]=t("td",{colspan:"2",class:"px-3 py-2 font-semibold text-violet-800 border-r border-violet-200 dark:border-violet-700"},[t("div",{class:"flex items-center gap-2"}," Revenue ")],-1)),(r(!0),n(a,null,b(C.value,e=>(r(),n(a,{key:"dept-revenue-subheader-"+d+"-"+e},[c(A)(e)?(r(),n("td",hs)):(r(),n(a,{key:0},[(r(!0),n(a,null,b(j(e),i=>(r(),n("td",{key:"dept-revenue-subheader-cell-"+d+"-"+e+"-"+i,class:"px-1 py-1 text-center border border-violet-200 bg-violet-100 dark:border-violet-700 dark:bg-violet-800/30"}))),128)),o[45]||(o[45]=t("td",{class:"px-1 py-1 text-center border border-violet-200 bg-violet-100 dark:border-violet-700 dark:bg-violet-800/30"},null,-1))],64))],64))),128))]),t("tr",ms,[t("td",ys,[t("div",_s," Total monthly "+u(s)+" Revenue ",1)]),(r(!0),n(a,null,b(C.value,e=>(r(),n(a,{key:"dept-revenue-"+d+"-"+e},[c(A)(e)?(r(),n("td",Cs,[t("span",Ps,u(h(Qe(s,e))),1)])):(r(),n(a,{key:0},[(r(!0),n(a,null,b(j(e),i=>(r(),n("td",{key:"dept-revenue-cell-"+d+"-"+e+"-"+i,class:"px-2 py-1 text-right border border-violet-200 bg-violet-50 dark:border-violet-700 dark:bg-violet-900/20"},[t("span",ws,u(h(Re(s,e,i))),1)]))),128)),t("td",ks,[t("span",Fs,u(h(Qe(s,e))),1)])],64))],64))),128))]),t("tr",js,[t("td",Ss,[t("div",Rs," Collection- "+u(z.value[x(s)].month.toFixed(0))+"% in the month of Revenue ",1)]),t("td",{class:"px-3 py-2 font-medium border-r border-violet-200 dark:border-violet-700 text-violet-900 hover:bg-violet-100 focus:bg-white dark:text-white dark:hover:bg-violet-800/30 dark:focus:bg-gray-700 focus:outline-none focus:ring-1 focus:ring-violet-500 focus:border-transparent transition-all duration-200",contenteditable:"true",onKeypress:o[4]||(o[4]=e=>c(G)(e)),onInput:e=>Be(x(s),"month",e),onFocus:e=>Ye({type:x(s),period:"month",event:e}),onBlur:e=>Oe({type:x(s),period:"month",event:e})},[t("div",Bs,[t("span",Ys,u(z.value[x(s)].month.toFixed(2))+"%",1)])],40,Ms),(r(!0),n(a,null,b(C.value,e=>(r(),n(a,{key:"dept-collection-80-"+d+"-"+e},[c(A)(e)?(r(),n("td",Es,[t("span",Ns,u(h(fe(s,e,"sameMonth"))),1)])):(r(),n(a,{key:0},[(r(!0),n(a,null,b(j(e),i=>(r(),n("td",{key:"dept-collection-80-cell-"+d+"-"+e+"-"+i,class:"px-2 py-1 text-right border border-violet-200 bg-violet-50 dark:border-violet-700 dark:bg-violet-900/20"},[t("span",Os,u(h(we(s,e,i,"sameMonth"))),1)]))),128)),t("td",Ts,[t("span",As,u(h(fe(s,e,"sameMonth"))),1)])],64))],64))),128))]),t("tr",Vs,[t("td",Ds,[t("div",Is," Collection- "+u(z.value[x(s)].following.toFixed(0))+"% in the month following Revenue ",1)]),t("td",{class:"px-3 py-2 font-medium border-r border-violet-200 dark:border-violet-700 text-violet-900 hover:bg-violet-100 focus:bg-white dark:text-white dark:hover:bg-violet-800/30 dark:focus:bg-gray-700 focus:outline-none focus:ring-1 focus:ring-violet-500 focus:border-transparent transition-all duration-200",contenteditable:"true",onKeypress:o[5]||(o[5]=e=>c(G)(e)),onInput:e=>Be(x(s),"following",e),onFocus:e=>Ye({type:x(s),period:"following",event:e}),onBlur:e=>Oe({type:x(s),period:"following",event:e})},[t("div",Ks,[t("span",qs,u(z.value[x(s)].following.toFixed(2))+"%",1)])],40,$s),(r(!0),n(a,null,b(C.value,e=>(r(),n(a,{key:"dept-collection-15-"+d+"-"+e},[c(A)(e)?(r(),n("td",Us,[t("span",Qs,u(h(fe(s,e,"following"))),1)])):(r(),n(a,{key:0},[(r(!0),n(a,null,b(j(e),i=>(r(),n("td",{key:"dept-collection-15-cell-"+d+"-"+e+"-"+i,class:"px-2 py-1 text-right border border-violet-200 bg-violet-100 dark:border-violet-700 dark:bg-violet-800/30"},[t("span",Ls,u(h(we(s,e,i,"following"))),1)]))),128)),t("td",zs,[t("span",Hs,u(h(fe(s,e,"following"))),1)])],64))],64))),128))]),t("tr",Js,[t("td",Ws,[t("div",Gs," Collection- "+u(z.value[x(s)].second.toFixed(0))+"% in the Second month following Revenue ",1)]),t("td",{class:"px-3 py-2 font-medium border-r border-violet-200 dark:border-violet-700 text-violet-900 hover:bg-violet-100 focus:bg-white dark:text-white dark:hover:bg-violet-800/30 dark:focus:bg-gray-700 focus:outline-none focus:ring-1 focus:ring-violet-500 focus:border-transparent transition-all duration-200",contenteditable:"true",onKeypress:o[6]||(o[6]=e=>c(G)(e)),onInput:e=>Be(x(s),"second",e),onFocus:e=>Ye({type:x(s),period:"second",event:e}),onBlur:e=>Oe({type:x(s),period:"second",event:e})},[t("div",Zs,[t("span",er,u(z.value[x(s)].second.toFixed(2))+"%",1)])],40,Xs),(r(!0),n(a,null,b(C.value,e=>(r(),n(a,{key:"dept-collection-5-"+d+"-"+e},[c(A)(e)?(r(),n("td",rr,o[47]||(o[47]=[t("span",{class:"text-xs text-violet-700"},"0.00",-1)]))):(r(),n(a,{key:0},[(r(!0),n(a,null,b(j(e),i=>(r(),n("td",{key:"dept-collection-5-cell-"+d+"-"+e+"-"+i,class:"px-2 py-1 text-right border border-violet-200 bg-violet-50 dark:border-violet-700 dark:bg-violet-900/20"},[t("span",tr,u(h(we(s,e,i,"second"))),1)]))),128)),t("td",or,[t("span",sr,u(h(fe(s,e,"second"))),1)])],64))],64))),128))]),t("tr",nr,[o[49]||(o[49]=t("td",{colspan:"2",class:"px-3 py-2 font-bold border-r border-violet-300 text-violet-900 text-right"},[t("div",{class:"flex items-center gap-1 justify-end"}," Cash Inflow ")],-1)),(r(!0),n(a,null,b(C.value,e=>(r(),n(a,{key:"dept-cash-inflow-"+d+"-"+e},[c(A)(e)?(r(),n("td",ar,o[48]||(o[48]=[t("span",{class:"text-xs"},"0.00",-1)]))):(r(),n(a,{key:0},[(r(!0),n(a,null,b(j(e),i=>(r(),n("td",{key:"dept-cash-inflow-cell-"+d+"-"+e+"-"+i,class:"px-2 py-1 text-right border border-violet-300 bg-violet-200 font-bold text-violet-900"},[t("span",lr,u(h(we(s,e,i,"cashInflow"))),1)]))),128)),t("td",dr,[t("span",ir,u(h(fe(s,e,"cashInflow"))),1)])],64))],64))),128))]),t("tr",cr,[t("td",ur,[t("div",xr,u(s)+" Accounts Receivables ",1)]),(r(!0),n(a,null,b(C.value,e=>(r(),n(a,{key:"dept-accounts-receivables-"+d+"-"+e},[c(A)(e)?(r(),n("td",gr,o[50]||(o[50]=[t("span",{class:"text-xs"},"0.00",-1)]))):(r(),n(a,{key:0},[(r(!0),n(a,null,b(j(e),i=>(r(),n("td",{key:"dept-accounts-receivables-cell-"+d+"-"+e+"-"+i,class:"px-2 py-1 text-right border border-violet-300 bg-violet-200 font-bold text-violet-900"},[t("span",fr,u(h(bt(s,e,i))),1)]))),128)),t("td",pr,[t("span",br,u(h(gt(s,e))),1)])],64))],64))),128))]),t("tr",vr,[o[52]||(o[52]=t("td",{colspan:"2",class:"px-3 py-2 font-semibold text-red-800 border-r border-red-200"},[t("div",{class:"flex items-center gap-2"}," Payments ")],-1)),(r(!0),n(a,null,b(C.value,e=>(r(),n(a,{key:"dept-payments-subheader-"+d+"-"+e},[c(A)(e)?(r(),n("td",hr)):(r(),n(a,{key:0},[(r(!0),n(a,null,b(j(e),i=>(r(),n("td",{key:"dept-payments-subheader-cell-"+d+"-"+e+"-"+i,class:"px-1 py-1 text-center border border-red-200 bg-red-100"}))),128)),o[51]||(o[51]=t("td",{class:"px-1 py-1 text-center border border-red-200 bg-red-100"},null,-1))],64))],64))),128))]),t("tr",mr,[o[54]||(o[54]=t("td",{colspan:"2",class:"px-3 py-2 font-medium border-r border-red-200"},[t("div",{class:"flex items-center gap-1"}," Net Salary & Wages ")],-1)),(r(!0),n(a,null,b(C.value,e=>(r(),n(a,{key:"dept-salary-wages-"+d+"-"+e},[c(A)(e)?(r(),n("td",Fr,o[53]||(o[53]=[t("span",{class:"text-xs text-red-700"},"0.00",-1)]))):(r(),n(a,{key:0},[(r(!0),n(a,null,b(j(e),i=>(r(),n("td",{key:"dept-salary-wages-cell-"+d+"-"+e+"-"+i,class:"px-2 py-1 text-right border border-red-200 bg-red-50",contenteditable:"true",onKeypress:o[7]||(o[7]=y=>c(G)(y)),onInput:y=>J(s,"salary",e,i,y),onBlur:y=>U(s,"salary",e,i,y)},[t("span",_r,u(h(P(s,"salary",e,i))),1)],40,yr))),128)),t("td",wr,[t("span",kr,u(h(H(s,"salary",e))),1)])],64))],64))),128))]),t("tr",Cr,[t("td",Pr,[t("div",jr," Payment- "+u(p.value[x(s)].salary.month.toFixed(0))+"% in the month of Payroll run ",1)]),t("td",{class:"px-3 py-2 font-medium border-r border-red-200 text-red-900 hover:bg-red-100 focus:bg-white focus:outline-none focus:ring-1 focus:ring-red-500 focus:border-transparent transition-all duration-200",contenteditable:"true",onKeypress:o[8]||(o[8]=e=>c(G)(e)),onInput:e=>se(x(s),"salary","month",e),onFocus:e=>re({type:x(s),category:"salary",period:"month",event:e}),onBlur:e=>ne({type:x(s),category:"salary",period:"month",event:e})},[t("div",Rr,[t("span",Mr,u((p.value[x(s)].salary.month||0).toFixed(2))+"%",1)])],40,Sr),(r(!0),n(a,null,b(C.value,e=>(r(),n(a,{key:"dept-salary-payment-80-"+d+"-"+e},[c(A)(e)?(r(),n("td",Tr,o[55]||(o[55]=[t("span",{class:"text-xs text-red-700"},"0.00",-1)]))):(r(),n(a,{key:0},[(r(!0),n(a,null,b(j(e),i=>(r(),n("td",{key:"dept-salary-payment-80-cell-"+d+"-"+e+"-"+i,class:"px-2 py-1 text-right border border-red-200 bg-red-50"},[t("span",Br,u(h(c(ee)(s,"salary",e,i,"sameMonth"))),1)]))),128)),t("td",Yr,[t("span",Or,u(h(c(te)(s,"salary",e,"sameMonth"))),1)])],64))],64))),128))]),t("tr",Ar,[t("td",Er,[t("div",Nr," Payment- "+u(p.value[x(s)].salary.following.toFixed(0))+"% in the month of Payroll run ",1)]),t("td",{class:"px-3 py-2 font-medium border-r border-red-200 text-red-900 hover:bg-red-100 focus:bg-white focus:outline-none focus:ring-1 focus:ring-red-500 focus:border-transparent transition-all duration-200",contenteditable:"true",onKeypress:o[9]||(o[9]=e=>c(G)(e)),onInput:e=>se(x(s),"salary","following",e),onFocus:e=>re({type:x(s),category:"salary",period:"following",event:e}),onBlur:e=>ne({type:x(s),category:"salary",period:"following",event:e})},[t("div",Dr,[t("span",Ir,u(p.value[x(s)].salary.following.toFixed(2))+"%",1)])],40,Vr),(r(!0),n(a,null,b(C.value,e=>(r(),n(a,{key:"dept-"+d+"-salary-payment-15-"+e},[c(A)(e)?(r(),n("td",Lr,o[56]||(o[56]=[t("span",{class:"text-xs text-red-700"},"0.00",-1)]))):(r(),n(a,{key:0},[(r(!0),n(a,null,b(j(e),i=>(r(),n("td",{key:"dept-"+d+"-salary-payment-15-cell-"+e+"-"+i,class:"px-2 py-1 text-right border border-red-200 bg-red-50"},[t("span",$r,u(h(c(ee)(s,"salary",e,i,"following"))),1)]))),128)),t("td",Kr,[t("span",qr,u(h(c(te)(s,"salary",e,"following"))),1)])],64))],64))),128))]),t("tr",zr,[t("td",Hr,[t("div",Ur," Payment- "+u(p.value[x(s)].salary.second.toFixed(0))+"% in the month of Payroll run ",1)]),t("td",{class:"px-3 py-2 font-medium border-r border-red-200 text-red-900 hover:bg-red-100 focus:bg-white focus:outline-none focus:ring-1 focus:ring-red-500 focus:border-transparent transition-all duration-200",contenteditable:"true",onKeypress:o[10]||(o[10]=e=>c(G)(e)),onInput:e=>se(x(s),"salary","second",e),onFocus:e=>re({type:x(s),category:"salary",period:"second",event:e}),onBlur:e=>ne({type:x(s),category:"salary",period:"second",event:e})},[t("div",Jr,[t("span",Wr,u(p.value[x(s)].salary.second.toFixed(2))+"%",1)])],40,Qr),(r(!0),n(a,null,b(C.value,e=>(r(),n(a,{key:"dept-"+d+"-salary-payment-5-"+e},[c(A)(e)?(r(),n("td",en,o[57]||(o[57]=[t("span",{class:"text-xs text-red-700"},"0.00",-1)]))):(r(),n(a,{key:0},[(r(!0),n(a,null,b(j(e),i=>(r(),n("td",{key:"dept-"+d+"-salary-payment-5-cell-"+e+"-"+i,class:"px-2 py-1 text-right border border-red-200 bg-red-50"},[t("span",Gr,u(h(c(ee)(s,"salary",e,i,"second"))),1)]))),128)),t("td",Xr,[t("span",Zr,u(h(c(te)(s,"salary",e,"second"))),1)])],64))],64))),128))]),t("tr",tn,[o[59]||(o[59]=t("td",{colspan:"2",class:"px-3 py-2 font-bold border-r border-red-300 text-red-900 text-right"},[t("div",{class:"flex items-center gap-1 justify-end"}," Cash Outflow ")],-1)),(r(!0),n(a,null,b(C.value,e=>(r(),n(a,{key:"dept-"+d+"-salary-cash-outflow-"+e},[c(A)(e)?(r(),n("td",nn,o[58]||(o[58]=[t("span",{class:"text-xs"},"0.00",-1)]))):(r(),n(a,{key:0},[(r(!0),n(a,null,b(j(e),i=>(r(),n("td",{key:"dept-"+d+"-salary-cash-outflow-cell-"+e+"-"+i,class:"px-2 py-1 text-right border border-red-300 bg-red-200 font-bold text-red-900"},[t("span",on,u(h(c(ee)(s,"salary",e,i,"cashOutflow"))),1)]))),128)),t("td",sn,[t("span",rn,u(h(c(te)(s,"salary",e,"cashOutflow"))),1)])],64))],64))),128))]),t("tr",ln,[t("td",dn,[t("div",an,u(s)+" Net Salaries & Wages Payables ",1)]),(r(!0),n(a,null,b(C.value,e=>(r(),n(a,{key:"dept-"+d+"-salary-payables-"+e},[c(A)(e)?(r(),n("td",fn,o[60]||(o[60]=[t("span",{class:"text-xs"},"0.00",-1)]))):(r(),n(a,{key:0},[(r(!0),n(a,null,b(j(e),i=>(r(),n("td",{key:"dept-"+d+"-salary-payables-cell-"+e+"-"+i,class:"px-2 py-1 text-right border border-red-300 bg-red-200 font-bold text-red-900"},[t("span",cn,u(h(c(ke)(s,"salary",e,i))),1)]))),128)),t("td",un,[t("span",xn,u(h(c(Fe)(s,"salary",e))),1)])],64))],64))),128))]),t("tr",pn,[o[62]||(o[62]=t("td",{colspan:"2",class:"px-3 py-2 font-medium border-r border-red-200"},[t("div",{class:"flex items-center gap-1"}," Bonus ")],-1)),(r(!0),n(a,null,b(C.value,e=>(r(),n(a,{key:"dept-"+d+"-bonus-"+e},[c(A)(e)?(r(),n("td",mn,o[61]||(o[61]=[t("span",{class:"text-xs text-red-700"},"0.00",-1)]))):(r(),n(a,{key:0},[(r(!0),n(a,null,b(j(e),i=>(r(),n("td",{key:"dept-"+d+"-bonus-cell-"+e+"-"+i,class:"px-2 py-1 text-right border border-red-200 bg-red-50",contenteditable:"true",onKeypress:o[11]||(o[11]=y=>c(G)(y)),onInput:y=>J(s,"bonus",e,i,y),onBlur:y=>U(s,"bonus",e,i,y)},[t("span",gn,u(h(P(s,"bonus",e,i))),1)],40,bn))),128)),t("td",vn,[t("span",hn,u(h(H(s,"bonus",e))),1)])],64))],64))),128))]),t("tr",yn,[t("td",_n,[t("div",wn," Payment- "+u(p.value[x(s)].bonus.month.toFixed(0))+"% in the month of Payroll run ",1)]),t("td",{class:"px-3 py-2 font-medium border-r border-red-200 text-red-900 hover:bg-red-100 focus:bg-white focus:outline-none focus:ring-1 focus:ring-red-500 focus:border-transparent transition-all duration-200",contenteditable:"true",onKeypress:o[12]||(o[12]=e=>c(G)(e)),onInput:e=>se(x(s),"bonus","month",e),onFocus:e=>re({type:x(s),category:"bonus",period:"month",event:e}),onBlur:e=>ne({type:x(s),category:"bonus",period:"month",event:e})},[t("div",Fn,[t("span",Cn,u(p.value[x(s)].bonus.month.toFixed(2))+"%",1)])],40,kn),(r(!0),n(a,null,b(C.value,e=>(r(),n(a,{key:"dept-"+d+"-bonus-payment-80-"+e},[c(A)(e)?(r(),n("td",Rn,o[63]||(o[63]=[t("span",{class:"text-xs text-red-700"},"0.00",-1)]))):(r(),n(a,{key:0},[(r(!0),n(a,null,b(j(e),i=>(r(),n("td",{key:"dept-"+d+"-bonus-payment-80-cell-"+e+"-"+i,class:"px-2 py-1 text-right border border-red-200 bg-red-50"},[t("span",Pn,u(h(c(ee)(s,"bonus",e,i,"sameMonth"))),1)]))),128)),t("td",jn,[t("span",Sn,u(h(c(te)(s,"bonus",e,"sameMonth"))),1)])],64))],64))),128))]),t("tr",Mn,[t("td",Bn,[t("div",Yn," Payment- "+u(p.value[x(s)].bonus.following.toFixed(0))+"% in the month of Payroll run ",1)]),t("td",{class:"px-3 py-2 font-medium border-r border-red-200 text-red-900 hover:bg-red-100 focus:bg-white focus:outline-none focus:ring-1 focus:ring-red-500 focus:border-transparent transition-all duration-200",contenteditable:"true",onKeypress:o[13]||(o[13]=e=>c(G)(e)),onInput:e=>se(x(s),"bonus","following",e),onFocus:e=>re({type:x(s),category:"bonus",period:"following",event:e}),onBlur:e=>ne({type:x(s),category:"bonus",period:"following",event:e})},[t("div",Tn,[t("span",An,u(p.value[x(s)].bonus.following.toFixed(2))+"%",1)])],40,On),(r(!0),n(a,null,b(C.value,e=>(r(),n(a,{key:"dept-"+d+"-bonus-payment-15-"+e},[c(A)(e)?(r(),n("td",Dn,o[64]||(o[64]=[t("span",{class:"text-xs text-red-700"},"0.00",-1)]))):(r(),n(a,{key:0},[(r(!0),n(a,null,b(j(e),i=>(r(),n("td",{key:"dept-"+d+"-bonus-payment-15-cell-"+e+"-"+i,class:"px-2 py-1 text-right border border-red-200 bg-red-50"},[t("span",En,u(h(c(ee)(s,"bonus",e,i,"following"))),1)]))),128)),t("td",Nn,[t("span",Vn,u(h(c(te)(s,"bonus",e,"following"))),1)])],64))],64))),128))]),t("tr",In,[t("td",$n,[t("div",Kn," Payment- "+u(p.value[x(s)].bonus.second.toFixed(0))+"% in the month of Payroll run ",1)]),t("td",{class:"px-3 py-2 font-medium border-r border-red-200 text-red-900 hover:bg-red-100 focus:bg-white focus:outline-none focus:ring-1 focus:ring-red-500 focus:border-transparent transition-all duration-200",contenteditable:"true",onKeypress:o[14]||(o[14]=e=>c(G)(e)),onInput:e=>se(x(s),"bonus","second",e),onFocus:e=>re({type:x(s),category:"bonus",period:"second",event:e}),onBlur:e=>ne({type:x(s),category:"bonus",period:"second",event:e})},[t("div",Ln,[t("span",zn,u(p.value[x(s)].bonus.second.toFixed(2))+"%",1)])],40,qn),(r(!0),n(a,null,b(C.value,e=>(r(),n(a,{key:"dept-"+d+"-bonus-payment-5-"+e},[c(A)(e)?(r(),n("td",Jn,o[65]||(o[65]=[t("span",{class:"text-xs text-red-700"},"0.00",-1)]))):(r(),n(a,{key:0},[(r(!0),n(a,null,b(j(e),i=>(r(),n("td",{key:"dept-"+d+"-bonus-payment-5-cell-"+e+"-"+i,class:"px-2 py-1 text-right border border-red-200 bg-red-50"},[t("span",Hn,u(h(c(ee)(s,"bonus",e,i,"second"))),1)]))),128)),t("td",Un,[t("span",Qn,u(h(c(te)(s,"bonus",e,"second"))),1)])],64))],64))),128))]),t("tr",Wn,[o[67]||(o[67]=t("td",{colspan:"2",class:"px-3 py-2 font-bold border-r border-red-300 text-red-900 text-right"},[t("div",{class:"flex items-center gap-1 justify-end"}," Cash Outflow ")],-1)),(r(!0),n(a,null,b(C.value,e=>(r(),n(a,{key:"rooms-bonus-cash-outflow-"+e},[c(A)(e)?(r(),n("td",el,o[66]||(o[66]=[t("span",{class:"text-xs"},"0.00",-1)]))):(r(),n(a,{key:0},[(r(!0),n(a,null,b(j(e),i=>(r(),n("td",{key:"rooms-bonus-cash-outflow-cell-"+e+"-"+i,class:"px-2 py-1 text-right border border-red-300 bg-red-200 font-bold text-red-900"},[t("span",Gn,u(h(c(ee)(s,"bonus",e,i,"cashOutflow"))),1)]))),128)),t("td",Xn,[t("span",Zn,u(h(c(te)(s,"bonus",e,"cashOutflow"))),1)])],64))],64))),128))]),t("tr",tl,[t("td",ol,[t("div",sl,u(s)+" Bonus Payables ",1)]),(r(!0),n(a,null,b(C.value,e=>(r(),n(a,{key:"rooms-bonus-payables-"+e},[c(A)(e)?(r(),n("td",dl,o[68]||(o[68]=[t("span",{class:"text-xs"},"0.00",-1)]))):(r(),n(a,{key:0},[(r(!0),n(a,null,b(j(e),i=>(r(),n("td",{key:"rooms-bonus-payables-cell-"+e+"-"+i,class:"px-2 py-1 text-right border border-red-300 bg-red-200 font-bold text-red-900"},[t("span",rl,u(h(c(ke)(s,"bonus",e,i))),1)]))),128)),t("td",nl,[t("span",ll,u(h(c(Fe)(s,"bonus",e))),1)])],64))],64))),128))]),t("tr",il,[o[70]||(o[70]=t("td",{colspan:"2",class:"px-3 py-2 font-medium border-r border-red-200"},[t("div",{class:"flex items-center gap-1"}," Payroll Related ")],-1)),(r(!0),n(a,null,b(C.value,e=>(r(),n(a,{key:"rooms-payroll-related-"+e},[c(A)(e)?(r(),n("td",fl,o[69]||(o[69]=[t("span",{class:"text-xs text-red-700"},"0.00",-1)]))):(r(),n(a,{key:0},[(r(!0),n(a,null,b(j(e),i=>(r(),n("td",{key:"rooms-payroll-related-cell-"+e+"-"+i,class:"px-2 py-1 text-right border border-red-200 bg-red-50",contenteditable:"true",onKeypress:o[15]||(o[15]=y=>c(G)(y)),onInput:y=>J(s,"payroll",e,i,y),onBlur:y=>U(s,"payroll",e,i,y)},[t("span",cl,u(h(P(s,"payroll",e,i))),1)],40,al))),128)),t("td",ul,[t("span",xl,u(h(H(s,"payroll",e))),1)])],64))],64))),128))]),t("tr",pl,[t("td",bl,[t("div",gl," Payment- "+u(p.value[x(s)].payroll.month.toFixed(0))+"% in the month of Payroll run ",1)]),t("td",{class:"px-3 py-2 font-medium border-r border-red-200 text-red-900 hover:bg-red-100 focus:bg-white focus:outline-none focus:ring-1 focus:ring-red-500 focus:border-transparent transition-all duration-200",contenteditable:"true",onKeypress:o[16]||(o[16]=e=>c(G)(e)),onInput:e=>se(x(s),"payroll","month",e),onFocus:e=>re({type:x(s),category:"payroll",period:"month",event:e}),onBlur:e=>ne({type:x(s),category:"payroll",period:"month",event:e})},[t("div",hl,[t("span",ml,u(p.value[x(s)].payroll.month.toFixed(2))+"%",1)])],40,vl),(r(!0),n(a,null,b(C.value,e=>(r(),n(a,{key:"rooms-payroll-payment-80-"+e},[c(A)(e)?(r(),n("td",kl,o[71]||(o[71]=[t("span",{class:"text-xs text-red-700"},"0.00",-1)]))):(r(),n(a,{key:0},[(r(!0),n(a,null,b(j(e),i=>(r(),n("td",{key:"rooms-payroll-payment-80-cell-"+e+"-"+i,class:"px-2 py-1 text-right border border-red-200 bg-red-50"},[t("span",yl,u(h(c(ee)(s,"payroll",e,i,"sameMonth"))),1)]))),128)),t("td",_l,[t("span",wl,u(h(c(te)(s,"payroll",e,"sameMonth"))),1)])],64))],64))),128))]),t("tr",Fl,[t("td",Cl,[t("div",Pl," Payment- "+u(p.value[x(s)].payroll.following.toFixed(0))+"% in the month of Payroll run ",1)]),t("td",{class:"px-3 py-2 font-medium border-r border-red-200 text-red-900 hover:bg-red-100 focus:bg-white focus:outline-none focus:ring-1 focus:ring-red-500 focus:border-transparent transition-all duration-200",contenteditable:"true",onKeypress:o[17]||(o[17]=e=>c(G)(e)),onInput:e=>se(x(s),"payroll","following",e),onFocus:e=>re({type:x(s),category:"payroll",period:"following",event:e}),onBlur:e=>ne({type:x(s),category:"payroll",period:"following",event:e})},[t("div",Sl,[t("span",Rl,u(p.value[x(s)].payroll.following.toFixed(2))+"%",1)])],40,jl),(r(!0),n(a,null,b(C.value,e=>(r(),n(a,{key:"rooms-payroll-payment-15-"+e},[c(A)(e)?(r(),n("td",Ol,o[72]||(o[72]=[t("span",{class:"text-xs text-red-700"},"0.00",-1)]))):(r(),n(a,{key:0},[(r(!0),n(a,null,b(j(e),i=>(r(),n("td",{key:"rooms-payroll-payment-15-cell-"+e+"-"+i,class:"px-2 py-1 text-right border border-red-200 bg-red-50"},[t("span",Ml,u(h(c(ee)(s,"payroll",e,i,"following"))),1)]))),128)),t("td",Bl,[t("span",Yl,u(h(c(te)(s,"payroll",e,"following"))),1)])],64))],64))),128))]),t("tr",Tl,[t("td",Al,[t("div",El," Payment- "+u(p.value[x(s)].payroll.second.toFixed(0))+"% in the month of Payroll run ",1)]),t("td",{class:"px-3 py-2 font-medium border-r border-red-200 text-red-900 hover:bg-red-100 focus:bg-white focus:outline-none focus:ring-1 focus:ring-red-500 focus:border-transparent transition-all duration-200",contenteditable:"true",onKeypress:o[18]||(o[18]=e=>c(G)(e)),onInput:e=>se(x(s),"payroll","second",e),onFocus:e=>re({type:x(s),category:"payroll",period:"second",event:e}),onBlur:e=>ne({type:x(s),category:"payroll",period:"second",event:e})},[t("div",Vl,[t("span",Dl,u(p.value[x(s)].payroll.second.toFixed(2))+"%",1)])],40,Nl),(r(!0),n(a,null,b(C.value,e=>(r(),n(a,{key:"rooms-payroll-payment-5-"+e},[c(A)(e)?(r(),n("td",ql,o[73]||(o[73]=[t("span",{class:"text-xs text-red-700"},"0.00",-1)]))):(r(),n(a,{key:0},[(r(!0),n(a,null,b(j(e),i=>(r(),n("td",{key:"rooms-payroll-payment-5-cell-"+e+"-"+i,class:"px-2 py-1 text-right border border-red-200 bg-red-50"},[t("span",Il,u(h(c(ee)(s,"payroll",e,i,"second"))),1)]))),128)),t("td",$l,[t("span",Kl,u(h(c(te)(s,"payroll",e,"second"))),1)])],64))],64))),128))]),t("tr",Ll,[o[75]||(o[75]=t("td",{colspan:"2",class:"px-3 py-2 font-bold border-r border-red-300 text-red-900 text-right"},[t("div",{class:"flex items-center gap-1 justify-end"}," Cash Outflow ")],-1)),(r(!0),n(a,null,b(C.value,e=>(r(),n(a,{key:"rooms-payroll-cash-outflow-"+e},[c(A)(e)?(r(),n("td",Ql,o[74]||(o[74]=[t("span",{class:"text-xs"},"0.00",-1)]))):(r(),n(a,{key:0},[(r(!0),n(a,null,b(j(e),i=>(r(),n("td",{key:"rooms-payroll-cash-outflow-cell-"+e+"-"+i,class:"px-2 py-1 text-right border border-red-300 bg-red-200 font-bold text-red-900"},[t("span",zl,u(h(c(ee)(s,"payroll",e,i,"cashOutflow"))),1)]))),128)),t("td",Hl,[t("span",Ul,u(h(c(te)(s,"payroll",e,"cashOutflow"))),1)])],64))],64))),128))]),t("tr",Jl,[t("td",Wl,[t("div",Gl,u(s)+" Payroll Related Payables ",1)]),(r(!0),n(a,null,b(C.value,e=>(r(),n(a,{key:"rooms-payroll-payables-"+e},[c(A)(e)?(r(),n("td",t0,o[76]||(o[76]=[t("span",{class:"text-xs"},"0.00",-1)]))):(r(),n(a,{key:0},[(r(!0),n(a,null,b(j(e),i=>(r(),n("td",{key:"rooms-payroll-payables-cell-"+e+"-"+i,class:"px-2 py-1 text-right border border-red-300 bg-red-200 font-bold text-red-900"},[t("span",Xl,u(h(c(ke)(s,"payroll",e,i))),1)]))),128)),t("td",Zl,[t("span",e0,u(h(c(Fe)(s,"payroll",e))),1)])],64))],64))),128))]),t("tr",o0,[o[78]||(o[78]=t("td",{colspan:"2",class:"px-3 py-2 font-medium border-r border-red-200"},[t("div",{class:"flex items-center gap-1"}," Expenses ")],-1)),(r(!0),n(a,null,b(C.value,e=>(r(),n(a,{key:"rooms-expenses-"+e},[c(A)(e)?(r(),n("td",d0,o[77]||(o[77]=[t("span",{class:"text-xs text-red-700"},"0.00",-1)]))):(r(),n(a,{key:0},[(r(!0),n(a,null,b(j(e),i=>(r(),n("td",{key:"rooms-expenses-cell-"+e+"-"+i,class:"px-2 py-1 text-right border border-red-200 bg-red-50",contenteditable:"true",onKeypress:o[19]||(o[19]=y=>c(G)(y)),onInput:y=>J(s,"expenses",e,i,y),onBlur:y=>U(s,"expenses",e,i,y)},[t("span",r0,u(h(P(s,"expenses",e,i))),1)],40,s0))),128)),t("td",n0,[t("span",l0,u(h(H(s,"expenses",e))),1)])],64))],64))),128))]),t("tr",i0,[t("td",a0,[t("div",c0," Payment- "+u(p.value[x(s)].expenses.month.toFixed(0))+"% in the month of Payroll run ",1)]),t("td",{class:"px-3 py-2 font-medium border-r border-red-200 text-red-900 hover:bg-red-100 focus:bg-white focus:outline-none focus:ring-1 focus:ring-red-500 focus:border-transparent transition-all duration-200",contenteditable:"true",onKeypress:o[20]||(o[20]=e=>c(G)(e)),onInput:e=>se(x(s),"expenses","month",e),onFocus:e=>re({type:x(s),category:"expenses",period:"month",event:e}),onBlur:e=>ne({type:x(s),category:"expenses",period:"month",event:e})},[t("div",x0,[t("span",f0,u(p.value[x(s)].expenses.month.toFixed(2))+"%",1)])],40,u0),(r(!0),n(a,null,b(C.value,e=>(r(),n(a,{key:"rooms-expenses-payment-80-"+e},[c(A)(e)?(r(),n("td",v0,o[79]||(o[79]=[t("span",{class:"text-xs text-red-700"},"0.00",-1)]))):(r(),n(a,{key:0},[(r(!0),n(a,null,b(j(e),i=>(r(),n("td",{key:"rooms-expenses-payment-80-cell-"+e+"-"+i,class:"px-2 py-1 text-right border border-red-200 bg-red-50"},[t("span",p0,u(h(c(ee)(s,"expenses",e,i,"sameMonth"))),1)]))),128)),t("td",b0,[t("span",g0,u(h(c(te)(s,"expenses",e,"sameMonth"))),1)])],64))],64))),128))]),t("tr",h0,[t("td",m0,[t("div",y0," Payment- "+u(p.value[x(s)].expenses.following.toFixed(0))+"% in the month of Payroll run ",1)]),t("td",{class:"px-3 py-2 font-medium border-r border-red-200 text-red-900 hover:bg-red-100 focus:bg-white focus:outline-none focus:ring-1 focus:ring-red-500 focus:border-transparent transition-all duration-200",contenteditable:"true",onKeypress:o[21]||(o[21]=e=>c(G)(e)),onInput:e=>se(x(s),"expenses","following",e),onFocus:e=>re({type:x(s),category:"expenses",period:"following",event:e}),onBlur:e=>ne({type:x(s),category:"expenses",period:"following",event:e})},[t("div",w0,[t("span",k0,u(p.value[x(s)].expenses.following.toFixed(2))+"%",1)])],40,_0),(r(!0),n(a,null,b(C.value,e=>(r(),n(a,{key:"rooms-expenses-payment-15-"+e},[c(A)(e)?(r(),n("td",j0,o[80]||(o[80]=[t("span",{class:"text-xs text-red-700"},"0.00",-1)]))):(r(),n(a,{key:0},[(r(!0),n(a,null,b(j(e),i=>(r(),n("td",{key:"rooms-expenses-payment-15-cell-"+e+"-"+i,class:"px-2 py-1 text-right border border-red-200 bg-red-50"},[t("span",F0,u(h(c(ee)(s,"expenses",e,i,"following"))),1)]))),128)),t("td",C0,[t("span",P0,u(h(c(te)(s,"expenses",e,"following"))),1)])],64))],64))),128))]),t("tr",S0,[t("td",R0,[t("div",M0," Payment- "+u(p.value[x(s)].expenses.second.toFixed(0))+"% in the month of Payroll run ",1)]),t("td",{class:"px-3 py-2 font-medium border-r border-red-200 text-red-900 hover:bg-red-100 focus:bg-white focus:outline-none focus:ring-1 focus:ring-red-500 focus:border-transparent transition-all duration-200",contenteditable:"true",onKeypress:o[22]||(o[22]=e=>c(G)(e)),onInput:e=>se(x(s),"expenses","second",e),onFocus:e=>re({type:x(s),category:"expenses",period:"second",event:e}),onBlur:e=>ne({type:x(s),category:"expenses",period:"second",event:e})},[t("div",Y0,[t("span",O0,u(p.value[x(s)].expenses.second.toFixed(2))+"%",1)])],40,B0),(r(!0),n(a,null,b(C.value,e=>(r(),n(a,{key:"rooms-expenses-payment-5-"+e},[c(A)(e)?(r(),n("td",N0,o[81]||(o[81]=[t("span",{class:"text-xs text-red-700"},"0.00",-1)]))):(r(),n(a,{key:0},[(r(!0),n(a,null,b(j(e),i=>(r(),n("td",{key:"rooms-expenses-payment-5-cell-"+e+"-"+i,class:"px-2 py-1 text-right border border-red-200 bg-red-50"},[t("span",T0,u(h(c(ee)(s,"expenses",e,i,"second"))),1)]))),128)),t("td",A0,[t("span",E0,u(h(c(te)(s,"expenses",e,"second"))),1)])],64))],64))),128))]),t("tr",V0,[o[83]||(o[83]=t("td",{colspan:"2",class:"px-3 py-2 font-bold border-r border-red-300 text-red-900 text-right"},[t("div",{class:"flex items-center gap-1 justify-end"}," Cash Outflow ")],-1)),(r(!0),n(a,null,b(C.value,e=>(r(),n(a,{key:"rooms-expenses-cash-outflow-"+e},[c(A)(e)?(r(),n("td",K0,o[82]||(o[82]=[t("span",{class:"text-xs"},"0.00",-1)]))):(r(),n(a,{key:0},[(r(!0),n(a,null,b(j(e),i=>(r(),n("td",{key:"rooms-expenses-cash-outflow-cell-"+e+"-"+i,class:"px-2 py-1 text-right border border-red-300 bg-red-200 font-bold text-red-900"},[t("span",D0,u(h(c(ee)(s,"expenses",e,i,"cashOutflow"))),1)]))),128)),t("td",I0,[t("span",$0,u(h(c(te)(s,"expenses",e,"cashOutflow"))),1)])],64))],64))),128))]),t("tr",q0,[t("td",L0,[t("div",z0,u(s)+" Expenses Payables ",1)]),(r(!0),n(a,null,b(C.value,e=>(r(),n(a,{key:"rooms-expenses-payables-"+e},[c(A)(e)?(r(),n("td",J0,o[84]||(o[84]=[t("span",{class:"text-xs"},"0.00",-1)]))):(r(),n(a,{key:0},[(r(!0),n(a,null,b(j(e),i=>(r(),n("td",{key:"rooms-expenses-payables-cell-"+e+"-"+i,class:"px-2 py-1 text-right border border-red-300 bg-red-200 font-bold text-red-900"},[t("span",H0,u(h(c(ke)(s,"expenses",e,i))),1)]))),128)),t("td",U0,[t("span",Q0,u(h(c(Fe)(s,"expenses",e))),1)])],64))],64))),128))])],64))),128))])])])])])],64)):(r(),me(bo,{key:3,"from-year":c(be),"to-year":c(ge)},null,8,["from-year","to-year"]))])])])]),W(rt,{name:"fade"},{default:Ve(()=>[E.value?(r(),n("div",W0,[t("div",G0,[t("div",X0,[W(c(Ut),{class:"w-4 h-4 text-white"}),o[85]||(o[85]=t("h2",{class:"text-xl font-bold text-white"},"Advanced Display Mode Settings",-1))]),t("div",Z0,[C.value.length?ae("",!0):(r(),n("div",ed,[W(c(Qt),{class:"w-4 h-4 text-red-600"}),o[86]||(o[86]=t("span",{class:"text-yellow-800 font-medium"},'Please select both "From Year" and "To Year" to configure advanced settings.',-1))])),C.value.length?(r(),n("div",td,[(r(!0),n(a,null,b(C.value,s=>(r(),n("div",{key:"adv-"+s,class:"flex justify-between items-center border-b pb-2"},[t("span",od,[W(c(it),{class:"w-3 h-3 text-gray-500"}),Z(" "+u(s),1)]),Pe(t("select",{"onUpdate:modelValue":d=>v.value[s]=d,class:"px-6 py-2 border rounded-md focus:ring-violet-500"},o[87]||(o[87]=[t("option",{value:"monthly"},"Monthly",-1),t("option",{value:"quarterly"},"Quarterly",-1)]),8,sd),[[Ee,v.value[s]]])]))),128))])):ae("",!0)]),t("div",rd,[t("button",{onClick:Pt,class:"px-4 py-2 rounded-md bg-gray-100 hover:bg-gray-200 text-gray-700 flex items-center gap-2"},[W(c(Jt),{class:"w-4 h-4"}),o[88]||(o[88]=Z(" Cancel ",-1))]),C.value.length?(r(),n("button",{key:0,onClick:Ct,class:"px-4 py-2 rounded-md bg-violet-600 text-white hover:bg-violet-700 flex items-center gap-2"},[W(c(Wt),{class:"w-4 h-4 text-green-600"}),o[89]||(o[89]=Z(" Apply ",-1))])):ae("",!0)])])])):ae("",!0)]),_:1}),W(Gt,{"is-visible":f.value,onClose:Rt},null,8,["is-visible"])],64))}},Fd=Tt(nd,[["__scopeId","data-v-75d2317a"]]);export{Fd as default};
