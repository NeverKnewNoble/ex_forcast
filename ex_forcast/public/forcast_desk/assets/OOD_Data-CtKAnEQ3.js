var St=Object.defineProperty,Ft=Object.defineProperties;var Tt=Object.getOwnPropertyDescriptors;var Ze=Object.getOwnPropertySymbols;var jt=Object.prototype.hasOwnProperty,Ot=Object.prototype.propertyIsEnumerable;var et=(c,b,d)=>b in c?St(c,b,{enumerable:!0,configurable:!0,writable:!0,value:d}):c[b]=d,de=(c,b)=>{for(var d in b||(b={}))jt.call(b,d)&&et(c,d,b[d]);if(Ze)for(var d of Ze(b))Ot.call(b,d)&&et(c,d,b[d]);return c},Ce=(c,b)=>Ft(c,Tt(b));var Q=(c,b,d)=>new Promise((v,_)=>{var x=S=>{try{y(d.next(S))}catch(j){_(j)}},k=S=>{try{y(d.throw(S))}catch(j){_(j)}},y=S=>S.done?v(S.value):Promise.resolve(S.value).then(x,k);y((d=d.apply(c,b)).next())});import{_ as Me,o as n,c as s,b as t,e as R,u as i,v as h,h as E,k as Se,J as Bt,l as Fe,p as se,m as It,n as Lt,q as H,I as At,Q as Rt,t as V,j as K,i as U,w as tt,T as ot,F as a,d as N,x as f,B as me,K as Nt,L as nt,M as Te}from"./index-DSYnFDpC.js";import{b as dt,u as Mt,C as Dt,a as je,R as Yt,T as st,c as Et}from"./yearSettingsStore-BCg8jws5.js";import{A as it,c as ie,_ as Pt,e as Ht,F as rt,C as lt,S as Vt,T as Ut,X as Gt,a as $t}from"./alertService-y5V6STep.js";import{u as zt}from"./useCalculationCache-Bp6wAm8x.js";import{c as X}from"./cloneDeep-c7fjsde5.js";import"./createLucideIcon-D_T9sLlP.js";const ut=[{code:"in_house_guest_laundry",label:"In House Guest Laundry Revenue"},{code:"in_house_dry_cleaning",label:"In House Dry Cleaning Revenue"},{code:"outside_guest_laundry",label:"Outside Guest Laundry"},{code:"cost_of_sale",label:"COST OF LAUNDRY"},{code:"guest_laundry_cost",label:"Guest Laundry Cost"},{code:"other",label:"Other Laundry Costs"}],Oe=[{code:"club_use_revenue",label:"Club Use Revenue",section:"Club Use Revenue"},{code:"sauna",label:"Sauna",section:"Club Use Revenue"},{code:"gym",label:"Gym",section:"Club Use Revenue"},{code:"swimming_pool",label:"Swimming Pool",section:"Club Use Revenue"},{code:"treatments_other_services",label:"Treatments & Other Services",section:"Treatments & Other Services"},{code:"fitness_lessons_group",label:"Fitness Lessons (group)",section:"Treatments & Other Services"},{code:"health_wellness_services",label:"Health / Wellness Services",section:"Treatments & Other Services"},{code:"massage",label:"Massage",section:"Treatments & Other Services"},{code:"personal_training_swimming_lessons",label:"Personal Training & Swimming Lessons",section:"Treatments & Other Services"},{code:"spa_treatment",label:"Spa Treatment",section:"Treatments & Other Services"},{code:"salon_treatment",label:"Salon Treatment",section:"Treatments & Other Services"},{code:"merchandise",label:"Merchandise",section:"Treatments & Other Services"},{code:"clothing",label:"Clothing",section:"Treatments & Other Services"},{code:"memberships",label:"Memberships",section:"Memberships"},{code:"pool_spa",label:"Pool/SPA",section:"Memberships"},{code:"gym_membership",label:"Gym",section:"Memberships"},{code:"pool_gym",label:"Pool / Gym",section:"Memberships"},{code:"spa_gym",label:"Spa / Gym",section:"Memberships"},{code:"gym_pool_spa",label:"Gym / Pool / Spa",section:"Memberships"},{code:"pool_only",label:"Pool",section:"Memberships"},{code:"total_club_use_revenue",label:"TOTAL CLUB USE REVENUE",section:"Totals"},{code:"total_treatments_other_services",label:"TOTAL TREATMENTS & OTHER SERVICES",section:"Totals"},{code:"total_memberships",label:"TOTAL MEMBERSHIPS",section:"Totals"},{code:"total_health_club_spa",label:"TOTAL HEALTH CLUB & SPA",section:"Totals"},{code:"service_charge",label:"SERVICE CHARGE",section:"Totals"},{code:"total_health_club_rev_including_sc",label:"TOTAL HEALTH CLUB REV INCLUDING SC.",section:"Totals"}];function Jt(c,b,d,v,_){var j,I,O;if(!c)return 0;const x=Number(((j=c.percentage)==null?void 0:j[b])||0)/100,k=((I=c.base)==null?void 0:I[b])||"per_month",y=Number(((O=c.amount)==null?void 0:O[b])||0);let S=1;return k==="per_week"&&(S=4),x*S*y*Number(_||0)}function at(c,b,d){var y,S,j,I,O,B;if(!c)return 0;const v=Number(((S=(y=c.outside_guest_laundry_number)==null?void 0:y[b])==null?void 0:S[d])||0),_=((I=(j=c.outside_guest_laundry_base)==null?void 0:j[b])==null?void 0:I[d])||"per_month",x=Number(((B=(O=c.outside_guest_laundry_amount)==null?void 0:O[b])==null?void 0:B[d])||0);let k=1;return _==="per_week"&&(k=4),v*k*x}function qt(c,b,d,v,_){var y,S,j,I,O,B;if(!c)return 0;const x=Number(((S=(y=c.guest_laundry_cost_percentage)==null?void 0:y[b])==null?void 0:S[d])||0),k=Number(((I=(j=c.guest_laundry_cost_amount)==null?void 0:j[b])==null?void 0:I[d])||0);if(x>0){const G=v(c,b,d),z=_(c,b,d),pe=Number(((B=(O=c.revenue_other)==null?void 0:O[b])==null?void 0:B[d])||0),_e=G+z+pe;return x/100*_e}return k>0?k:0}function ce(c,b,d){var v,_,x,k,y,S,j,I,O;return Number(((x=(_=(v=c[b])==null?void 0:v[d])==null?void 0:_.find(B=>B.field==="sauna"))==null?void 0:x.amount)||0)+Number(((S=(y=(k=c[b])==null?void 0:k[d])==null?void 0:y.find(B=>B.field==="gym"))==null?void 0:S.amount)||0)+Number(((O=(I=(j=c[b])==null?void 0:j[d])==null?void 0:I.find(B=>B.field==="swimming_pool"))==null?void 0:O.amount)||0)}function be(c,b,d){return["fitness_lessons_group","health_wellness_services","massage","personal_training_swimming_lessons","spa_treatment","salon_treatment","merchandise","clothing"].reduce((_,x)=>{var k,y,S;return _+Number(((S=(y=(k=c[b])==null?void 0:k[d])==null?void 0:y.find(j=>j.field===x))==null?void 0:S.amount)||0)},0)}function ge(c,b,d){return["pool_spa","gym_membership","pool_gym","spa_gym","gym_pool_spa","pool_only"].reduce((_,x)=>{var k,y,S;return _+Number(((S=(y=(k=c[b])==null?void 0:k[d])==null?void 0:y.find(j=>j.field===x))==null?void 0:S.amount)||0)},0)}function ee(c,b,d){return ce(c,b,d)+be(c,b,d)+ge(c,b,d)}function Be(c,b,d){var v,_,x;return ee(c,b,d)+Number(((x=(_=(v=c[b])==null?void 0:v[d])==null?void 0:_.find(k=>k.field==="service_charge"))==null?void 0:x.amount)||0)}function Ie(c,b,d){const v=ee(c,b,d);return v?ce(c,b,d)/v*100:0}function Le(c,b,d){const v=ee(c,b,d);return v?be(c,b,d)/v*100:0}function Ae(c,b,d){const v=ee(c,b,d);return v?ge(c,b,d)/v*100:0}//! Export all utility functions and constants
//! Format value based on field type
function C(c,b){if(b==null||b==="")return"0.00";const d=Number(b);return isNaN(d)?"0.00":c.includes("percentage")||c.includes("_pct")?d.toFixed(2)+"%":d.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}function Qt(c,b){if(!c||!b)return[];const d=parseInt(c),v=parseInt(b);if(isNaN(d)||isNaN(v)||d>v)return[];const _=[];for(let x=d;x<=v;x++)_.push(x);return _}//! Utility: Get column labels for display mode
const Wt=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Kt=["Jan-Mar","Apr-Jun","Jul-Sep","Oct-Dec"];function Xt(c){return c==="monthly"?Wt:Kt}function Zt(c,b,d,v,_="monthly"){if(!c||!c[d]||!c[d][v])return 0;const x=c[d][v];if(!Array.isArray(x))return 0;const k=x.find(y=>y.field===b);return k&&Number(k.amount)||0}//! Handle cell focus for OOD data
function re({year:c,label:b,field:d,event:v}){v.target.dataset.originalValue=v.target.textContent}//! Handle cell edit for OOD data
function eo({year:c,label:b,field:d,event:v,originalOODData:_,changedCells:x,oodData:k,isSaved:y,isComponentReady:S}){if(!S.value)return;const j=typeof v.target.value=="string"?v.target.value.trim():v.target.textContent.trim(),I=v.target.dataset.originalValue||"0",O=j===""?0:Number(j.replace(/[^\d.-]/g,"")),B=I===""?0:Number(I.replace(/[^\d.-]/g,""));if(O!==B){const G=x.value.findIndex(z=>z.year===c&&z.label===b&&z.field===d);G>=0?x.value[G].newValue=O:x.value.push({year:c,label:b,field:d,newValue:O}),y.value=!1}}//! Toggle year collapse functionality
function to(c,b){const d=b.value.indexOf(c);d>-1?b.value.splice(d,1):b.value.push(c)}//! Check if year is collapsed
function oo(c,b){return b.value.includes(c)}//! Load year options
function no(){return Q(this,null,function*(){var c;try{const b=yield fetch("/api/method/ex_forcast.api.year.get_year_options");if(!b.ok)throw new Error("Failed to load years");return((c=(yield b.json()).message)==null?void 0:c.options)||[]}catch(b){return console.error("Error loading year options:",b),[]}})}function Re(c=null){return Q(this,null,function*(){try{let b="/api/method/ex_forcast.api.call_and_save_ood_revenue.ood_laundry_table_display";c&&(b+=`?project=${encodeURIComponent(c)}`);const d=yield fetch(b);if(!d.ok)throw new Error("Failed to load laundry table data");return(yield d.json()).message||{}}catch(b){return console.error("Error loading laundry table data:",b),{}}})}function so(c,b,d,v=null){return Q(this,null,function*(){try{const _="/api/method/ex_forcast.api.call_and_save_ood_revenue.upsert_ood_laundry_table",x=new FormData;x.append("year",c),x.append("month",b),x.append("laundry_table",JSON.stringify(d)),v&&x.append("project",v);const k=yield fetch(_,{method:"POST",body:x});if(!k.ok)throw new Error("Failed to save laundry table data");return(yield k.json()).message}catch(_){throw console.error("Error saving laundry table data:",_),_}})}function Ne(c=null){return Q(this,null,function*(){try{let b="/api/method/ex_forcast.api.call_and_save_ood_revenue.ood_health_club_table_display";c&&(b+=`?project=${encodeURIComponent(c)}`);const d=yield fetch(b);if(!d.ok)throw new Error("Failed to load health club table data");return(yield d.json()).message||{}}catch(b){return console.error("Error loading health club table data:",b),{}}})}function ro(c,b,d,v=null){return Q(this,null,function*(){try{const _="/api/method/ex_forcast.api.call_and_save_ood_revenue.upsert_ood_health_club_table",x=new FormData;x.append("year",c),x.append("month",b),x.append("health_club_table",JSON.stringify(d)),v&&x.append("project",v);const k=yield fetch(_,{method:"POST",body:x});if(!k.ok)throw new Error("Failed to save health club table data");return(yield k.json()).message}catch(_){throw console.error("Error saving health club table data:",_),_}})}const lo={class:"flex flex-col items-center justify-center min-h-[400px] bg-white border-2 border-dashed border-violet-300 rounded-xl shadow-sm"},uo={class:"w-16 h-16 bg-violet-100 rounded-full flex items-center justify-center mb-4"},ao={class:"mt-4 flex items-center gap-2 text-xs text-violet-600"},io={__name:"NoProjectSelectedState",setup(c){return(b,d)=>(n(),s("div",lo,[t("div",uo,[R(i(dt),{class:"w-8 h-8 text-violet-500"})]),d[1]||(d[1]=t("h3",{class:"text-lg text-violet-700 font-semibold mb-2"},"No Project Selected",-1)),d[2]||(d[2]=t("p",{class:"text-gray-500 text-center max-w-md leading-relaxed text-sm"}," Please select a project from the dashboard to view and manage other operating departments data. ",-1)),t("div",ao,[R(i(it),{class:"w-3 h-3"}),d[0]||(d[0]=t("span",null,"Use the project selector in the dashboard to get started",-1))])]))}},co=Me(io,[["__scopeId","data-v-90e59329"]]),bo={class:"flex flex-col items-center justify-center min-h-[400px] bg-white border-2 border-dashed border-violet-300 rounded-xl shadow-sm"},go={class:"w-16 h-16 bg-violet-100 rounded-full flex items-center justify-center mb-4"},po={class:"text-lg text-violet-700 font-semibold mb-2"},_o={class:"text-gray-500 text-center max-w-md leading-relaxed text-sm"},mo={class:"mt-4 flex items-center gap-2 text-xs text-violet-600"},vo={__name:"NoYearsSelectedState",props:{fromYear:{type:String,default:""},toYear:{type:String,default:""}},setup(c){return(b,d)=>(n(),s("div",bo,[t("div",go,[R(i(dt),{class:"w-8 h-8 text-violet-500"})]),t("h3",po,h(c.fromYear&&!c.toYear?'Select "To Year"':!c.fromYear&&c.toYear?'Select "From Year"':"No Years Selected"),1),t("p",_o,h(c.fromYear&&!c.toYear?"You have selected a From Year, now please select a To Year to display the tables.":!c.fromYear&&c.toYear?"You have selected a To Year, now please select a From Year to display the tables.":'Please select both "From Year" and "To Year" in the left panel to display the tables.'),1),t("div",mo,[R(i(it),{class:"w-3 h-3"}),d[0]||(d[0]=t("span",null,"Use the filters on the left to get started",-1))])]))}},fo=Me(vo,[["__scopeId","data-v-4fdb3219"]]),xo={class:"flex"},ho={class:"flex-1 min-h-screen bg-gradient-to-br from-white to-violet-50"},yo={class:"flex"},wo={key:2,class:"text-violet-700 text-sm font-medium"},ko={class:"mb-8"},Co={class:"flex items-center gap-3 mb-2"},So={class:"w-12 h-12 bg-gradient-to-br from-violet-500 to-violet-600 rounded-xl flex items-center justify-center shadow-lg"},Fo={class:"bg-white rounded-xl p-4 mb-6 border border-gray-200 shadow-sm"},To={class:"flex items-center justify-between"},jo={class:"flex items-center gap-2"},Oo={key:0,class:"flex items-center gap-2 text-sm font-medium text-red-600 bg-red-50 px-3 py-2 rounded-lg border border-red-200"},Bo={key:1,class:"flex items-center gap-2 text-sm font-medium text-green-600 bg-green-50 px-3 py-2 rounded-lg border border-green-200"},Io=["disabled"],Lo={key:1,class:"flex items-center gap-2 px-4 py-2 bg-gray-500 text-white rounded-lg cursor-not-allowed"},Ao={key:0,class:"mt-2 text-xs text-red-500 flex items-center gap-1"},Ro={class:"mb-8"},No={class:"flex gap-2"},Mo={class:"flex-1"},Do={class:"bg-white rounded-xl p-5 border border-gray-200 shadow-sm"},Yo={class:"space-y-4"},Eo={class:"grid grid-cols-2 gap-3"},Po=["value"],Ho=["value"],Vo={class:"flex gap-2"},Uo={class:"flex-1 p-4"},Go={class:"mb-10"},$o={class:"flex items-center gap-2 mb-4"},zo={class:"w-6 h-6 bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg flex items-center justify-center"},Jo={class:"bg-white rounded-lg border border-blue-200 shadow-sm overflow-x-auto md:max-w-[1800px] lg:max-w-[1800px] xl:max-w-[2000px] 2xl:max-w-[2000px]"},qo={class:"min-w-full w-max text-sm border border-blue-300"},Qo={class:"bg-blue-50"},Wo={rowspan:"2",class:"px-3 py-2 text-left font-semibold text-white bg-blue-700 w-[300px] border border-blue-300"},Ko={class:"flex items-center gap-1"},Xo=["colspan","onClick"],Zo={class:"flex items-center justify-center gap-1"},en={class:"font-semibold"},tn={key:1,class:"px-2 py-1 text-center font-medium text-xs border border-blue-300 min-w-[110px]"},on=["value","onInput","onBlur"],nn={key:1,class:"bg-blue-50 text-center font-semibold text-blue-700 border border-blue-300"},sn=["value","onChange","onBlur"],rn={key:1,class:"bg-blue-50 text-center font-semibold text-blue-700 border border-blue-300"},ln=["value","onInput","onBlur"],un={key:1,class:"bg-blue-50 text-center font-semibold text-blue-700 border border-blue-300"},an=["value","onInput","onBlur"],dn={key:1,class:"bg-blue-50 text-center font-semibold text-blue-700 border border-blue-300"},cn=["value","onChange","onBlur"],bn={key:1,class:"bg-blue-50 text-center font-semibold text-blue-700 border border-blue-300"},gn=["value","onInput","onBlur"],pn={key:1,class:"bg-blue-50 text-center font-semibold text-blue-700 border border-blue-300"},_n=["value","onInput","onBlur"],mn={key:1,class:"bg-blue-50 text-center font-semibold text-blue-700 border border-blue-300"},vn=["value","onChange","onBlur"],fn={key:1,class:"bg-blue-50 text-center font-semibold text-blue-700 border border-blue-300"},xn=["value","onInput","onBlur"],hn={key:1,class:"bg-blue-50 text-center font-semibold text-blue-700 border border-blue-300"},yn=["value","onInput","disabled","onBlur"],wn={key:1,class:"bg-blue-50 text-center font-semibold text-blue-700 border border-blue-300"},kn=["value","onInput","disabled","onBlur"],Cn={key:1,class:"bg-blue-50 text-center font-semibold text-blue-700 border border-blue-300"},Sn={key:1,class:"bg-blue-50 text-center font-semibold text-blue-700 border border-blue-300"},Fn={key:1,class:"bg-blue-50 text-center font-semibold text-blue-700 border border-blue-300"},Tn=["onInput","onBlur"],jn={key:1,class:"bg-blue-50 text-center font-semibold text-blue-700 border border-blue-300"},On={key:1,class:"bg-blue-50 text-center font-semibold text-blue-700 border border-blue-300"},Bn=["onInput","onBlur"],In={key:1,class:"bg-blue-50 text-center font-semibold text-blue-700 border border-blue-300"},Ln={class:"mb-8"},An={class:"flex items-center gap-2 mb-4"},Rn={class:"w-6 h-6 bg-gradient-to-br from-green-500 to-green-600 rounded-lg flex items-center justify-center"},Nn={class:"bg-white rounded-lg border border-green-200 shadow-sm overflow-hidden md:max-w-[1800px] lg:max-w-[1800px] xl:max-w-[2000px] 2xl:max-w-[2000px]"},Mn={class:"overflow-x-auto max-w-[100%] md:max-w-[1800px] lg:max-w-[1800px] xl:max-w-[2000px] 2xl:max-w-[2000px]"},Dn={class:"min-w-full w-max"},Yn={class:"w-full border border-green-300"},En={class:"bg-gradient-to-r from-green-600 to-green-700 text-white"},Pn={rowspan:"2",class:"px-3 py-2 text-left border-r font-semibold text-sm w-[300px] border border-green-300"},Hn={class:"flex items-center gap-1"},Vn=["colspan","onClick"],Un={class:"flex items-center justify-center gap-1"},Gn={class:"font-semibold"},$n={class:"bg-green-500/90 text-xs"},zn={class:"px-2 py-1 text-center border border-green-300 min-w-[100px] font-medium"},Jn={class:"text-gray-700 bg-white text-sm"},qn={key:0},Qn=["colspan"],Wn={key:1},Kn={class:"px-2 py-1 text-right border border-green-200 bg-green-100 font-semibold font-mono",style:{"pointer-events":"none",opacity:"1"}},Xn={class:"px-2 py-1 text-right border border-green-200 bg-green-100 font-semibold font-mono",style:{"pointer-events":"none",opacity:"1"}},Zn={class:"px-2 py-1 text-right border border-green-200 bg-green-100 font-semibold font-mono",style:{"pointer-events":"none",opacity:"1"}},es={class:"px-2 py-1 text-right border border-green-200 bg-green-100 font-semibold font-mono",style:{"pointer-events":"none",opacity:"1"}},ts={class:"px-2 py-1 text-right border border-green-200 bg-green-100 font-semibold font-mono",style:{"pointer-events":"none",opacity:"1"}},os={class:"px-2 py-1 text-right border border-green-200 bg-green-100 font-semibold font-mono",style:{"pointer-events":"none",opacity:"1"}},ns={key:2},ss={class:"px-2 py-1 text-right border border-green-200 bg-green-100 font-semibold font-mono",style:{"pointer-events":"none",opacity:"1"}},rs={class:"px-2 py-1 text-right border border-green-200 bg-green-100 font-semibold font-mono",style:{"pointer-events":"none",opacity:"1"}},ls={class:"px-2 py-1 text-right border border-green-200 bg-green-100 font-semibold font-mono",style:{"pointer-events":"none",opacity:"1"}},us={class:"px-2 py-1 text-right border border-green-200 bg-green-100 font-semibold font-mono",style:{"pointer-events":"none",opacity:"1"}},as={class:"px-2 py-1 text-right border border-green-200 bg-green-100 font-semibold font-mono",style:{"pointer-events":"none",opacity:"1"}},ds={class:"px-2 py-1 text-right border border-green-200 bg-green-100 font-semibold font-mono",style:{"pointer-events":"none",opacity:"1"}},is={key:3},cs={class:"px-2 py-1 text-right border border-green-200 bg-green-100 font-semibold font-mono",style:{"pointer-events":"none",opacity:"1"}},bs={class:"px-2 py-1 text-right border border-green-200 bg-green-100 font-semibold font-mono",style:{"pointer-events":"none",opacity:"1"}},gs={class:"px-2 py-1 text-right border border-green-200 bg-green-100 font-semibold font-mono",style:{"pointer-events":"none",opacity:"1"}},ps={class:"px-2 py-1 text-right border border-green-200 bg-green-100 font-semibold font-mono",style:{"pointer-events":"none",opacity:"1"}},_s={class:"px-2 py-1 text-right border border-green-200 bg-green-100 font-semibold font-mono",style:{"pointer-events":"none",opacity:"1"}},ms={class:"px-2 py-1 text-right border border-green-200 bg-green-100 font-semibold font-mono",style:{"pointer-events":"none",opacity:"1"}},vs={key:4},fs={class:"px-2 py-1 text-right border border-green-200 bg-green-100 font-semibold font-mono",style:{"pointer-events":"none",opacity:"1"}},xs={class:"px-2 py-1 text-right border border-green-200 bg-green-100 font-semibold font-mono",style:{"pointer-events":"none",opacity:"1"}},hs={class:"px-2 py-1 text-right border border-green-200 bg-green-100 font-semibold font-mono",style:{"pointer-events":"none",opacity:"1"}},ys={key:5},ws=["onInput","onFocus","onBlur"],ks=["onInput","onFocus","onBlur"],Cs=["onInput","onFocus","onBlur"],Ss={key:6},Fs={class:"px-2 py-1 text-right border border-green-200 bg-green-100 font-semibold font-mono",style:{"pointer-events":"none",opacity:"1"}},Ts={class:"px-2 py-1 text-right border border-green-200 bg-green-100 font-semibold font-mono",style:{"pointer-events":"none",opacity:"1"}},js={class:"px-2 py-1 text-right border border-green-200 bg-green-100 font-semibold font-mono",style:{"pointer-events":"none",opacity:"1"}},Os=["onInput","onFocus","onBlur"],Bs=["onInput","onFocus","onBlur"],Is=["onInput","onFocus","onBlur"],Ls={class:"px-2 py-1 text-right border border-green-200 bg-green-100 font-semibold font-mono",style:{"pointer-events":"none",opacity:"1"}},As={key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-sm"},Rs={class:"bg-white rounded-2xl shadow-2xl border border-violet-200 w-[95%] max-w-lg p-0 overflow-hidden"},Ns={class:"flex items-center gap-3 px-8 py-6 bg-gradient-to-r from-violet-600 to-violet-700"},Ms={class:"p-8 pt-6"},Ds={key:0,class:"mb-4 p-4 bg-yellow-50 border border-yellow-200 rounded-lg flex items-center gap-3"},Ys={key:1,class:"space-y-4 max-h-[50vh] overflow-auto pr-2"},Es={class:"font-medium text-gray-700 flex items-center gap-2"},Ps=["onUpdate:modelValue"],Hs={class:"flex justify-end gap-3 px-8 py-4 bg-gray-50 border-t border-violet-100"},Vs={__name:"OOD_Data",setup(c){const b=E([]),d=E("monthly"),v=Se({}),_=Se({}),x=E(!1),k=E({}),y=E(!1),S=E({}),j=E({}),I=E([]),O=E(!1),B=E(""),G=E(!1),z=E(!1),pe=E([]),_e=zt(),p=Se({in_house_guest_laundry_percentage:{},in_house_guest_laundry_base:{},in_house_guest_laundry_amount:{},in_house_dry_cleaning_percentage:{},in_house_dry_cleaning_base:{},in_house_dry_cleaning_amount:{},outside_guest_laundry_number:{},outside_guest_laundry_base:{},outside_guest_laundry_amount:{},guest_laundry_cost_percentage:{},guest_laundry_cost_amount:{},revenue_in_house:{},revenue_outside:{},revenue_other:{},other_laundry_costs:{}}),ve=Mt(),{fromYear:le,toYear:ue,advancedModes:J}=Bt(ve),{setFromYear:Us,setToYear:Gs,setAdvancedModes:ct,clearYearSettings:bt,getFilteredToYears:gt}=ve,w=Fe(()=>Qt(le.value,ue.value)),pt=Fe(()=>gt(b.value)),T=g=>Xt(J.value[g]||d.value),_t=Fe(()=>Oe);se(w,()=>{w.value.forEach(g=>{J.value[g]||ve.setAdvancedMode(g,d.value)})}),se([v,_],(g,o)=>{},{deep:!0,immediate:!0}),se(x,g=>{g&&(k.value=de({},J.value))});function mt(){ct(de({},k.value)),x.value=!1}function vt(){x.value=!1}It(()=>Q(this,null,function*(){try{if(yield Lt(),yield new Promise(g=>setTimeout(g,100)),b.value=yield no(),H.value){const[g,o]=yield Promise.all([Re(H.value.project_name),Ne(H.value.project_name)]);Object.assign(v,he(g||{})),ye(v),y.value=!0,Object.assign(_,xe(o||{}))}else v.value={status:"no_project_selected",message:"No project selected"},_.value={status:"no_project_selected",message:"No project selected"};S.value=X(v),j.value=X(_),z.value=!0,localStorage.getItem("showRefreshSuccess")==="true"&&(localStorage.removeItem("showRefreshSuccess"),ie.success("Page refreshed successfully"))}catch(g){console.error("Error loading data:",g)}})),se(H,(g,o)=>Q(this,null,function*(){if(g)try{const[e,l]=yield Promise.all([Re(g.project_name),Ne(g.project_name)]);Object.assign(v,he(e||{})),ye(v),y.value=!0,Object.assign(_,xe(l||{})),S.value=X(v),j.value=X(_),I.value=[],B.value="",ie.success(`Switched to project: ${g.project_name}`)}catch(e){console.error("Error reloading OOD data for new project:",e),ie.error("Failed to load project data. Please try again.")}else v.value={status:"no_project_selected",message:"No project selected"},_.value={status:"no_project_selected",message:"No project selected"},S.value=X(v),j.value=X(_),I.value=[],y.value=!0,B.value=""}),{deep:!0});function ft(){bt(),y.value=!1}function L({year:g,label:o,field:e,event:l}){eo({year:g,label:o,field:e,event:l,originalOODData:S,changedCells:I,oodData:v,isSaved:y,isComponentReady:z})}const xt=()=>Q(this,null,function*(){var g,o,e,l,r,u;try{O.value=!0,B.value="";const m={};for(const $ of I.value){const{year:P,label:W}=$;m[P]||(m[P]={}),m[P][W]||(m[P][W]=!0)}const M=[{section:"In House Guest Laundry Revenue",detail:"Percentage",key:"in_house_guest_laundry_percentage"},{section:"In House Guest Laundry Revenue",detail:"Base",key:"in_house_guest_laundry_base"},{section:"In House Guest Laundry Revenue",detail:"Average Amount",key:"in_house_guest_laundry_amount"},{section:"In House Dry Cleaning Revenue",detail:"Percentage",key:"in_house_dry_cleaning_percentage"},{section:"In House Dry Cleaning Revenue",detail:"Base",key:"in_house_dry_cleaning_base"},{section:"In House Dry Cleaning Revenue",detail:"Average Amount",key:"in_house_dry_cleaning_amount"},{section:"Outside Guest Laundry",detail:"Number",key:"outside_guest_laundry_number"},{section:"Outside Guest Laundry",detail:"Base",key:"outside_guest_laundry_base"},{section:"Outside Guest Laundry",detail:"Average Amount",key:"outside_guest_laundry_amount"},{section:"Guest Laundry Cost",detail:"Percentage",key:"guest_laundry_cost_percentage"},{section:"Guest Laundry Cost",detail:"Amount",key:"guest_laundry_cost_amount"},{section:"Revenue",detail:"Other Revenue",key:"revenue_other"},{section:"COST OF LAUNDRY",detail:"Other Laundry Costs",key:"other_laundry_costs"}],A=[];for(const $ in m)for(const P in m[$]){const W=[];for(const Y of M){const ne=(o=(g=p[Y.key])==null?void 0:g[$])==null?void 0:o[P];ne!==void 0&&ne!==""&&W.push({section:Y.section,detail:Y.detail,amount:ne})}const ae=[];if(_[$]&&_[$][P])for(const Y of _[$][P])Y.section&&Y.detail&&Y.amount!==void 0&&Y.amount!==""&&ae.push({section:Y.section,detail:Y.detail,amount:Y.amount});W.length>0&&A.push(so($,P,W,(e=H.value)==null?void 0:e.project_name)),ae.length>0&&A.push(ro($,P,ae,(l=H.value)==null?void 0:l.project_name))}if(A.length===0){O.value=!1;return}yield Promise.all(A);const[Z,ke]=yield Promise.all([Re((r=H.value)==null?void 0:r.project_name),Ne((u=H.value)==null?void 0:u.project_name)]);Object.assign(v,he(Z||{})),ye(v),y.value=!0,Object.assign(_,xe(ke||{})),S.value=X(v),j.value=X(_),I.value=[],ie.success("Changes saved successfully"),O.value=!1;return}catch(m){B.value=m.message||"Failed to save changes",ie.error(B.value),O.value=!1}});se(y,g=>{g?window.removeEventListener("beforeunload",fe):window.addEventListener("beforeunload",fe)});function fe(g){if(!y.value)return g.preventDefault(),g.returnValue="You have unsaved changes that may be discarded if not saved. Are you sure you want to leave?",g.returnValue}At(()=>{window.removeEventListener("beforeunload",fe)});function ht(){localStorage.setItem("showRefreshSuccess","true"),window.location.reload()}function te(g,o,e,l,r="monthly"){var u;if(o==="in_house_guest_laundry"||o==="in_house_dry_cleaning"){const m=(u=H.value)==null?void 0:u.project_name,Z=_e.getValue(m,"F&B Revenue Assumptions","Number of guests",e,l);return Jt(v.static,o,e,l,Z)}return Zt(g,o,e,l,r)}function De(g){to(g,pe)}function F(g){return oo(g,pe)}function q(g){return["total_club_use_revenue","total_treatments_other_services","total_memberships","total_health_club_spa","service_charge","total_health_club_rev_including_sc"].includes(g)}function D(g){let o;"value"in g.target?o=g.target.value:"innerText"in g.target?o=g.target.innerText:o="",o=o.replace(/[^0-9.]/g,"");const e=o.split(".");return e.length>2&&(o=e[0]+"."+e.slice(1).join("")),o=o.replace(/^0+(?!\.)/,""),"value"in g.target?g.target.value=o:"innerText"in g.target&&(g.target.innerText=o),o}function Ye(g,o,e,l){let r=g.target.innerText.replace(/[^\d.]/g,"");const u=r.split(".");u.length>2&&(r=u[0]+"."+u.slice(1).join("")),r=r.replace(/^0+(?!\.)/,""),g.target.innerText=r,o[e]||(o[e]={}),o[e][l]=r}function Ee(g){const o=(g.clipboardData||window.clipboardData).getData("text");/[^\d.]/.test(o)&&(g.preventDefault(),document.execCommand("insertText",!1,o.replace(/[^\d.]/g,"")))}const Pe=(g,o)=>{var ne,He,Ve,Ue,Ge,$e,ze,Je,qe,Qe,We,Ke,Xe;const e=(ne=H.value)==null?void 0:ne.project_name,u=_e.getValue(e,"F&B Revenue Assumptions","Number of guests",g,o),m=Number(((Ve=(He=p.in_house_guest_laundry_percentage)==null?void 0:He[g])==null?void 0:Ve[o])||0)/100,M=((Ge=(Ue=p.in_house_guest_laundry_base)==null?void 0:Ue[g])==null?void 0:Ge[o])||"per_month",A=Number(((ze=($e=p.in_house_guest_laundry_amount)==null?void 0:$e[g])==null?void 0:ze[o])||0),Z=Number(((qe=(Je=p.in_house_dry_cleaning_percentage)==null?void 0:Je[g])==null?void 0:qe[o])||0)/100,ke=((We=(Qe=p.in_house_dry_cleaning_base)==null?void 0:Qe[g])==null?void 0:We[o])||"per_month",$=Number(((Xe=(Ke=p.in_house_dry_cleaning_amount)==null?void 0:Ke[g])==null?void 0:Xe[o])||0),P=M==="per_week"?4:1,W=ke==="per_week"?4:1,ae=m*P*A*Number(u||0),Y=Z*W*$*Number(u||0);return ae+Y},yt=(g,o)=>qt(p,g,o,Pe,(e,l,r)=>at(e,l,r));se(p,()=>{!we&&y.value&&(y.value=!1)},{deep:!0});function wt(g){const o=Oe.find(e=>e.code===g);return o?{section:o.section,detail:o.label}:{section:"",detail:g}}function oe({year:g,label:o,field:e,event:l}){const r=typeof l.target.value=="string"?l.target.value.trim():l.target.textContent.trim(),u=r===""?0:Number(r.replace(/[^\d.-]/g,""));_[g]||(_[g]={}),Array.isArray(_[g][o])||(_[g][o]=[]);const{section:m,detail:M}=wt(e),A=_[g][o].findIndex(Z=>Z.field===e);A>=0?(_[g][o][A].amount=u,_[g][o][A].section=m,_[g][o][A].detail=M):_[g][o].push({field:e,section:m,detail:M,amount:u})}function kt(g,o){const e=Oe.find(l=>l.section===g&&l.label===o);return e?e.code:void 0}function xe(g){var e;const o={};for(const l in g){o[l]={};for(const r in g[l]){const u=(((e=g[l][r])==null?void 0:e.health_club_table)||[]).map(m=>Ce(de({},m),{field:kt(m.section,m.detail)}));o[l][r]=u}}return o}function Ct(g,o){const e=ut.find(l=>l.label===g&&l.detail===o);if(!e){const l=ut.find(r=>r.label===g);return l?l.code:void 0}return e.code}function he(g){var e;const o={};for(const l in g){o[l]={};for(const r in g[l]){const u=(((e=g[l][r])==null?void 0:e.laundry_table)||[]).map(m=>Ce(de({},m),{field:Ct(m.section,m.detail)}));o[l][r]=u}}return o}function ye(g){we=!0,Object.keys(p).forEach(o=>{p[o]={}});for(const o in g)for(const e in g[o])for(const l of g[o][e])switch(l.field){case"in_house_guest_laundry":l.detail==="Percentage"?(p.in_house_guest_laundry_percentage[o]||(p.in_house_guest_laundry_percentage[o]={}),p.in_house_guest_laundry_percentage[o][e]=l.amount):l.detail==="Base"?(p.in_house_guest_laundry_base[o]||(p.in_house_guest_laundry_base[o]={}),p.in_house_guest_laundry_base[o][e]=l.base):l.detail==="Average Amount"&&(p.in_house_guest_laundry_amount[o]||(p.in_house_guest_laundry_amount[o]={}),p.in_house_guest_laundry_amount[o][e]=l.amount);break;case"in_house_dry_cleaning":l.detail==="Percentage"?(p.in_house_dry_cleaning_percentage[o]||(p.in_house_dry_cleaning_percentage[o]={}),p.in_house_dry_cleaning_percentage[o][e]=l.amount):l.detail==="Base"?(p.in_house_dry_cleaning_base[o]||(p.in_house_dry_cleaning_base[o]={}),p.in_house_dry_cleaning_base[o][e]=l.base):l.detail==="Average Amount"&&(p.in_house_dry_cleaning_amount[o]||(p.in_house_dry_cleaning_amount[o]={}),p.in_house_dry_cleaning_amount[o][e]=l.amount);break}Rt(()=>{we=!1})}let we=!1;return(g,o)=>(n(),s(a,null,[t("div",xo,[R(Pt),t("div",ho,[t("div",yo,[t("div",{class:V(["bg-gradient-to-b from-white to-gray-50 border-r border-gray-200 min-h-screen flex flex-col shadow-sm transition-all duration-300",G.value?"w-14 p-2":"w-80 p-6"])},[t("button",{onClick:o[0]||(o[0]=e=>G.value=!G.value),class:"mb-4 flex items-center gap-2 px-2 py-1 bg-violet-100 hover:bg-violet-200 rounded transition-all"},[G.value?(n(),K(i(je),{key:1,class:"w-5 h-5 text-violet-700"})):(n(),K(i(Dt),{key:0,class:"w-5 h-5 text-violet-700"})),G.value?U("",!0):(n(),s("span",wo,"Collapse"))]),R(ot,{name:"fade"},{default:tt(()=>[me(t("div",null,[t("div",ko,[t("div",Co,[t("div",So,[R(i(Ht),{class:"w-7 h-7 mx-2 text-white"})]),o[4]||(o[4]=t("h1",{class:"text-2xl font-bold text-gray-900"},"Other Operating Departments Revenue Assumptions",-1))]),o[5]||(o[5]=t("p",{class:"text-sm text-gray-500"},"Manage and configure your other operating departments data",-1))]),t("div",Fo,[t("div",To,[t("div",jo,[y.value?(n(),s("div",Bo,o[7]||(o[7]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1),N(" All Saved ")]))):(n(),s("div",Oo,o[6]||(o[6]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})],-1),N(" Unsaved ")])))]),!O.value&&!y.value?(n(),s("button",{key:0,disabled:O.value,onClick:xt,class:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-violet-600 to-violet-700 text-white rounded-lg hover:from-violet-700 hover:to-violet-800 transition-all duration-200 shadow-md hover:shadow-lg transform hover:scale-105"},o[8]||(o[8]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"})],-1),N(" Save ")]),8,Io)):U("",!0),O.value?(n(),s("button",Lo,o[9]||(o[9]=[t("svg",{class:"w-4 h-4 animate-spin",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1),N(" Saving... ")]))):U("",!0)]),B.value?(n(),s("span",Ao,[o[10]||(o[10]=t("svg",{class:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),N(" "+h(B.value),1)])):U("",!0)]),t("div",Ro,[o[12]||(o[12]=t("h3",{class:"text-sm font-semibold text-gray-700 mb-3 flex items-center gap-2"},[t("svg",{class:"w-4 h-4 text-violet-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})]),N(" Quick Actions ")],-1)),t("div",No,[t("button",{onClick:ht,class:"w-full flex items-center justify-center gap-2 px-3 py-2 bg-white border border-violet-200 text-violet-700 rounded-lg hover:bg-violet-50 transition-all text-sm font-medium"},[R(i(Yt),{class:"w-4 h-4"}),o[11]||(o[11]=N(" Refresh "))])])]),t("div",Mo,[t("div",Do,[o[19]||(o[19]=t("h3",{class:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2"},[t("svg",{class:"w-5 h-5 text-violet-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})]),N(" Year Range Filter ")],-1)),t("div",Yo,[t("div",Eo,[t("div",null,[o[14]||(o[14]=t("label",{class:"text-sm font-medium text-gray-700 mb-2 flex items-center gap-1"},[t("svg",{class:"w-3 h-3 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})]),N(" From Year ")],-1)),me(t("select",{disabled:"","onUpdate:modelValue":o[1]||(o[1]=e=>nt(le)?le.value=e:null),class:"w-full px-3 py-2.5 rounded-lg border border-gray-300 focus:border-violet-500 focus:ring-2 focus:ring-violet-200 transition-all bg-gray-100 text-sm"},[o[13]||(o[13]=t("option",{value:""},"Select Year",-1)),(n(!0),s(a,null,f(b.value,e=>(n(),s("option",{key:"from-"+e,value:e},h(e),9,Po))),128))],512),[[Te,i(le)]])]),t("div",null,[o[16]||(o[16]=t("label",{class:"text-sm font-medium text-gray-700 mb-2 flex items-center gap-1"},[t("svg",{class:"w-3 h-3 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})]),N(" To Year ")],-1)),me(t("select",{disabled:"","onUpdate:modelValue":o[2]||(o[2]=e=>nt(ue)?ue.value=e:null),class:"w-full px-3 py-2.5 rounded-lg border border-gray-300 focus:border-violet-500 focus:ring-2 focus:ring-violet-200 transition-all bg-gray-100 text-sm"},[o[15]||(o[15]=t("option",{value:""},"Select Year",-1)),(n(!0),s(a,null,f(pt.value,e=>(n(),s("option",{key:"to-"+e,value:e},h(e),9,Ho))),128))],512),[[Te,i(ue)]])])]),t("div",Vo,[t("button",{onClick:ft,class:"flex-1 flex items-center justify-center gap-2 px-3 py-2.5 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-all duration-200 text-sm font-medium"},o[17]||(o[17]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1),N(" Clear ")])),t("button",{onClick:o[3]||(o[3]=e=>x.value=!0),class:"flex-1 flex items-center justify-center gap-2 px-3 py-2.5 bg-white border border-violet-500 text-violet-700 rounded-lg hover:bg-violet-50 transition-all duration-200 text-sm font-medium"},o[18]||(o[18]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})],-1),N(" Advanced ")]))])])])])],512),[[Nt,!G.value]])]),_:1})],2),t("div",Uo,[i(H)?w.value.length&&z.value?(n(),s(a,{key:1},[t("div",Go,[t("div",$o,[t("div",zo,[R(i(st),{class:"w-4 h-4 text-white"})]),o[20]||(o[20]=t("h2",{class:"text-lg font-bold text-gray-800"},"Laundry",-1))]),t("div",Jo,[t("table",qo,[t("thead",Qo,[t("tr",null,[t("th",Wo,[t("div",Ko,[R(i(rt),{class:"w-3 h-3"}),o[21]||(o[21]=N(" Assumption Details "))])]),(n(!0),s(a,null,f(w.value,e=>(n(),s("th",{key:"header-"+e,colspan:F(e)?1:T(e).length,class:"px-2 py-2 text-center font-semibold text-white bg-blue-700 border border-blue-300 cursor-pointer select-none group",onClick:l=>De(e),title:"Click to collapse/expand"},[t("div",Zo,[t("span",en,h(e),1),F(e)?(n(),K(i(je),{key:1,class:"w-3 h-3 transition-transform group-hover:scale-110"})):(n(),K(i(lt),{key:0,class:"w-3 h-3 transition-transform group-hover:scale-110"}))])],8,Xo))),128))]),t("tr",null,[(n(!0),s(a,null,f(w.value,e=>(n(),s(a,{key:"months-"+e},[F(e)?(n(),s("th",tn,"Forecast")):(n(!0),s(a,{key:0},f(T(e),l=>(n(),s("th",{key:e+"-"+l,class:"px-2 py-1 text-center font-medium text-xs border border-white min-w-[100px] bg-blue-500 text-white"},h(l),1))),128))],64))),128))])]),t("tbody",null,[o[41]||(o[41]=t("tr",{class:"bg-blue-100"},[t("td",{colspan:"100",class:"font-semibold text-blue-900 px-4 py-2 border border-blue-300"},"In House Guest Laundry Revenue")],-1)),t("tr",null,[o[22]||(o[22]=t("td",{class:"px-4 py-2 font-medium text-gray-700 border border-blue-300"},"Percentage",-1)),(n(!0),s(a,null,f(w.value,e=>(n(),s(a,{key:"perc-guest-"+e},[F(e)?(n(),s("td",nn,"-")):(n(!0),s(a,{key:0},f(T(e),l=>{var r;return n(),s("td",{key:"perc-guest-"+e+"-"+l,class:"border border-blue-300"},[t("input",{type:"number",value:((r=p.in_house_guest_laundry_percentage[e])==null?void 0:r[l])||"",onInput:u=>{const m=D(u);p.in_house_guest_laundry_percentage[e]||(p.in_house_guest_laundry_percentage[e]={}),p.in_house_guest_laundry_percentage[e][l]=m},placeholder:"0%",class:"borderless-input w-full",onBlur:u=>L({year:e,label:l,field:"in_house_guest_laundry_percentage",event:u})},null,40,on)])}),128))],64))),128))]),t("tr",null,[o[24]||(o[24]=t("td",{class:"px-4 py-2 font-medium text-gray-700 border border-blue-300"},"Base",-1)),(n(!0),s(a,null,f(w.value,e=>(n(),s(a,{key:"base-guest-"+e},[F(e)?(n(),s("td",rn,"-")):(n(!0),s(a,{key:0},f(T(e),l=>{var r;return n(),s("td",{key:"base-guest-"+e+"-"+l,class:"border border-blue-300"},[t("select",{value:((r=p.in_house_guest_laundry_base[e])==null?void 0:r[l])||"",onChange:u=>{p.in_house_guest_laundry_base[e]||(p.in_house_guest_laundry_base[e]={}),p.in_house_guest_laundry_base[e][l]=u.target.value},class:"borderless-input w-full",onBlur:u=>L({year:e,label:l,field:"in_house_guest_laundry_base",event:u})},o[23]||(o[23]=[t("option",{disabled:"",value:""},"Select base",-1),t("option",{value:"per_month"},"per month",-1),t("option",{value:"per_week"},"per week",-1)]),40,sn)])}),128))],64))),128))]),t("tr",null,[o[25]||(o[25]=t("td",{class:"px-4 py-2 font-medium text-gray-700 border border-blue-300"},"Average Amount",-1)),(n(!0),s(a,null,f(w.value,e=>(n(),s(a,{key:"amt-guest-"+e},[F(e)?(n(),s("td",un,"-")):(n(!0),s(a,{key:0},f(T(e),l=>{var r;return n(),s("td",{key:"amt-guest-"+e+"-"+l,class:"border border-blue-300"},[t("input",{type:"number",value:((r=p.in_house_guest_laundry_amount[e])==null?void 0:r[l])||"",onInput:u=>{const m=D(u);p.in_house_guest_laundry_amount[e]||(p.in_house_guest_laundry_amount[e]={}),p.in_house_guest_laundry_amount[e][l]=m},placeholder:"0",class:"borderless-input w-full",onBlur:u=>L({year:e,label:l,field:"in_house_guest_laundry_amount",event:u})},null,40,ln)])}),128))],64))),128))]),o[42]||(o[42]=t("tr",{class:"bg-blue-100"},[t("td",{colspan:"100",class:"font-semibold text-blue-900 px-4 py-2 border border-blue-300"},"In House Dry Cleaning Revenue")],-1)),t("tr",null,[o[26]||(o[26]=t("td",{class:"px-4 py-2 font-medium text-gray-700 border border-blue-300"},"Percentage",-1)),(n(!0),s(a,null,f(w.value,e=>(n(),s(a,{key:"perc-dry-"+e},[F(e)?(n(),s("td",dn,"-")):(n(!0),s(a,{key:0},f(T(e),l=>{var r;return n(),s("td",{key:"perc-dry-"+e+"-"+l,class:"border border-blue-300"},[t("input",{type:"number",value:((r=p.in_house_dry_cleaning_percentage[e])==null?void 0:r[l])||"",onInput:u=>{const m=D(u);p.in_house_dry_cleaning_percentage[e]||(p.in_house_dry_cleaning_percentage[e]={}),p.in_house_dry_cleaning_percentage[e][l]=m},placeholder:"0%",class:"borderless-input w-full",onBlur:u=>L({year:e,label:l,field:"in_house_dry_cleaning_percentage",event:u})},null,40,an)])}),128))],64))),128))]),t("tr",null,[o[28]||(o[28]=t("td",{class:"px-4 py-2 font-medium text-gray-700 border border-blue-300"},"Base",-1)),(n(!0),s(a,null,f(w.value,e=>(n(),s(a,{key:"base-dry-"+e},[F(e)?(n(),s("td",bn,"-")):(n(!0),s(a,{key:0},f(T(e),l=>{var r;return n(),s("td",{key:"base-dry-"+e+"-"+l,class:"border border-blue-300"},[t("select",{value:((r=p.in_house_dry_cleaning_base[e])==null?void 0:r[l])||"",onChange:u=>{p.in_house_dry_cleaning_base[e]||(p.in_house_dry_cleaning_base[e]={}),p.in_house_dry_cleaning_base[e][l]=u.target.value},class:"borderless-input w-full",onBlur:u=>L({year:e,label:l,field:"in_house_dry_cleaning_base",event:u})},o[27]||(o[27]=[t("option",{disabled:"",value:""},"Select base",-1),t("option",{value:"per_month"},"per month",-1),t("option",{value:"per_week"},"per week",-1)]),40,cn)])}),128))],64))),128))]),t("tr",null,[o[29]||(o[29]=t("td",{class:"px-4 py-2 font-medium text-gray-700 border border-blue-300"},"Average Amount",-1)),(n(!0),s(a,null,f(w.value,e=>(n(),s(a,{key:"amt-dry-"+e},[F(e)?(n(),s("td",pn,"-")):(n(!0),s(a,{key:0},f(T(e),l=>{var r;return n(),s("td",{key:"amt-dry-"+e+"-"+l,class:"border border-blue-300"},[t("input",{type:"number",value:((r=p.in_house_dry_cleaning_amount[e])==null?void 0:r[l])||"",onInput:u=>{const m=D(u);p.in_house_dry_cleaning_amount[e]||(p.in_house_dry_cleaning_amount[e]={}),p.in_house_dry_cleaning_amount[e][l]=m},placeholder:"0",class:"borderless-input w-full",onBlur:u=>L({year:e,label:l,field:"in_house_dry_cleaning_amount",event:u})},null,40,gn)])}),128))],64))),128))]),o[43]||(o[43]=t("tr",{class:"bg-blue-100"},[t("td",{colspan:"100",class:"font-semibold text-blue-900 px-4 py-2 border border-blue-300"},"Outside Guest Laundry")],-1)),t("tr",null,[o[30]||(o[30]=t("td",{class:"px-4 py-2 font-medium text-gray-700 border border-blue-300"},"Number",-1)),(n(!0),s(a,null,f(w.value,e=>(n(),s(a,{key:"num-outside-"+e},[F(e)?(n(),s("td",mn,"-")):(n(!0),s(a,{key:0},f(T(e),l=>{var r;return n(),s("td",{key:"num-outside-"+e+"-"+l,class:"border border-blue-300"},[t("input",{type:"number",value:((r=p.outside_guest_laundry_number[e])==null?void 0:r[l])||"",onInput:u=>{const m=D(u);p.outside_guest_laundry_number[e]||(p.outside_guest_laundry_number[e]={}),p.outside_guest_laundry_number[e][l]=m},placeholder:"0",class:"borderless-input w-full",onBlur:u=>L({year:e,label:l,field:"outside_guest_laundry_number",event:u})},null,40,_n)])}),128))],64))),128))]),t("tr",null,[o[32]||(o[32]=t("td",{class:"px-4 py-2 font-medium text-gray-700 border border-blue-300"},"Base",-1)),(n(!0),s(a,null,f(w.value,e=>(n(),s(a,{key:"base-outside-"+e},[F(e)?(n(),s("td",fn,"-")):(n(!0),s(a,{key:0},f(T(e),l=>{var r;return n(),s("td",{key:"base-outside-"+e+"-"+l,class:"border border-blue-300"},[t("select",{value:((r=p.outside_guest_laundry_base[e])==null?void 0:r[l])||"",onChange:u=>{p.outside_guest_laundry_base[e]||(p.outside_guest_laundry_base[e]={}),p.outside_guest_laundry_base[e][l]=u.target.value},class:"borderless-input w-full",onBlur:u=>L({year:e,label:l,field:"outside_guest_laundry_base",event:u})},o[31]||(o[31]=[t("option",{disabled:"",value:""},"Select base",-1),t("option",{value:"per_month"},"per month",-1),t("option",{value:"per_week"},"per week",-1)]),40,vn)])}),128))],64))),128))]),t("tr",null,[o[33]||(o[33]=t("td",{class:"px-4 py-2 font-medium text-gray-700 border border-blue-300"},"Average Amount",-1)),(n(!0),s(a,null,f(w.value,e=>(n(),s(a,{key:"amt-outside-"+e},[F(e)?(n(),s("td",hn,"-")):(n(!0),s(a,{key:0},f(T(e),l=>{var r;return n(),s("td",{key:"amt-outside-"+e+"-"+l,class:"border border-blue-300"},[t("input",{type:"number",value:((r=p.outside_guest_laundry_amount[e])==null?void 0:r[l])||"",onInput:u=>{const m=D(u);p.outside_guest_laundry_amount[e]||(p.outside_guest_laundry_amount[e]={}),p.outside_guest_laundry_amount[e][l]=m},placeholder:"0",class:"borderless-input w-full",onBlur:u=>L({year:e,label:l,field:"outside_guest_laundry_amount",event:u})},null,40,xn)])}),128))],64))),128))]),o[44]||(o[44]=t("tr",{class:"bg-blue-100"},[t("td",{colspan:"100",class:"font-semibold text-blue-900 px-4 py-2 border border-blue-300"},"Guest Laundry Cost")],-1)),t("tr",null,[o[34]||(o[34]=t("td",{class:"px-4 py-2 font-medium text-gray-700 border border-blue-300"},"Percentage",-1)),(n(!0),s(a,null,f(w.value,e=>(n(),s(a,{key:"perc-cost-"+e},[F(e)?(n(),s("td",wn,"-")):(n(!0),s(a,{key:0},f(T(e),l=>{var r,u,m;return n(),s("td",{key:"perc-cost-"+e+"-"+l,class:"border border-blue-300"},[t("input",{type:"number",value:((r=p.guest_laundry_cost_percentage[e])==null?void 0:r[l])||"",onInput:M=>{const A=D(M);p.guest_laundry_cost_percentage[e]||(p.guest_laundry_cost_percentage[e]={}),p.guest_laundry_cost_percentage[e][l]=A,A>0&&(p.guest_laundry_cost_amount[e]||(p.guest_laundry_cost_amount[e]={}),p.guest_laundry_cost_amount[e][l]="")},disabled:Number(((u=p.guest_laundry_cost_amount[e])==null?void 0:u[l])||0)>0,placeholder:"0%",class:V(["borderless-input w-full",Number(((m=p.guest_laundry_cost_amount[e])==null?void 0:m[l])||0)>0?"bg-gray-100 cursor-not-allowed":""]),onBlur:M=>L({year:e,label:l,field:"guest_laundry_cost_percentage",event:M})},null,42,yn)])}),128))],64))),128))]),t("tr",null,[o[35]||(o[35]=t("td",{class:"px-4 py-2 font-medium text-gray-700 border border-blue-300"},"Average Amount",-1)),(n(!0),s(a,null,f(w.value,e=>(n(),s(a,{key:"amt-cost-"+e},[F(e)?(n(),s("td",Cn,"-")):(n(!0),s(a,{key:0},f(T(e),l=>{var r,u,m;return n(),s("td",{key:"amt-cost-"+e+"-"+l,class:"border border-blue-300"},[t("input",{type:"number",value:((r=p.guest_laundry_cost_amount[e])==null?void 0:r[l])||"",onInput:M=>{const A=D(M);p.guest_laundry_cost_amount[e]||(p.guest_laundry_cost_amount[e]={}),p.guest_laundry_cost_amount[e][l]=A,A>0&&(p.guest_laundry_cost_percentage[e]||(p.guest_laundry_cost_percentage[e]={}),p.guest_laundry_cost_percentage[e][l]="")},disabled:Number(((u=p.guest_laundry_cost_percentage[e])==null?void 0:u[l])||0)>0,placeholder:"0",class:V(["borderless-input w-full",Number(((m=p.guest_laundry_cost_percentage[e])==null?void 0:m[l])||0)>0?"bg-gray-100 cursor-not-allowed":""]),onBlur:M=>L({year:e,label:l,field:"guest_laundry_cost_amount",event:M})},null,42,kn)])}),128))],64))),128))]),o[45]||(o[45]=t("tr",{class:"bg-blue-100"},[t("td",{colspan:"100",class:"font-semibold bg-blue-700 text-white px-4 py-2 border border-blue-300"},"Revenue")],-1)),t("tr",null,[o[36]||(o[36]=t("td",{class:"px-4 py-2 font-medium text-gray-700 border flex justify-between items-end"},[t("span",null,"In House"),t("span",{class:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800"}," Auto ")],-1)),(n(!0),s(a,null,f(w.value,e=>(n(),s(a,{key:"rev-inhouse-"+e},[F(e)?(n(),s("td",Sn,"-")):(n(!0),s(a,{key:0},f(T(e),l=>(n(),s("td",{key:"rev-inhouse-"+e+"-"+l,class:"px-2 py-1 text-right text-blue-700 font-mono bg-blue-50 min-w-[110px] border border-blue-300"},h(i(C)("revenue_in_house",Pe(e,l))),1))),128))],64))),128))]),t("tr",null,[o[37]||(o[37]=t("td",{class:"px-4 py-2 font-medium text-gray-700 flex justify-between items-end"},[t("span",null,"Outside"),t("span",{class:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800"}," Auto ")],-1)),(n(!0),s(a,null,f(w.value,e=>(n(),s(a,{key:"rev-outside-"+e},[F(e)?(n(),s("td",Fn,"-")):(n(!0),s(a,{key:0},f(T(e),l=>(n(),s("td",{key:"rev-outside-"+e+"-"+l,class:"px-2 py-1 text-right text-blue-700 font-mono bg-blue-50 min-w-[110px] border border-blue-300"},h(i(C)("revenue_outside",i(at)(p,e,l))),1))),128))],64))),128))]),t("tr",null,[o[38]||(o[38]=t("td",{class:"px-4 py-2 font-medium text-gray-700 border border-blue-300"},"Other Revenue",-1)),(n(!0),s(a,null,f(w.value,e=>(n(),s(a,{key:"rev-other-"+e},[F(e)?(n(),s("td",jn,"-")):(n(!0),s(a,{key:0},f(T(e),l=>{var r,u;return n(),s("td",{key:"rev-other-"+e+"-"+l,class:"px-2 py-1 text-right font-mono text-blue-700 bg-blue-50 min-w-[110px] border border-blue-300",contenteditable:"true",onInput:m=>Ye(m,p.revenue_other,e,l),onPaste:Ee,onBlur:m=>L({year:e,label:l,field:"revenue_other",event:m})},h(i(C)("revenue_other",((u=(r=p.revenue_other)==null?void 0:r[e])==null?void 0:u[l])||"")),41,Tn)}),128))],64))),128))]),o[46]||(o[46]=t("tr",{class:"bg-blue-100"},[t("td",{colspan:"100",class:"font-semibold bg-blue-700 text-white px-4 py-2 border border-blue-300"},"COST OF LAUNDRY")],-1)),t("tr",null,[o[39]||(o[39]=t("td",{class:"px-4 py-2 font-medium text-gray-700 flex justify-between items-end"},[t("span",null,"Guest Laundry Cost"),t("span",{class:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800"}," Auto ")],-1)),(n(!0),s(a,null,f(w.value,e=>(n(),s(a,{key:"cost-guest-"+e},[F(e)?(n(),s("td",On,"-")):(n(!0),s(a,{key:0},f(T(e),l=>(n(),s("td",{key:"cost-guest-"+e+"-"+l,class:"px-2 py-1 text-right text-blue-700 font-mono bg-blue-50 min-w-[110px] border border-blue-300"},h(i(C)("guest_laundry_cost",yt(e,l))),1))),128))],64))),128))]),t("tr",null,[o[40]||(o[40]=t("td",{class:"px-4 py-2 font-medium text-gray-700 border border-blue-300"},"Other Laundry Costs",-1)),(n(!0),s(a,null,f(w.value,e=>(n(),s(a,{key:"cost-other-"+e},[F(e)?(n(),s("td",In,"-")):(n(!0),s(a,{key:0},f(T(e),l=>{var r,u;return n(),s("td",{key:"cost-other-"+e+"-"+l,class:"px-2 py-1 text-right font-mono text-blue-700 bg-blue-50 min-w-[110px] border border-blue-300",contenteditable:"true",onInput:m=>Ye(m,p.other_laundry_costs,e,l),onPaste:Ee,onBlur:m=>L({year:e,label:l,field:"other_laundry_costs",event:m})},h(i(C)("other_laundry_costs",((u=(r=p.other_laundry_costs)==null?void 0:r[e])==null?void 0:u[l])||"")),41,Bn)}),128))],64))),128))])])])])]),t("div",Ln,[t("div",An,[t("div",Rn,[R(i(st),{class:"w-4 h-4 text-white"})]),o[47]||(o[47]=t("h2",{class:"text-lg font-bold text-gray-800"},"Health Club",-1))]),t("div",Nn,[t("div",Mn,[t("div",Dn,[t("table",Yn,[t("thead",En,[t("tr",null,[t("th",Pn,[t("div",Hn,[R(i(rt),{class:"w-3 h-3"}),o[48]||(o[48]=N(" Details "))])]),(n(!0),s(a,null,f(w.value,e=>(n(),s("th",{key:"header-"+e,colspan:F(e)?2:T(e).length*2+2,class:"px-2 py-2 text-center border-x-2 border-white cursor-pointer select-none hover:bg-green-700 transition-all duration-200 group text-sm",onClick:l=>De(e),title:"Click to collapse/expand"},[t("div",Un,[t("span",Gn,h(e),1),F(e)?(n(),K(i(je),{key:1,class:"w-3 h-3 transition-transform group-hover:scale-110"})):(n(),K(i(lt),{key:0,class:"w-3 h-3 transition-transform group-hover:scale-110"}))])],8,Vn))),128))]),t("tr",$n,[(n(!0),s(a,null,f(w.value,e=>(n(),s(a,{key:"months-"+e},[F(e)?(n(),s(a,{key:1},[o[52]||(o[52]=t("th",{class:"px-2 py-1 text-center border border-green-300 min-w-[110px] font-semibold"},[t("div",{class:"flex items-center justify-center gap-1"}," Forecast ")],-1)),o[53]||(o[53]=t("th",{class:"px-2 py-1 text-center border border-green-300 min-w-[80px] font-semibold"}," % ",-1))],64)):(n(),s(a,{key:0},[(n(!0),s(a,null,f(T(e),l=>(n(),s(a,{key:e+"-"+l},[t("th",zn,h(l),1),o[49]||(o[49]=t("th",{class:"px-2 py-1 text-center border border-green-300 min-w-[80px] font-medium"}," % ",-1))],64))),128)),o[50]||(o[50]=t("th",{class:"px-2 py-1 text-center border border-green-300 min-w-[110px] font-semibold"},[t("div",{class:"flex items-center justify-center gap-1"}," Forecast ")],-1)),o[51]||(o[51]=t("th",{class:"px-2 py-1 text-center border border-green-300 min-w-[80px] font-semibold"}," % ",-1))],64))],64))),128))])]),t("tbody",Jn,[(n(!0),s(a,null,f(_t.value,(e,l)=>(n(),s(a,{key:e.code},[["Club Use Revenue","Treatments & Other Services","Memberships"].includes(e.label)?(n(),s("tr",qn,[t("td",{colspan:1+w.value.length*(F(w.value[0])?2:T(w.value[0]).length*2+2),class:"bg-green-100 text-green-900 font-bold text-left px-3 py-2 border-t-2 border-b-2 uppercase tracking-wider border border-green-300"},h(e.label),9,Qn)])):e.code==="total_club_use_revenue"?(n(),s("tr",Wn,[o[54]||(o[54]=t("td",{class:"px-3 py-2 border-r w-[300px] font-bold text-green-800 bg-green-200 flex justify-between items-end"},[t("span",null,"Total Club Use Revenue"),t("span",{class:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800"},"Auto")],-1)),(n(!0),s(a,null,f(w.value,r=>(n(),s(a,{key:"row-"+r+"-"+e.code},[F(r)?(n(),s(a,{key:1},[t("td",ts,h(i(C)(e.code,i(ce)(_,r,"Forecast"))),1),t("td",os,h(i(C)(e.code+"_pct",i(Ie)(_,r,"Forecast"))),1)],64)):(n(),s(a,{key:0},[(n(!0),s(a,null,f(T(r),u=>(n(),s(a,{key:r+"-"+u},[t("td",Kn,h(i(C)(e.code,i(ce)(_,r,u))),1),t("td",Xn,h(i(C)(e.code+"_pct",i(Ie)(_,r,u))),1)],64))),128)),t("td",Zn,h(i(C)(e.code,i(ce)(_,r,"Forecast"))),1),t("td",es,h(i(C)(e.code+"_pct",i(Ie)(_,r,"Forecast"))),1)],64))],64))),128))])):e.code==="total_treatments_other_services"?(n(),s("tr",ns,[o[55]||(o[55]=t("td",{class:"px-3 py-2 border-r w-[300px] font-bold text-green-800 bg-green-200 flex justify-between items-end"},[t("span",null,"Total Treatments & Other Services"),t("span",{class:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800"},"Auto")],-1)),(n(!0),s(a,null,f(w.value,r=>(n(),s(a,{key:"row-"+r+"-"+e.code},[F(r)?(n(),s(a,{key:1},[t("td",as,h(i(C)(e.code,i(be)(_,r,"Forecast"))),1),t("td",ds,h(i(C)(e.code+"_pct",i(Le)(_,r,"Forecast"))),1)],64)):(n(),s(a,{key:0},[(n(!0),s(a,null,f(T(r),u=>(n(),s(a,{key:r+"-"+u},[t("td",ss,h(i(C)(e.code,i(be)(_,r,u))),1),t("td",rs,h(i(C)(e.code+"_pct",i(Le)(_,r,u))),1)],64))),128)),t("td",ls,h(i(C)(e.code,i(be)(_,r,"Forecast"))),1),t("td",us,h(i(C)(e.code+"_pct",i(Le)(_,r,"Forecast"))),1)],64))],64))),128))])):e.code==="total_memberships"?(n(),s("tr",is,[o[56]||(o[56]=t("td",{class:"px-3 py-2 border-r w-[300px] font-bold text-green-800 bg-green-200 flex justify-between items-end"},[t("span",null,"Total Memberships"),t("span",{class:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800"},"Auto")],-1)),(n(!0),s(a,null,f(w.value,r=>(n(),s(a,{key:"row-"+r+"-"+e.code},[F(r)?(n(),s(a,{key:1},[t("td",_s,h(i(C)(e.code,i(ge)(_,r,"Forecast"))),1),t("td",ms,h(i(C)(e.code+"_pct",i(Ae)(_,r,"Forecast"))),1)],64)):(n(),s(a,{key:0},[(n(!0),s(a,null,f(T(r),u=>(n(),s(a,{key:r+"-"+u},[t("td",cs,h(i(C)(e.code,i(ge)(_,r,u))),1),t("td",bs,h(i(C)(e.code+"_pct",i(Ae)(_,r,u))),1)],64))),128)),t("td",gs,h(i(C)(e.code,i(ge)(_,r,"Forecast"))),1),t("td",ps,h(i(C)(e.code+"_pct",i(Ae)(_,r,"Forecast"))),1)],64))],64))),128))])):e.code==="total_health_club_spa"?(n(),s("tr",vs,[o[60]||(o[60]=t("td",{class:"px-3 py-2 border-r w-[300px] font-bold text-green-800 bg-green-200 flex justify-between items-end"},[t("span",null,"Total Health Club & Spa"),t("span",{class:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800"},"Auto")],-1)),(n(!0),s(a,null,f(w.value,r=>(n(),s(a,{key:"row-"+r+"-"+e.code},[F(r)?(n(),s(a,{key:1},[t("td",hs,h(i(C)(e.code,i(ee)(_,r,"Forecast"))),1),o[59]||(o[59]=t("td",{class:"px-2 py-1 text-right border border-green-200 bg-green-100 font-semibold font-mono",style:{"pointer-events":"none",opacity:"1"}}," 0.00% ",-1))],64)):(n(),s(a,{key:0},[(n(!0),s(a,null,f(T(r),u=>(n(),s(a,{key:r+"-"+u},[t("td",fs,h(i(C)(e.code,i(ee)(_,r,u))),1),o[57]||(o[57]=t("td",{class:"px-2 py-1 text-right border border-green-200 bg-green-100 font-semibold font-mono",style:{"pointer-events":"none",opacity:"1"}}," 0.00% ",-1))],64))),128)),t("td",xs,h(i(C)(e.code,i(ee)(_,r,"Forecast"))),1),o[58]||(o[58]=t("td",{class:"px-2 py-1 text-right border border-green-200 bg-green-100 font-semibold font-mono",style:{"pointer-events":"none",opacity:"1"}}," 0.00% ",-1))],64))],64))),128))])):e.code==="service_charge"?(n(),s("tr",ys,[o[64]||(o[64]=t("td",{class:"px-3 py-2 border-r w-[300px] font-bold text-green-800 bg-green-200"}," Service Charge ",-1)),(n(!0),s(a,null,f(w.value,r=>(n(),s(a,{key:"row-"+r+"-"+e.code},[F(r)?(n(),s(a,{key:1},[t("td",{contenteditable:"true",class:"px-2 py-1 text-right border border-green-200 bg-green-50 font-mono",onInput:u=>{D(u),oe({year:r,label:"Forecast",field:e.code,event:u})},onFocus:u=>i(re)({year:r,label:"Forecast",field:e.code,event:u}),onBlur:u=>L({year:r,label:"Forecast",field:e.code,event:u})},[t("span",null,h(i(C)(e.code,te(_,e.code,r,"Forecast",i(J)[r]||d.value))),1)],40,Cs),o[63]||(o[63]=t("td",{class:"px-2 py-1 text-right border border-green-200 bg-green-100 font-semibold font-mono",style:{"pointer-events":"none",opacity:"1"}}," 0.00% ",-1))],64)):(n(),s(a,{key:0},[(n(!0),s(a,null,f(T(r),u=>(n(),s(a,{key:r+"-"+u},[t("td",{contenteditable:"true",class:"px-2 py-1 text-right border border-green-200 bg-green-50 font-mono",onInput:m=>{D(m),oe({year:r,label:u,field:e.code,event:m})},onFocus:m=>i(re)({year:r,label:u,field:e.code,event:m}),onBlur:m=>L({year:r,label:u,field:e.code,event:m})},[t("span",null,h(i(C)(e.code,te(_,e.code,r,u,i(J)[r]||d.value))),1)],40,ws),o[61]||(o[61]=t("td",{class:"px-2 py-1 text-right border border-green-200 bg-green-100 font-semibold font-mono",style:{"pointer-events":"none",opacity:"1"}}," 0.00% ",-1))],64))),128)),t("td",{contenteditable:"true",class:"px-2 py-1 text-right border border-green-200 bg-green-50 font-mono",onInput:u=>{D(u),oe({year:r,label:"Forecast",field:e.code,event:u})},onFocus:u=>i(re)({year:r,label:"Forecast",field:e.code,event:u}),onBlur:u=>L({year:r,label:"Forecast",field:e.code,event:u})},[t("span",null,h(i(C)(e.code,te(_,e.code,r,"Forecast",i(J)[r]||d.value))),1)],40,ks),o[62]||(o[62]=t("td",{class:"px-2 py-1 text-right border border-green-200 bg-green-100 font-semibold font-mono",style:{"pointer-events":"none",opacity:"1"}}," 0.00% ",-1))],64))],64))),128))])):e.code==="total_health_club_rev_including_sc"?(n(),s("tr",Ss,[o[68]||(o[68]=t("td",{class:"px-3 py-2 border-r w-[300px] font-bold text-green-800 bg-green-200 flex justify-between items-end"},[t("span",null,"Total Health Club Rev Including SC"),t("span",{class:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800"},"Auto")],-1)),(n(!0),s(a,null,f(w.value,r=>(n(),s(a,{key:"row-"+r+"-"+e.code},[F(r)?(n(),s(a,{key:1},[t("td",js,h(i(C)(e.code,i(Be)(_,r,"Forecast"))),1),o[67]||(o[67]=t("td",{class:"px-2 py-1 text-right border border-green-200 bg-green-100 font-semibold font-mono",style:{"pointer-events":"none",opacity:"1"}}," 0.00% ",-1))],64)):(n(),s(a,{key:0},[(n(!0),s(a,null,f(T(r),u=>(n(),s(a,{key:r+"-"+u},[t("td",Fs,h(i(C)(e.code,i(Be)(_,r,u))),1),o[65]||(o[65]=t("td",{class:"px-2 py-1 text-right border border-green-200 bg-green-100 font-semibold font-mono",style:{"pointer-events":"none",opacity:"1"}}," 0.00% ",-1))],64))),128)),t("td",Ts,h(i(C)(e.code,i(Be)(_,r,"Forecast"))),1),o[66]||(o[66]=t("td",{class:"px-2 py-1 text-right border border-green-200 bg-green-100 font-semibold font-mono",style:{"pointer-events":"none",opacity:"1"}}," 0.00% ",-1))],64))],64))),128))])):(n(),s("tr",{key:7,class:V(["transition-all duration-200 border-b border-gray-100 hover:bg-green-50",q(e.code)?"bg-gradient-to-r from-green-100 to-green-50 border-green-300 font-semibold":"even:bg-gray-50"])},[t("td",{class:V(["px-3 py-2 border-r w-[300px]",q(e.code)?"font-bold text-green-800 bg-green-200":"font-medium text-gray-600"])},h(e.label),3),(n(!0),s(a,null,f(w.value,r=>(n(),s(a,{key:"row-"+r+"-"+e.code},[F(r)?(n(),s(a,{key:1},[t("td",{contenteditable:"true",class:V(["px-2 py-1 text-right border border-green-200 outline-none font-mono text-xs",q(e.code)?"bg-green-100 font-semibold":"bg-green-50"]),onInput:u=>{D(u),oe({year:r,label:"Forecast",field:e.code,event:u})},onFocus:u=>i(re)({year:r,label:"Forecast",field:e.code,event:u}),onBlur:u=>L({year:r,label:"Forecast",field:e.code,event:u})},[t("span",null,h(i(C)(e.code,te(_,e.code,r,"Forecast",i(J)[r]||d.value))),1)],42,Is),t("td",Ls,[e.code==="service_charge"?(n(),s(a,{key:0},[],64)):U("",!0)])],64)):(n(),s(a,{key:0},[(n(!0),s(a,null,f(T(r),u=>(n(),s(a,{key:r+"-"+u},[t("td",{contenteditable:"true",class:V(["px-2 py-1 text-right border border-green-200 outline-none focus:ring-2 focus:ring-green-500 transition-all duration-200",q(e.code)?"bg-green-100 hover:bg-green-200 font-semibold":"hover:bg-green-50"]),onInput:m=>{D(m),oe({year:r,label:u,field:e.code,event:m})},onFocus:m=>i(re)({year:r,label:u,field:e.code,event:m}),onBlur:m=>L({year:r,label:u,field:e.code,event:m})},[t("span",{class:V(["font-mono text-xs",q(e.code)?"text-green-800 font-semibold":""])},h(i(C)(e.code,te(_,e.code,r,u,i(J)[r]||d.value))),3)],42,Os),t("td",{class:V(["px-2 py-1 text-right border border-green-200 outline-none font-mono text-xs",q(e.code)?"bg-green-100 font-semibold":"bg-green-50"]),style:{"pointer-events":"none",opacity:"1"}},[e.code==="service_charge"?(n(),s(a,{key:0},[],64)):U("",!0)],2)],64))),128)),t("td",{contenteditable:"true",class:V(["px-2 py-1 text-right border border-green-200 outline-none focus:ring-2 focus:ring-green-500 transition-all duration-200",q(e.code)?"bg-green-100 hover:bg-green-200 font-semibold":"hover:bg-green-50"]),onInput:u=>{D(u),oe({year:r,label:"Forecast",field:e.code,event:u})},onFocus:u=>i(re)({year:r,label:"Forecast",field:e.code,event:u}),onBlur:u=>L({year:r,label:"Forecast",field:e.code,event:u})},[t("span",{class:V(["font-mono text-xs",q(e.code)?"text-green-800 font-semibold":""])},h(i(C)(e.code,te(_,e.code,r,"Forecast",i(J)[r]||d.value))),3)],42,Bs),t("td",{class:V(["px-2 py-1 text-right border border-green-200 outline-none font-mono text-xs",q(e.code)?"bg-green-100 font-semibold":"bg-green-50"]),style:{"pointer-events":"none",opacity:"1"}},[e.code==="service_charge"?(n(),s(a,{key:0},[],64)):U("",!0)],2)],64))],64))),128))],2))],64))),128))])])])])])])],64)):i(H)?(n(),K(fo,{key:2,"from-year":i(le),"to-year":i(ue)},null,8,["from-year","to-year"])):U("",!0):(n(),K(co,{key:0}))])])])]),R(ot,{name:"fade"},{default:tt(()=>[x.value?(n(),s("div",As,[t("div",Rs,[t("div",Ns,[R(i(Vt),{class:"w-6 h-6 text-white"}),o[69]||(o[69]=t("h2",{class:"text-xl font-bold text-white"},"Advanced Display Mode Settings",-1))]),t("div",Ms,[w.value.length?U("",!0):(n(),s("div",Ds,[R(i(Ut),{class:"w-6 h-6 text-yellow-600"}),o[70]||(o[70]=t("span",{class:"text-yellow-800 font-medium"},'Please select both "From Year" and "To Year" to configure advanced settings.',-1))])),w.value.length?(n(),s("div",Ys,[(n(!0),s(a,null,f(w.value,e=>(n(),s("div",{key:"adv-"+e,class:"flex justify-between items-center border-b pb-2"},[t("span",Es,[R(i(Et),{class:"w-4 h-4 text-violet-600"}),N(" "+h(e),1)]),me(t("select",{"onUpdate:modelValue":l=>k.value[e]=l,class:"px-6 py-2 border rounded-md focus:ring-violet-500"},o[71]||(o[71]=[t("option",{value:"monthly"},"Monthly",-1),t("option",{value:"quarterly"},"Quarterly",-1)]),8,Ps),[[Te,k.value[e]]])]))),128))])):U("",!0)]),t("div",Hs,[t("button",{onClick:vt,class:"px-4 py-2 rounded-md bg-gray-100 hover:bg-gray-200 text-gray-700 flex items-center gap-2"},[R(i(Gt),{class:"w-4 h-4"}),o[72]||(o[72]=N(" Cancel "))]),w.value.length?(n(),s("button",{key:0,onClick:mt,class:"px-4 py-2 rounded-md bg-violet-600 text-white hover:bg-violet-700 flex items-center gap-2"},[R(i($t),{class:"w-4 h-4"}),o[73]||(o[73]=N(" Apply "))])):U("",!0)])])])):U("",!0)]),_:1})],64))}},Xs=Me(Vs,[["__scopeId","data-v-2dcf707f"]]);export{Xs as default};
